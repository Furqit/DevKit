(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))v(p);new MutationObserver(p=>{for(const x of p)if(x.type==="childList")for(const y of x.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&v(y)}).observe(document,{childList:!0,subtree:!0});function f(p){const x={};return p.integrity&&(x.integrity=p.integrity),p.referrerPolicy&&(x.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?x.credentials="include":p.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function v(p){if(p.ep)return;p.ep=!0;const x=f(p);fetch(p.href,x)}})();var Lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tc(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Xo={exports:{}},us;function _r(){return us||(us=1,function(i,a){(function(f,v){i.exports=v()})(Lc,function(){var f=navigator.userAgent,v=navigator.platform,p=/gecko\/\d/i.test(f),x=/MSIE \d/.test(f),y=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(f),S=/Edge\/(\d+)/.exec(f),L=x||y||S,N=L&&(x?document.documentMode||6:+(S||y)[1]),B=!S&&/WebKit\//.test(f),_=B&&/Qt\/\d+\.\d+/.test(f),I=!S&&/Chrome\/(\d+)/.exec(f),U=I&&+I[1],K=/Opera\//.test(f),fe=/Apple Computer/.test(navigator.vendor),se=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(f),H=/PhantomJS/.test(f),M=fe&&(/Mobile\/\w+/.test(f)||navigator.maxTouchPoints>2),te=/Android/.test(f),oe=M||te||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(f),ce=M||/Mac/.test(v),ve=/\bCrOS\b/.test(f),D=/win/i.test(v),z=K&&f.match(/Version\/(\d*\.\d*)/);z&&(z=Number(z[1])),z&&z>=15&&(K=!1,B=!0);var V=ce&&(_||K&&(z==null||z<12.11)),J=p||L&&N>=9;function $(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var he=function(e,t){var n=e.className,r=$(t).exec(n);if(r){var o=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(o?r[1]+o:"")}};function A(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function W(e,t){return A(e).appendChild(t)}function w(e,t,n,r){var o=document.createElement(e);if(n&&(o.className=n),r&&(o.style.cssText=r),typeof t=="string")o.appendChild(document.createTextNode(t));else if(t)for(var l=0;l<t.length;++l)o.appendChild(t[l]);return o}function Me(e,t,n,r){var o=w(e,t,n,r);return o.setAttribute("role","presentation"),o}var Ae;document.createRange?Ae=function(e,t,n,r){var o=document.createRange();return o.setEnd(r||e,n),o.setStart(e,t),o}:Ae=function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch{return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};function j(e,t){if(t.nodeType==3&&(t=t.parentNode),e.contains)return e.contains(t);do if(t.nodeType==11&&(t=t.host),t==e)return!0;while(t=t.parentNode)}function le(e){var t=e.ownerDocument||e,n;try{n=e.activeElement}catch{n=t.body||null}for(;n&&n.shadowRoot&&n.shadowRoot.activeElement;)n=n.shadowRoot.activeElement;return n}function ue(e,t){var n=e.className;$(t).test(n)||(e.className+=(n?" ":"")+t)}function Ne(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!$(n[r]).test(t)&&(t+=" "+n[r]);return t}var at=function(e){e.select()};M?at=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:L&&(at=function(e){try{e.select()}catch{}});function Ye(e){return e.display.wrapper.ownerDocument}function we(e){return xe(e.display.wrapper)}function xe(e){return e.getRootNode?e.getRootNode():e.ownerDocument}function de(e){return Ye(e).defaultView}function re(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function ge(e,t,n){t||(t={});for(var r in e)e.hasOwnProperty(r)&&(n!==!1||!t.hasOwnProperty(r))&&(t[r]=e[r]);return t}function Le(e,t,n,r,o){t==null&&(t=e.search(/[^\s\u00a0]/),t==-1&&(t=e.length));for(var l=r||0,s=o||0;;){var u=e.indexOf("	",l);if(u<0||u>=t)return s+(t-l);s+=u-l,s+=n-s%n,l=u+1}}var Ht=function(){this.id=null,this.f=null,this.time=0,this.handler=re(this.onTimeout,this)};Ht.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},Ht.prototype.set=function(e,t){this.f=t;var n=+new Date+e;(!this.id||n<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=n)};function ye(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}var nt=50,ir={toString:function(){return"CodeMirror.Pass"}},xt={scroll:!1},Wt={origin:"*mouse"},wt={origin:"+move"};function Pt(e,t,n){for(var r=0,o=0;;){var l=e.indexOf("	",r);l==-1&&(l=e.length);var s=l-r;if(l==e.length||o+s>=t)return r+Math.min(s,t-o);if(o+=l-r,o+=n-o%n,r=l+1,o>=t)return r}}var jt=[""];function xn(e){for(;jt.length<=e;)jt.push(Ce(jt)+" ");return jt[e]}function Ce(e){return e[e.length-1]}function Sr(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function Ji(e,t,n){for(var r=0,o=n(t);r<e.length&&n(e[r])<=o;)r++;e.splice(r,0,t)}function oi(){}function li(e,t){var n;return Object.create?n=Object.create(e):(oi.prototype=e,n=new oi),t&&ge(t,n),n}var Qi=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function wn(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||Qi.test(e))}function qt(e,t){return t?t.source.indexOf("\\w")>-1&&wn(e)?!0:t.test(e):wn(e)}function ai(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var Xt=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Pe(e){return e.charCodeAt(0)>=768&&Xt.test(e)}function or(e,t,n){for(;(n<0?t>0:t<e.length)&&Pe(e.charAt(t));)t+=n;return t}function _t(e,t,n){for(var r=t>n?-1:1;;){if(t==n)return t;var o=(t+n)/2,l=r<0?Math.ceil(o):Math.floor(o);if(l==t)return e(l)?t:n;e(l)?n=l:t=l+r}}function lr(e,t,n,r){if(!e)return r(t,n,"ltr",0);for(var o=!1,l=0;l<e.length;++l){var s=e[l];(s.from<n&&s.to>t||t==n&&s.to==t)&&(r(Math.max(s.from,t),Math.min(s.to,n),s.level==1?"rtl":"ltr",l),o=!0)}o||r(t,n,"ltr")}var kr=null;function ar(e,t,n){var r;kr=null;for(var o=0;o<e.length;++o){var l=e[o];if(l.from<t&&l.to>t)return o;l.to==t&&(l.from!=l.to&&n=="before"?r=o:kr=o),l.from==t&&(l.from!=l.to&&n!="before"?r=o:kr=o)}return r??kr}var Zi=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function n(h){return h<=247?e.charAt(h):1424<=h&&h<=1524?"R":1536<=h&&h<=1785?t.charAt(h-1536):1774<=h&&h<=2220?"r":8192<=h&&h<=8203?"w":h==8204?"b":"L"}var r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,l=/[LRr]/,s=/[Lb1n]/,u=/[1n]/;function c(h,g,b){this.level=h,this.from=g,this.to=b}return function(h,g){var b=g=="ltr"?"L":"R";if(h.length==0||g=="ltr"&&!r.test(h))return!1;for(var k=h.length,C=[],E=0;E<k;++E)C.push(n(h.charCodeAt(E)));for(var F=0,R=b;F<k;++F){var Y=C[F];Y=="m"?C[F]=R:R=Y}for(var X=0,G=b;X<k;++X){var Q=C[X];Q=="1"&&G=="r"?C[X]="n":l.test(Q)&&(G=Q,Q=="r"&&(C[X]="R"))}for(var ie=1,ee=C[0];ie<k-1;++ie){var me=C[ie];me=="+"&&ee=="1"&&C[ie+1]=="1"?C[ie]="1":me==","&&ee==C[ie+1]&&(ee=="1"||ee=="n")&&(C[ie]=ee),ee=me}for(var Ee=0;Ee<k;++Ee){var Xe=C[Ee];if(Xe==",")C[Ee]="N";else if(Xe=="%"){var Ie=void 0;for(Ie=Ee+1;Ie<k&&C[Ie]=="%";++Ie);for(var mt=Ee&&C[Ee-1]=="!"||Ie<k&&C[Ie]=="1"?"1":"N",ht=Ee;ht<Ie;++ht)C[ht]=mt;Ee=Ie-1}}for(var _e=0,dt=b;_e<k;++_e){var Ze=C[_e];dt=="L"&&Ze=="1"?C[_e]="L":l.test(Ze)&&(dt=Ze)}for(var ze=0;ze<k;++ze)if(o.test(C[ze])){var Re=void 0;for(Re=ze+1;Re<k&&o.test(C[Re]);++Re);for(var He=(ze?C[ze-1]:b)=="L",pt=(Re<k?C[Re]:b)=="L",hn=He==pt?He?"L":"R":b,xr=ze;xr<Re;++xr)C[xr]=hn;ze=Re-1}for(var tt=[],Gt,Je=0;Je<k;)if(s.test(C[Je])){var jo=Je;for(++Je;Je<k&&s.test(C[Je]);++Je);tt.push(new c(0,jo,Je))}else{var rr=Je,Fr=tt.length,Br=g=="rtl"?1:0;for(++Je;Je<k&&C[Je]!="L";++Je);for(var ot=rr;ot<Je;)if(u.test(C[ot])){rr<ot&&(tt.splice(Fr,0,new c(1,rr,ot)),Fr+=Br);var dn=ot;for(++ot;ot<Je&&u.test(C[ot]);++ot);tt.splice(Fr,0,new c(2,dn,ot)),Fr+=Br,rr=ot}else++ot;rr<Je&&tt.splice(Fr,0,new c(1,rr,Je))}return g=="ltr"&&(tt[0].level==1&&(Gt=h.match(/^\s+/))&&(tt[0].from=Gt[0].length,tt.unshift(new c(0,0,Gt[0].length))),Ce(tt).level==1&&(Gt=h.match(/\s+$/))&&(Ce(tt).to-=Gt[0].length,tt.push(new c(0,k-Gt[0].length,k)))),g=="rtl"?tt.reverse():tt}}();function be(e,t){var n=e.order;return n==null&&(n=e.order=Zi(e.text,t)),n}var si=[],ne=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||si).concat(n)}};function Jt(e,t){return e._handlers&&e._handlers[t]||si}function Ve(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers,o=r&&r[t];if(o){var l=ye(o,n);l>-1&&(r[t]=o.slice(0,l).concat(o.slice(l+1)))}}}function De(e,t){var n=Jt(e,t);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),o=0;o<n.length;++o)n[o].apply(null,r)}function Fe(e,t,n){return typeof t=="string"&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),De(e,n||t.type,e,t),st(t)||t.codemirrorIgnore}function kt(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)ye(n,t[r])==-1&&n.push(t[r])}function gt(e,t){return Jt(e,t).length>0}function Tt(e){e.prototype.on=function(t,n){ne(this,t,n)},e.prototype.off=function(t,n){Ve(this,t,n)}}function $e(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Rr(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function st(e){return e.defaultPrevented!=null?e.defaultPrevented:e.returnValue==!1}function sr(e){$e(e),Rr(e)}function Cn(e){return e.target||e.srcElement}function At(e){var t=e.which;return t==null&&(e.button&1?t=1:e.button&2?t=3:e.button&4&&(t=2)),ce&&e.ctrlKey&&t==1&&(t=3),t}var Vi=function(){if(L&&N<9)return!1;var e=w("div");return"draggable"in e||"dragDrop"in e}(),zr;function ui(e){if(zr==null){var t=w("span","​");W(e,w("span",[t,document.createTextNode("x")])),e.firstChild.offsetHeight!=0&&(zr=t.offsetWidth<=1&&t.offsetHeight>2&&!(L&&N<8))}var n=zr?w("span","​"):w("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}var Sn;function ur(e){if(Sn!=null)return Sn;var t=W(e,document.createTextNode("AخA")),n=Ae(t,0,1).getBoundingClientRect(),r=Ae(t,1,2).getBoundingClientRect();return A(e),!n||n.left==n.right?!1:Sn=r.right-n.right<3}var Lt=`

b`.split(/\n/).length!=3?function(e){for(var t=0,n=[],r=e.length;t<=r;){var o=e.indexOf(`
`,t);o==-1&&(o=e.length);var l=e.slice(t,e.charAt(o-1)=="\r"?o-1:o),s=l.indexOf("\r");s!=-1?(n.push(l.slice(0,s)),t+=s+1):(n.push(l),t=o+1)}return n}:function(e){return e.split(/\r\n?|\n/)},fr=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch{return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch{}return!t||t.parentElement()!=e?!1:t.compareEndPoints("StartToEnd",t)!=0},fi=function(){var e=w("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),typeof e.oncopy=="function")}(),Et=null;function $i(e){if(Et!=null)return Et;var t=W(e,w("span","x")),n=t.getBoundingClientRect(),r=Ae(t,0,1).getBoundingClientRect();return Et=Math.abs(n.left-r.left)>1}var Ur={},Mt={};function Ot(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Ur[e]=t}function Lr(e,t){Mt[e]=t}function Yr(e){if(typeof e=="string"&&Mt.hasOwnProperty(e))e=Mt[e];else if(e&&typeof e.name=="string"&&Mt.hasOwnProperty(e.name)){var t=Mt[e.name];typeof t=="string"&&(t={name:t}),e=li(t,e),e.name=t.name}else{if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Yr("application/xml");if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Yr("application/json")}return typeof e=="string"?{name:e}:e||{name:"null"}}function Gr(e,t){t=Yr(t);var n=Ur[t.name];if(!n)return Gr(e,"text/plain");var r=n(e,t);if(cr.hasOwnProperty(t.name)){var o=cr[t.name];for(var l in o)o.hasOwnProperty(l)&&(r.hasOwnProperty(l)&&(r["_"+l]=r[l]),r[l]=o[l])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var s in t.modeProps)r[s]=t.modeProps[s];return r}var cr={};function Kr(e,t){var n=cr.hasOwnProperty(e)?cr[e]:cr[e]={};ge(t,n)}function Rt(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var o=t[r];o instanceof Array&&(o=o.concat([])),n[r]=o}return n}function kn(e,t){for(var n;e.innerMode&&(n=e.innerMode(t),!(!n||n.mode==e));)t=n.state,e=n.mode;return n||{mode:e,state:t}}function jr(e,t,n){return e.startState?e.startState(t,n):!0}var Be=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};Be.prototype.eol=function(){return this.pos>=this.string.length},Be.prototype.sol=function(){return this.pos==this.lineStart},Be.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Be.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Be.prototype.eat=function(e){var t=this.string.charAt(this.pos),n;if(typeof e=="string"?n=t==e:n=t&&(e.test?e.test(t):e(t)),n)return++this.pos,t},Be.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Be.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},Be.prototype.skipToEnd=function(){this.pos=this.string.length},Be.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Be.prototype.backUp=function(e){this.pos-=e},Be.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Le(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Le(this.string,this.lineStart,this.tabSize):0)},Be.prototype.indentation=function(){return Le(this.string,null,this.tabSize)-(this.lineStart?Le(this.string,this.lineStart,this.tabSize):0)},Be.prototype.match=function(e,t,n){if(typeof e=="string"){var r=function(s){return n?s.toLowerCase():s},o=this.string.substr(this.pos,e.length);if(r(o)==r(e))return t!==!1&&(this.pos+=e.length),!0}else{var l=this.string.slice(this.pos).match(e);return l&&l.index>0?null:(l&&t!==!1&&(this.pos+=l[0].length),l)}},Be.prototype.current=function(){return this.string.slice(this.start,this.pos)},Be.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Be.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Be.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};function Z(e,t){if(t-=e.first,t<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var o=n.children[r],l=o.chunkSize();if(t<l){n=o;break}t-=l}return n.lines[t]}function Qt(e,t,n){var r=[],o=t.line;return e.iter(t.line,n.line+1,function(l){var s=l.text;o==n.line&&(s=s.slice(0,n.ch)),o==t.line&&(s=s.slice(t.ch)),r.push(s),++o}),r}function Ln(e,t,n){var r=[];return e.iter(t,n,function(o){r.push(o.text)}),r}function Ct(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function d(e){if(e.parent==null)return null;for(var t=e.parent,n=ye(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var o=0;r.children[o]!=t;++o)n+=r.children[o].chunkSize();return n+t.first}function m(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var o=e.children[r],l=o.height;if(t<l){e=o;continue e}t-=l,n+=o.chunkSize()}return n}while(!e.lines);for(var s=0;s<e.lines.length;++s){var u=e.lines[s],c=u.height;if(t<c)break;t-=c}return n+s}function O(e,t){return t>=e.first&&t<e.first+e.size}function P(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function T(e,t,n){if(n===void 0&&(n=null),!(this instanceof T))return new T(e,t,n);this.line=e,this.ch=t,this.sticky=n}function q(e,t){return e.line-t.line||e.ch-t.ch}function Se(e,t){return e.sticky==t.sticky&&q(e,t)==0}function Ge(e){return T(e.line,e.ch)}function ut(e,t){return q(e,t)<0?t:e}function qr(e,t){return q(e,t)<0?e:t}function fl(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function pe(e,t){if(t.line<e.first)return T(e.first,0);var n=e.first+e.size-1;return t.line>n?T(n,Z(e,n).text.length):Lu(t,Z(e,t.line).text.length)}function Lu(e,t){var n=e.ch;return n==null||n>t?T(e.line,t):n<0?T(e.line,0):e}function cl(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=pe(e,t[r]);return n}var ci=function(e,t){this.state=e,this.lookAhead=t},zt=function(e,t,n,r){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};zt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return t!=null&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},zt.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},zt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},zt.fromSaved=function(e,t,n){return t instanceof ci?new zt(e,Rt(e.mode,t.state),n,t.lookAhead):new zt(e,Rt(e.mode,t),n)},zt.prototype.save=function(e){var t=e!==!1?Rt(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new ci(t,this.maxLookAhead):t};function hl(e,t,n,r){var o=[e.state.modeGen],l={};ml(e,t.text,e.doc.mode,n,function(h,g){return o.push(h,g)},l,r);for(var s=n.state,u=function(h){n.baseTokens=o;var g=e.state.overlays[h],b=1,k=0;n.state=!0,ml(e,t.text,g.mode,n,function(C,E){for(var F=b;k<C;){var R=o[b];R>C&&o.splice(b,1,C,o[b+1],R),b+=2,k=Math.min(C,R)}if(E)if(g.opaque)o.splice(F,b-F,C,"overlay "+E),b=F+2;else for(;F<b;F+=2){var Y=o[F+1];o[F+1]=(Y?Y+" ":"")+"overlay "+E}},l),n.state=s,n.baseTokens=null,n.baseTokenPos=1},c=0;c<e.state.overlays.length;++c)u(c);return{styles:o,classes:l.bgClass||l.textClass?l:null}}function dl(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=Tn(e,d(t)),o=t.text.length>e.options.maxHighlightLength&&Rt(e.doc.mode,r.state),l=hl(e,t,r);o&&(r.state=o),t.stateAfter=r.save(!o),t.styles=l.styles,l.classes?t.styleClasses=l.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function Tn(e,t,n){var r=e.doc,o=e.display;if(!r.mode.startState)return new zt(r,!0,t);var l=Tu(e,t,n),s=l>r.first&&Z(r,l-1).stateAfter,u=s?zt.fromSaved(r,s,l):new zt(r,jr(r.mode),l);return r.iter(l,t,function(c){eo(e,c.text,u);var h=u.line;c.stateAfter=h==t-1||h%5==0||h>=o.viewFrom&&h<o.viewTo?u.save():null,u.nextLine()}),n&&(r.modeFrontier=u.line),u}function eo(e,t,n,r){var o=e.doc.mode,l=new Be(t,e.options.tabSize,n);for(l.start=l.pos=r||0,t==""&&pl(o,n.state);!l.eol();)to(o,l,n.state),l.start=l.pos}function pl(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=kn(e,t);if(n.mode.blankLine)return n.mode.blankLine(n.state)}}function to(e,t,n,r){for(var o=0;o<10;o++){r&&(r[0]=kn(e,n).mode);var l=e.token(t,n);if(t.pos>t.start)return l}throw new Error("Mode "+e.name+" failed to advance stream.")}var vl=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n};function gl(e,t,n,r){var o=e.doc,l=o.mode,s;t=pe(o,t);var u=Z(o,t.line),c=Tn(e,t.line,n),h=new Be(u.text,e.options.tabSize,c),g;for(r&&(g=[]);(r||h.pos<t.ch)&&!h.eol();)h.start=h.pos,s=to(l,h,c.state),r&&g.push(new vl(h,s,Rt(o.mode,c.state)));return r?g:new vl(h,s,c.state)}function yl(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";t[r]==null?t[r]=n[2]:new RegExp("(?:^|\\s)"+n[2]+"(?:$|\\s)").test(t[r])||(t[r]+=" "+n[2])}return e}function ml(e,t,n,r,o,l,s){var u=n.flattenSpans;u==null&&(u=e.options.flattenSpans);var c=0,h=null,g=new Be(t,e.options.tabSize,r),b,k=e.options.addModeClass&&[null];for(t==""&&yl(pl(n,r.state),l);!g.eol();){if(g.pos>e.options.maxHighlightLength?(u=!1,s&&eo(e,t,r,g.pos),g.pos=t.length,b=null):b=yl(to(n,g,r.state,k),l),k){var C=k[0].name;C&&(b="m-"+(b?C+" "+b:C))}if(!u||h!=b){for(;c<g.start;)c=Math.min(g.start,c+5e3),o(c,h);h=b}g.start=g.pos}for(;c<g.pos;){var E=Math.min(g.pos,c+5e3);o(E,h),c=E}}function Tu(e,t,n){for(var r,o,l=e.doc,s=n?-1:t-(e.doc.mode.innerMode?1e3:100),u=t;u>s;--u){if(u<=l.first)return l.first;var c=Z(l,u-1),h=c.stateAfter;if(h&&(!n||u+(h instanceof ci?h.lookAhead:0)<=l.modeFrontier))return u;var g=Le(c.text,null,e.options.tabSize);(o==null||r>g)&&(o=u-1,r=g)}return o}function Au(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,r=t-1;r>n;r--){var o=Z(e,r).stateAfter;if(o&&(!(o instanceof ci)||r+o.lookAhead<t)){n=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}}var bl=!1,Zt=!1;function Eu(){bl=!0}function Mu(){Zt=!0}function hi(e,t,n){this.marker=e,this.from=t,this.to=n}function An(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function Ou(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function Nu(e,t,n){var r=n&&window.WeakSet&&(n.markedSpans||(n.markedSpans=new WeakSet));r&&e.markedSpans&&r.has(e.markedSpans)?e.markedSpans.push(t):(e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],r&&r.add(e.markedSpans)),t.marker.attachLine(e)}function Iu(e,t,n){var r;if(e)for(var o=0;o<e.length;++o){var l=e[o],s=l.marker,u=l.from==null||(s.inclusiveLeft?l.from<=t:l.from<t);if(u||l.from==t&&s.type=="bookmark"&&(!n||!l.marker.insertLeft)){var c=l.to==null||(s.inclusiveRight?l.to>=t:l.to>t);(r||(r=[])).push(new hi(s,l.from,c?null:l.to))}}return r}function Du(e,t,n){var r;if(e)for(var o=0;o<e.length;++o){var l=e[o],s=l.marker,u=l.to==null||(s.inclusiveRight?l.to>=t:l.to>t);if(u||l.from==t&&s.type=="bookmark"&&(!n||l.marker.insertLeft)){var c=l.from==null||(s.inclusiveLeft?l.from<=t:l.from<t);(r||(r=[])).push(new hi(s,c?null:l.from-t,l.to==null?null:l.to-t))}}return r}function ro(e,t){if(t.full)return null;var n=O(e,t.from.line)&&Z(e,t.from.line).markedSpans,r=O(e,t.to.line)&&Z(e,t.to.line).markedSpans;if(!n&&!r)return null;var o=t.from.ch,l=t.to.ch,s=q(t.from,t.to)==0,u=Iu(n,o,s),c=Du(r,l,s),h=t.text.length==1,g=Ce(t.text).length+(h?o:0);if(u)for(var b=0;b<u.length;++b){var k=u[b];if(k.to==null){var C=An(c,k.marker);C?h&&(k.to=C.to==null?null:C.to+g):k.to=o}}if(c)for(var E=0;E<c.length;++E){var F=c[E];if(F.to!=null&&(F.to+=g),F.from==null){var R=An(u,F.marker);R||(F.from=g,h&&(u||(u=[])).push(F))}else F.from+=g,h&&(u||(u=[])).push(F)}u&&(u=xl(u)),c&&c!=u&&(c=xl(c));var Y=[u];if(!h){var X=t.text.length-2,G;if(X>0&&u)for(var Q=0;Q<u.length;++Q)u[Q].to==null&&(G||(G=[])).push(new hi(u[Q].marker,null,null));for(var ie=0;ie<X;++ie)Y.push(G);Y.push(c)}return Y}function xl(e){for(var t=0;t<e.length;++t){var n=e[t];n.from!=null&&n.from==n.to&&n.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function Fu(e,t,n){var r=null;if(e.iter(t.line,n.line+1,function(C){if(C.markedSpans)for(var E=0;E<C.markedSpans.length;++E){var F=C.markedSpans[E].marker;F.readOnly&&(!r||ye(r,F)==-1)&&(r||(r=[])).push(F)}}),!r)return null;for(var o=[{from:t,to:n}],l=0;l<r.length;++l)for(var s=r[l],u=s.find(0),c=0;c<o.length;++c){var h=o[c];if(!(q(h.to,u.from)<0||q(h.from,u.to)>0)){var g=[c,1],b=q(h.from,u.from),k=q(h.to,u.to);(b<0||!s.inclusiveLeft&&!b)&&g.push({from:h.from,to:u.from}),(k>0||!s.inclusiveRight&&!k)&&g.push({from:u.to,to:h.to}),o.splice.apply(o,g),c+=g.length-3}}return o}function wl(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function Cl(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function di(e){return e.inclusiveLeft?-1:0}function pi(e){return e.inclusiveRight?1:0}function no(e,t){var n=e.lines.length-t.lines.length;if(n!=0)return n;var r=e.find(),o=t.find(),l=q(r.from,o.from)||di(e)-di(t);if(l)return-l;var s=q(r.to,o.to)||pi(e)-pi(t);return s||t.id-e.id}function Sl(e,t){var n=Zt&&e.markedSpans,r;if(n)for(var o=void 0,l=0;l<n.length;++l)o=n[l],o.marker.collapsed&&(t?o.from:o.to)==null&&(!r||no(r,o.marker)<0)&&(r=o.marker);return r}function kl(e){return Sl(e,!0)}function vi(e){return Sl(e,!1)}function Bu(e,t){var n=Zt&&e.markedSpans,r;if(n)for(var o=0;o<n.length;++o){var l=n[o];l.marker.collapsed&&(l.from==null||l.from<t)&&(l.to==null||l.to>t)&&(!r||no(r,l.marker)<0)&&(r=l.marker)}return r}function Ll(e,t,n,r,o){var l=Z(e,t),s=Zt&&l.markedSpans;if(s)for(var u=0;u<s.length;++u){var c=s[u];if(c.marker.collapsed){var h=c.marker.find(0),g=q(h.from,n)||di(c.marker)-di(o),b=q(h.to,r)||pi(c.marker)-pi(o);if(!(g>=0&&b<=0||g<=0&&b>=0)&&(g<=0&&(c.marker.inclusiveRight&&o.inclusiveLeft?q(h.to,n)>=0:q(h.to,n)>0)||g>=0&&(c.marker.inclusiveRight&&o.inclusiveLeft?q(h.from,r)<=0:q(h.from,r)<0)))return!0}}}function Nt(e){for(var t;t=kl(e);)e=t.find(-1,!0).line;return e}function Hu(e){for(var t;t=vi(e);)e=t.find(1,!0).line;return e}function Wu(e){for(var t,n;t=vi(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function io(e,t){var n=Z(e,t),r=Nt(n);return n==r?t:d(r)}function Tl(e,t){if(t>e.lastLine())return t;var n=Z(e,t),r;if(!hr(e,n))return t;for(;r=vi(n);)n=r.find(1,!0).line;return d(n)+1}function hr(e,t){var n=Zt&&t.markedSpans;if(n){for(var r=void 0,o=0;o<n.length;++o)if(r=n[o],!!r.marker.collapsed){if(r.from==null)return!0;if(!r.marker.widgetNode&&r.from==0&&r.marker.inclusiveLeft&&oo(e,t,r))return!0}}}function oo(e,t,n){if(n.to==null){var r=n.marker.find(1,!0);return oo(e,r.line,An(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var o=void 0,l=0;l<t.markedSpans.length;++l)if(o=t.markedSpans[l],o.marker.collapsed&&!o.marker.widgetNode&&o.from==n.to&&(o.to==null||o.to!=n.from)&&(o.marker.inclusiveLeft||n.marker.inclusiveRight)&&oo(e,t,o))return!0}function Vt(e){e=Nt(e);for(var t=0,n=e.parent,r=0;r<n.lines.length;++r){var o=n.lines[r];if(o==e)break;t+=o.height}for(var l=n.parent;l;n=l,l=n.parent)for(var s=0;s<l.children.length;++s){var u=l.children[s];if(u==n)break;t+=u.height}return t}function gi(e){if(e.height==0)return 0;for(var t=e.text.length,n,r=e;n=kl(r);){var o=n.find(0,!0);r=o.from.line,t+=o.from.ch-o.to.ch}for(r=e;n=vi(r);){var l=n.find(0,!0);t-=r.text.length-l.from.ch,r=l.to.line,t+=r.text.length-l.to.ch}return t}function lo(e){var t=e.display,n=e.doc;t.maxLine=Z(n,n.first),t.maxLineLength=gi(t.maxLine),t.maxLineChanged=!0,n.iter(function(r){var o=gi(r);o>t.maxLineLength&&(t.maxLineLength=o,t.maxLine=r)})}var Xr=function(e,t,n){this.text=e,Cl(this,t),this.height=n?n(this):1};Xr.prototype.lineNo=function(){return d(this)},Tt(Xr);function Pu(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),e.order!=null&&(e.order=null),wl(e),Cl(e,n);var o=r?r(e):1;o!=e.height&&Ct(e,o)}function _u(e){e.parent=null,wl(e)}var Ru={},zu={};function Al(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?zu:Ru;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function El(e,t){var n=Me("span",null,null,B?"padding-right: .1px":null),r={pre:Me("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var o=0;o<=(t.rest?t.rest.length:0);o++){var l=o?t.rest[o-1]:t.line,s=void 0;r.pos=0,r.addToken=Yu,ur(e.display.measure)&&(s=be(l,e.doc.direction))&&(r.addToken=Ku(r.addToken,s)),r.map=[];var u=t!=e.display.externalMeasured&&d(l);ju(l,r,dl(e,l,u)),l.styleClasses&&(l.styleClasses.bgClass&&(r.bgClass=Ne(l.styleClasses.bgClass,r.bgClass||"")),l.styleClasses.textClass&&(r.textClass=Ne(l.styleClasses.textClass,r.textClass||""))),r.map.length==0&&r.map.push(0,0,r.content.appendChild(ui(e.display.measure))),o==0?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(B){var c=r.content.lastChild;(/\bcm-tab\b/.test(c.className)||c.querySelector&&c.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return De(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=Ne(r.pre.className,r.textClass||"")),r}function Uu(e){var t=w("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Yu(e,t,n,r,o,l,s){if(t){var u=e.splitSpaces?Gu(t,e.trailingSpace):t,c=e.cm.state.specialChars,h=!1,g;if(!c.test(t))e.col+=t.length,g=document.createTextNode(u),e.map.push(e.pos,e.pos+t.length,g),L&&N<9&&(h=!0),e.pos+=t.length;else{g=document.createDocumentFragment();for(var b=0;;){c.lastIndex=b;var k=c.exec(t),C=k?k.index-b:t.length-b;if(C){var E=document.createTextNode(u.slice(b,b+C));L&&N<9?g.appendChild(w("span",[E])):g.appendChild(E),e.map.push(e.pos,e.pos+C,E),e.col+=C,e.pos+=C}if(!k)break;b+=C+1;var F=void 0;if(k[0]=="	"){var R=e.cm.options.tabSize,Y=R-e.col%R;F=g.appendChild(w("span",xn(Y),"cm-tab")),F.setAttribute("role","presentation"),F.setAttribute("cm-text","	"),e.col+=Y}else k[0]=="\r"||k[0]==`
`?(F=g.appendChild(w("span",k[0]=="\r"?"␍":"␤","cm-invalidchar")),F.setAttribute("cm-text",k[0]),e.col+=1):(F=e.cm.options.specialCharPlaceholder(k[0]),F.setAttribute("cm-text",k[0]),L&&N<9?g.appendChild(w("span",[F])):g.appendChild(F),e.col+=1);e.map.push(e.pos,e.pos+1,F),e.pos++}}if(e.trailingSpace=u.charCodeAt(t.length-1)==32,n||r||o||h||l||s){var X=n||"";r&&(X+=r),o&&(X+=o);var G=w("span",[g],X,l);if(s)for(var Q in s)s.hasOwnProperty(Q)&&Q!="style"&&Q!="class"&&G.setAttribute(Q,s[Q]);return e.content.appendChild(G)}e.content.appendChild(g)}}function Gu(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,r="",o=0;o<e.length;o++){var l=e.charAt(o);l==" "&&n&&(o==e.length-1||e.charCodeAt(o+1)==32)&&(l=" "),r+=l,n=l==" "}return r}function Ku(e,t){return function(n,r,o,l,s,u,c){o=o?o+" cm-force-border":"cm-force-border";for(var h=n.pos,g=h+r.length;;){for(var b=void 0,k=0;k<t.length&&(b=t[k],!(b.to>h&&b.from<=h));k++);if(b.to>=g)return e(n,r,o,l,s,u,c);e(n,r.slice(0,b.to-h),o,l,null,u,c),l=null,r=r.slice(b.to-h),h=b.to}}}function Ml(e,t,n,r){var o=!r&&n.widgetNode;o&&e.map.push(e.pos,e.pos+t,o),!r&&e.cm.display.input.needsContentAttribute&&(o||(o=e.content.appendChild(document.createElement("span"))),o.setAttribute("cm-marker",n.id)),o&&(e.cm.display.input.setUneditable(o),e.content.appendChild(o)),e.pos+=t,e.trailingSpace=!1}function ju(e,t,n){var r=e.markedSpans,o=e.text,l=0;if(!r){for(var s=1;s<n.length;s+=2)t.addToken(t,o.slice(l,l=n[s]),Al(n[s+1],t.cm.options));return}for(var u=o.length,c=0,h=1,g="",b,k,C=0,E,F,R,Y,X;;){if(C==c){E=F=R=k="",X=null,Y=null,C=1/0;for(var G=[],Q=void 0,ie=0;ie<r.length;++ie){var ee=r[ie],me=ee.marker;if(me.type=="bookmark"&&ee.from==c&&me.widgetNode)G.push(me);else if(ee.from<=c&&(ee.to==null||ee.to>c||me.collapsed&&ee.to==c&&ee.from==c)){if(ee.to!=null&&ee.to!=c&&C>ee.to&&(C=ee.to,F=""),me.className&&(E+=" "+me.className),me.css&&(k=(k?k+";":"")+me.css),me.startStyle&&ee.from==c&&(R+=" "+me.startStyle),me.endStyle&&ee.to==C&&(Q||(Q=[])).push(me.endStyle,ee.to),me.title&&((X||(X={})).title=me.title),me.attributes)for(var Ee in me.attributes)(X||(X={}))[Ee]=me.attributes[Ee];me.collapsed&&(!Y||no(Y.marker,me)<0)&&(Y=ee)}else ee.from>c&&C>ee.from&&(C=ee.from)}if(Q)for(var Xe=0;Xe<Q.length;Xe+=2)Q[Xe+1]==C&&(F+=" "+Q[Xe]);if(!Y||Y.from==c)for(var Ie=0;Ie<G.length;++Ie)Ml(t,0,G[Ie]);if(Y&&(Y.from||0)==c){if(Ml(t,(Y.to==null?u+1:Y.to)-c,Y.marker,Y.from==null),Y.to==null)return;Y.to==c&&(Y=!1)}}if(c>=u)break;for(var mt=Math.min(u,C);;){if(g){var ht=c+g.length;if(!Y){var _e=ht>mt?g.slice(0,mt-c):g;t.addToken(t,_e,b?b+E:E,R,c+_e.length==C?F:"",k,X)}if(ht>=mt){g=g.slice(mt-c),c=mt;break}c=ht,R=""}g=o.slice(l,l=n[h++]),b=Al(n[h++],t.cm.options)}}}function Ol(e,t,n){this.line=t,this.rest=Wu(t),this.size=this.rest?d(Ce(this.rest))-n+1:1,this.node=this.text=null,this.hidden=hr(e,t)}function yi(e,t,n){for(var r=[],o,l=t;l<n;l=o){var s=new Ol(e.doc,Z(e.doc,l),l);o=l+s.size,r.push(s)}return r}var Jr=null;function qu(e){Jr?Jr.ops.push(e):e.ownsGroup=Jr={ops:[e],delayedCallbacks:[]}}function Xu(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var o=e.ops[r];if(o.cursorActivityHandlers)for(;o.cursorActivityCalled<o.cursorActivityHandlers.length;)o.cursorActivityHandlers[o.cursorActivityCalled++].call(null,o.cm)}}while(n<t.length)}function Ju(e,t){var n=e.ownsGroup;if(n)try{Xu(n)}finally{Jr=null,t(n)}}var En=null;function Ke(e,t){var n=Jt(e,t);if(n.length){var r=Array.prototype.slice.call(arguments,2),o;Jr?o=Jr.delayedCallbacks:En?o=En:(o=En=[],setTimeout(Qu,0));for(var l=function(u){o.push(function(){return n[u].apply(null,r)})},s=0;s<n.length;++s)l(s)}}function Qu(){var e=En;En=null;for(var t=0;t<e.length;++t)e[t]()}function Nl(e,t,n,r){for(var o=0;o<t.changes.length;o++){var l=t.changes[o];l=="text"?Vu(e,t):l=="gutter"?Dl(e,t,n,r):l=="class"?ao(e,t):l=="widget"&&$u(e,t,r)}t.changes=null}function Mn(e){return e.node==e.text&&(e.node=w("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),L&&N<8&&(e.node.style.zIndex=2)),e.node}function Zu(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var r=Mn(t);t.background=r.insertBefore(w("div",null,n),r.firstChild),e.display.input.setUneditable(t.background)}}function Il(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):El(e,t)}function Vu(e,t){var n=t.text.className,r=Il(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,ao(e,t)):n&&(t.text.className=n)}function ao(e,t){Zu(e,t),t.line.wrapClass?Mn(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function Dl(e,t,n,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var o=Mn(t);t.gutterBackground=w("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),o.insertBefore(t.gutterBackground,t.text)}var l=t.line.gutterMarkers;if(e.options.lineNumbers||l){var s=Mn(t),u=t.gutter=w("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(u.setAttribute("aria-hidden","true"),e.display.input.setUneditable(u),s.insertBefore(u,t.text),t.line.gutterClass&&(u.className+=" "+t.line.gutterClass),e.options.lineNumbers&&(!l||!l["CodeMirror-linenumbers"])&&(t.lineNumber=u.appendChild(w("div",P(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),l)for(var c=0;c<e.display.gutterSpecs.length;++c){var h=e.display.gutterSpecs[c].className,g=l.hasOwnProperty(h)&&l[h];g&&u.appendChild(w("div",[g],"CodeMirror-gutter-elt","left: "+r.gutterLeft[h]+"px; width: "+r.gutterWidth[h]+"px"))}}}function $u(e,t,n){t.alignable&&(t.alignable=null);for(var r=$("CodeMirror-linewidget"),o=t.node.firstChild,l=void 0;o;o=l)l=o.nextSibling,r.test(o.className)&&t.node.removeChild(o);Fl(e,t,n)}function ef(e,t,n,r){var o=Il(e,t);return t.text=t.node=o.pre,o.bgClass&&(t.bgClass=o.bgClass),o.textClass&&(t.textClass=o.textClass),ao(e,t),Dl(e,t,n,r),Fl(e,t,r),t.node}function Fl(e,t,n){if(Bl(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)Bl(e,t.rest[r],t,n,!1)}function Bl(e,t,n,r,o){if(t.widgets)for(var l=Mn(n),s=0,u=t.widgets;s<u.length;++s){var c=u[s],h=w("div",[c.node],"CodeMirror-linewidget"+(c.className?" "+c.className:""));c.handleMouseEvents||h.setAttribute("cm-ignore-events","true"),tf(c,h,n,r),e.display.input.setUneditable(h),o&&c.above?l.insertBefore(h,n.gutter||n.text):l.appendChild(h),Ke(c,"redraw")}}function tf(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var o=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(o-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=o+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function On(e){if(e.height!=null)return e.height;var t=e.doc.cm;if(!t)return 0;if(!j(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),W(t.display.measure,w("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function $t(e,t){for(var n=Cn(t);n!=e.wrapper;n=n.parentNode)if(!n||n.nodeType==1&&n.getAttribute("cm-ignore-events")=="true"||n.parentNode==e.sizer&&n!=e.mover)return!0}function mi(e){return e.lineSpace.offsetTop}function so(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Hl(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=W(e.measure,w("pre","x","CodeMirror-line-like")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return!isNaN(r.left)&&!isNaN(r.right)&&(e.cachedPaddingH=r),r}function Ut(e){return nt-e.display.nativeBarWidth}function Tr(e){return e.display.scroller.clientWidth-Ut(e)-e.display.barWidth}function uo(e){return e.display.scroller.clientHeight-Ut(e)-e.display.barHeight}function rf(e,t,n){var r=e.options.lineWrapping,o=r&&Tr(e);if(!t.measure.heights||r&&t.measure.width!=o){var l=t.measure.heights=[];if(r){t.measure.width=o;for(var s=t.text.firstChild.getClientRects(),u=0;u<s.length-1;u++){var c=s[u],h=s[u+1];Math.abs(c.bottom-h.bottom)>2&&l.push((c.bottom+h.top)/2-n.top)}}l.push(n.bottom-n.top)}}function Wl(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};if(e.rest){for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var o=0;o<e.rest.length;o++)if(d(e.rest[o])>n)return{map:e.measure.maps[o],cache:e.measure.caches[o],before:!0}}}function nf(e,t){t=Nt(t);var n=d(t),r=e.display.externalMeasured=new Ol(e.doc,t,n);r.lineN=n;var o=r.built=El(e,r);return r.text=o.pre,W(e.display.lineMeasure,o.pre),r}function Pl(e,t,n,r){return Yt(e,Qr(e,t),n,r)}function fo(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Mr(e,t)];var n=e.display.externalMeasured;if(n&&t>=n.lineN&&t<n.lineN+n.size)return n}function Qr(e,t){var n=d(t),r=fo(e,n);r&&!r.text?r=null:r&&r.changes&&(Nl(e,r,n,go(e)),e.curOp.forceUpdate=!0),r||(r=nf(e,t));var o=Wl(r,t,n);return{line:t,view:r,rect:null,map:o.map,cache:o.cache,before:o.before,hasHeights:!1}}function Yt(e,t,n,r,o){t.before&&(n=-1);var l=n+(r||""),s;return t.cache.hasOwnProperty(l)?s=t.cache[l]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(rf(e,t.view,t.rect),t.hasHeights=!0),s=lf(e,t,n,r),s.bogus||(t.cache[l]=s)),{left:s.left,right:s.right,top:o?s.rtop:s.top,bottom:o?s.rbottom:s.bottom}}var _l={left:0,right:0,top:0,bottom:0};function Rl(e,t,n){for(var r,o,l,s,u,c,h=0;h<e.length;h+=3)if(u=e[h],c=e[h+1],t<u?(o=0,l=1,s="left"):t<c?(o=t-u,l=o+1):(h==e.length-3||t==c&&e[h+3]>t)&&(l=c-u,o=l-1,t>=c&&(s="right")),o!=null){if(r=e[h+2],u==c&&n==(r.insertLeft?"left":"right")&&(s=n),n=="left"&&o==0)for(;h&&e[h-2]==e[h-3]&&e[h-1].insertLeft;)r=e[(h-=3)+2],s="left";if(n=="right"&&o==c-u)for(;h<e.length-3&&e[h+3]==e[h+4]&&!e[h+5].insertLeft;)r=e[(h+=3)+2],s="right";break}return{node:r,start:o,end:l,collapse:s,coverStart:u,coverEnd:c}}function of(e,t){var n=_l;if(t=="left")for(var r=0;r<e.length&&(n=e[r]).left==n.right;r++);else for(var o=e.length-1;o>=0&&(n=e[o]).left==n.right;o--);return n}function lf(e,t,n,r){var o=Rl(t.map,n,r),l=o.node,s=o.start,u=o.end,c=o.collapse,h;if(l.nodeType==3){for(var g=0;g<4;g++){for(;s&&Pe(t.line.text.charAt(o.coverStart+s));)--s;for(;o.coverStart+u<o.coverEnd&&Pe(t.line.text.charAt(o.coverStart+u));)++u;if(L&&N<9&&s==0&&u==o.coverEnd-o.coverStart?h=l.parentNode.getBoundingClientRect():h=of(Ae(l,s,u).getClientRects(),r),h.left||h.right||s==0)break;u=s,s=s-1,c="right"}L&&N<11&&(h=af(e.display.measure,h))}else{s>0&&(c=r="right");var b;e.options.lineWrapping&&(b=l.getClientRects()).length>1?h=b[r=="right"?b.length-1:0]:h=l.getBoundingClientRect()}if(L&&N<9&&!s&&(!h||!h.left&&!h.right)){var k=l.parentNode.getClientRects()[0];k?h={left:k.left,right:k.left+Vr(e.display),top:k.top,bottom:k.bottom}:h=_l}for(var C=h.top-t.rect.top,E=h.bottom-t.rect.top,F=(C+E)/2,R=t.view.measure.heights,Y=0;Y<R.length-1&&!(F<R[Y]);Y++);var X=Y?R[Y-1]:0,G=R[Y],Q={left:(c=="right"?h.right:h.left)-t.rect.left,right:(c=="left"?h.left:h.right)-t.rect.left,top:X,bottom:G};return!h.left&&!h.right&&(Q.bogus=!0),e.options.singleCursorHeightPerLine||(Q.rtop=C,Q.rbottom=E),Q}function af(e,t){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!$i(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}function zl(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function Ul(e){e.display.externalMeasure=null,A(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)zl(e.display.view[t])}function Nn(e){Ul(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Yl(e){return I&&te?-(e.body.getBoundingClientRect().left-parseInt(getComputedStyle(e.body).marginLeft)):e.defaultView.pageXOffset||(e.documentElement||e.body).scrollLeft}function Gl(e){return I&&te?-(e.body.getBoundingClientRect().top-parseInt(getComputedStyle(e.body).marginTop)):e.defaultView.pageYOffset||(e.documentElement||e.body).scrollTop}function co(e){var t=Nt(e),n=t.widgets,r=0;if(n)for(var o=0;o<n.length;++o)n[o].above&&(r+=On(n[o]));return r}function bi(e,t,n,r,o){if(!o){var l=co(t);n.top+=l,n.bottom+=l}if(r=="line")return n;r||(r="local");var s=Vt(t);if(r=="local"?s+=mi(e.display):s-=e.display.viewOffset,r=="page"||r=="window"){var u=e.display.lineSpace.getBoundingClientRect();s+=u.top+(r=="window"?0:Gl(Ye(e)));var c=u.left+(r=="window"?0:Yl(Ye(e)));n.left+=c,n.right+=c}return n.top+=s,n.bottom+=s,n}function Kl(e,t,n){if(n=="div")return t;var r=t.left,o=t.top;if(n=="page")r-=Yl(Ye(e)),o-=Gl(Ye(e));else if(n=="local"||!n){var l=e.display.sizer.getBoundingClientRect();r+=l.left,o+=l.top}var s=e.display.lineSpace.getBoundingClientRect();return{left:r-s.left,top:o-s.top}}function xi(e,t,n,r,o){return r||(r=Z(e.doc,t.line)),bi(e,r,Pl(e,r,t.ch,o),n)}function It(e,t,n,r,o,l){r=r||Z(e.doc,t.line),o||(o=Qr(e,r));function s(E,F){var R=Yt(e,o,E,F?"right":"left",l);return F?R.left=R.right:R.right=R.left,bi(e,r,R,n)}var u=be(r,e.doc.direction),c=t.ch,h=t.sticky;if(c>=r.text.length?(c=r.text.length,h="before"):c<=0&&(c=0,h="after"),!u)return s(h=="before"?c-1:c,h=="before");function g(E,F,R){var Y=u[F],X=Y.level==1;return s(R?E-1:E,X!=R)}var b=ar(u,c,h),k=kr,C=g(c,b,h=="before");return k!=null&&(C.other=g(c,k,h!="before")),C}function jl(e,t){var n=0;t=pe(e.doc,t),e.options.lineWrapping||(n=Vr(e.display)*t.ch);var r=Z(e.doc,t.line),o=Vt(r)+mi(e.display);return{left:n,right:n,top:o,bottom:o+r.height}}function ho(e,t,n,r,o){var l=T(e,t,n);return l.xRel=o,r&&(l.outside=r),l}function po(e,t,n){var r=e.doc;if(n+=e.display.viewOffset,n<0)return ho(r.first,0,null,-1,-1);var o=m(r,n),l=r.first+r.size-1;if(o>l)return ho(r.first+r.size-1,Z(r,l).text.length,null,1,1);t<0&&(t=0);for(var s=Z(r,o);;){var u=sf(e,s,o,t,n),c=Bu(s,u.ch+(u.xRel>0||u.outside>0?1:0));if(!c)return u;var h=c.find(1);if(h.line==o)return h;s=Z(r,o=h.line)}}function ql(e,t,n,r){r-=co(t);var o=t.text.length,l=_t(function(s){return Yt(e,n,s-1).bottom<=r},o,0);return o=_t(function(s){return Yt(e,n,s).top>r},l,o),{begin:l,end:o}}function Xl(e,t,n,r){n||(n=Qr(e,t));var o=bi(e,t,Yt(e,n,r),"line").top;return ql(e,t,n,o)}function vo(e,t,n,r){return e.bottom<=n?!1:e.top>n?!0:(r?e.left:e.right)>t}function sf(e,t,n,r,o){o-=Vt(t);var l=Qr(e,t),s=co(t),u=0,c=t.text.length,h=!0,g=be(t,e.doc.direction);if(g){var b=(e.options.lineWrapping?ff:uf)(e,t,n,l,g,r,o);h=b.level!=1,u=h?b.from:b.to-1,c=h?b.to:b.from-1}var k=null,C=null,E=_t(function(ie){var ee=Yt(e,l,ie);return ee.top+=s,ee.bottom+=s,vo(ee,r,o,!1)?(ee.top<=o&&ee.left<=r&&(k=ie,C=ee),!0):!1},u,c),F,R,Y=!1;if(C){var X=r-C.left<C.right-r,G=X==h;E=k+(G?0:1),R=G?"after":"before",F=X?C.left:C.right}else{!h&&(E==c||E==u)&&E++,R=E==0?"after":E==t.text.length?"before":Yt(e,l,E-(h?1:0)).bottom+s<=o==h?"after":"before";var Q=It(e,T(n,E,R),"line",t,l);F=Q.left,Y=o<Q.top?-1:o>=Q.bottom?1:0}return E=or(t.text,E,1),ho(n,E,R,Y,r-F)}function uf(e,t,n,r,o,l,s){var u=_t(function(b){var k=o[b],C=k.level!=1;return vo(It(e,T(n,C?k.to:k.from,C?"before":"after"),"line",t,r),l,s,!0)},0,o.length-1),c=o[u];if(u>0){var h=c.level!=1,g=It(e,T(n,h?c.from:c.to,h?"after":"before"),"line",t,r);vo(g,l,s,!0)&&g.top>s&&(c=o[u-1])}return c}function ff(e,t,n,r,o,l,s){var u=ql(e,t,r,s),c=u.begin,h=u.end;/\s/.test(t.text.charAt(h-1))&&h--;for(var g=null,b=null,k=0;k<o.length;k++){var C=o[k];if(!(C.from>=h||C.to<=c)){var E=C.level!=1,F=Yt(e,r,E?Math.min(h,C.to)-1:Math.max(c,C.from)).right,R=F<l?l-F+1e9:F-l;(!g||b>R)&&(g=C,b=R)}}return g||(g=o[o.length-1]),g.from<c&&(g={from:c,to:g.to,level:g.level}),g.to>h&&(g={from:g.from,to:h,level:g.level}),g}var Ar;function Zr(e){if(e.cachedTextHeight!=null)return e.cachedTextHeight;if(Ar==null){Ar=w("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)Ar.appendChild(document.createTextNode("x")),Ar.appendChild(w("br"));Ar.appendChild(document.createTextNode("x"))}W(e.measure,Ar);var n=Ar.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),A(e.measure),n||1}function Vr(e){if(e.cachedCharWidth!=null)return e.cachedCharWidth;var t=w("span","xxxxxxxxxx"),n=w("pre",[t],"CodeMirror-line-like");W(e.measure,n);var r=t.getBoundingClientRect(),o=(r.right-r.left)/10;return o>2&&(e.cachedCharWidth=o),o||10}function go(e){for(var t=e.display,n={},r={},o=t.gutters.clientLeft,l=t.gutters.firstChild,s=0;l;l=l.nextSibling,++s){var u=e.display.gutterSpecs[s].className;n[u]=l.offsetLeft+l.clientLeft+o,r[u]=l.clientWidth}return{fixedPos:yo(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function yo(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Jl(e){var t=Zr(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/Vr(e.display)-3);return function(o){if(hr(e.doc,o))return 0;var l=0;if(o.widgets)for(var s=0;s<o.widgets.length;s++)o.widgets[s].height&&(l+=o.widgets[s].height);return n?l+(Math.ceil(o.text.length/r)||1)*t:l+t}}function mo(e){var t=e.doc,n=Jl(e);t.iter(function(r){var o=n(r);o!=r.height&&Ct(r,o)})}function Er(e,t,n,r){var o=e.display;if(!n&&Cn(t).getAttribute("cm-not-content")=="true")return null;var l,s,u=o.lineSpace.getBoundingClientRect();try{l=t.clientX-u.left,s=t.clientY-u.top}catch{return null}var c=po(e,l,s),h;if(r&&c.xRel>0&&(h=Z(e.doc,c.line).text).length==c.ch){var g=Le(h,h.length,e.options.tabSize)-h.length;c=T(c.line,Math.max(0,Math.round((l-Hl(e.display).left)/Vr(e.display))-g))}return c}function Mr(e,t){if(t>=e.display.viewTo||(t-=e.display.viewFrom,t<0))return null;for(var n=e.display.view,r=0;r<n.length;r++)if(t-=n[r].size,t<0)return r}function ft(e,t,n,r){t==null&&(t=e.doc.first),n==null&&(n=e.doc.first+e.doc.size),r||(r=0);var o=e.display;if(r&&n<o.viewTo&&(o.updateLineNumbers==null||o.updateLineNumbers>t)&&(o.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=o.viewTo)Zt&&io(e.doc,t)<o.viewTo&&pr(e);else if(n<=o.viewFrom)Zt&&Tl(e.doc,n+r)>o.viewFrom?pr(e):(o.viewFrom+=r,o.viewTo+=r);else if(t<=o.viewFrom&&n>=o.viewTo)pr(e);else if(t<=o.viewFrom){var l=wi(e,n,n+r,1);l?(o.view=o.view.slice(l.index),o.viewFrom=l.lineN,o.viewTo+=r):pr(e)}else if(n>=o.viewTo){var s=wi(e,t,t,-1);s?(o.view=o.view.slice(0,s.index),o.viewTo=s.lineN):pr(e)}else{var u=wi(e,t,t,-1),c=wi(e,n,n+r,1);u&&c?(o.view=o.view.slice(0,u.index).concat(yi(e,u.lineN,c.lineN)).concat(o.view.slice(c.index)),o.viewTo+=r):pr(e)}var h=o.externalMeasured;h&&(n<h.lineN?h.lineN+=r:t<h.lineN+h.size&&(o.externalMeasured=null))}function dr(e,t,n){e.curOp.viewChanged=!0;var r=e.display,o=e.display.externalMeasured;if(o&&t>=o.lineN&&t<o.lineN+o.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var l=r.view[Mr(e,t)];if(l.node!=null){var s=l.changes||(l.changes=[]);ye(s,n)==-1&&s.push(n)}}}function pr(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function wi(e,t,n,r){var o=Mr(e,t),l,s=e.display.view;if(!Zt||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var u=e.display.viewFrom,c=0;c<o;c++)u+=s[c].size;if(u!=t){if(r>0){if(o==s.length-1)return null;l=u+s[o].size-t,o++}else l=u-t;t+=l,n+=l}for(;io(e.doc,n)!=n;){if(o==(r<0?0:s.length-1))return null;n+=r*s[o-(r<0?1:0)].size,o+=r}return{index:o,lineN:n}}function cf(e,t,n){var r=e.display,o=r.view;o.length==0||t>=r.viewTo||n<=r.viewFrom?(r.view=yi(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=yi(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(Mr(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(yi(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,Mr(e,n)))),r.viewTo=n}function Ql(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var o=t[r];!o.hidden&&(!o.node||o.changes)&&++n}return n}function In(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Zl(e,t){t===void 0&&(t=!0);var n=e.doc,r={},o=r.cursors=document.createDocumentFragment(),l=r.selection=document.createDocumentFragment(),s=e.options.$customCursor;s&&(t=!0);for(var u=0;u<n.sel.ranges.length;u++)if(!(!t&&u==n.sel.primIndex)){var c=n.sel.ranges[u];if(!(c.from().line>=e.display.viewTo||c.to().line<e.display.viewFrom)){var h=c.empty();if(s){var g=s(e,c);g&&bo(e,g,o)}else(h||e.options.showCursorWhenSelecting)&&bo(e,c.head,o);h||hf(e,c,l)}}return r}function bo(e,t,n){var r=It(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),o=n.appendChild(w("div"," ","CodeMirror-cursor"));if(o.style.left=r.left+"px",o.style.top=r.top+"px",o.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(e.getWrapperElement().className)){var l=xi(e,t,"div",null,null),s=l.right-l.left;o.style.width=(s>0?s:e.defaultCharWidth())+"px"}if(r.other){var u=n.appendChild(w("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));u.style.display="",u.style.left=r.other.left+"px",u.style.top=r.other.top+"px",u.style.height=(r.other.bottom-r.other.top)*.85+"px"}}function Ci(e,t){return e.top-t.top||e.left-t.left}function hf(e,t,n){var r=e.display,o=e.doc,l=document.createDocumentFragment(),s=Hl(e.display),u=s.left,c=Math.max(r.sizerWidth,Tr(e)-r.sizer.offsetLeft)-s.right,h=o.direction=="ltr";function g(G,Q,ie,ee){Q<0&&(Q=0),Q=Math.round(Q),ee=Math.round(ee),l.appendChild(w("div",null,"CodeMirror-selected","position: absolute; left: "+G+`px;
                             top: `+Q+"px; width: "+(ie??c-G)+`px;
                             height: `+(ee-Q)+"px"))}function b(G,Q,ie){var ee=Z(o,G),me=ee.text.length,Ee,Xe;function Ie(_e,dt){return xi(e,T(G,_e),"div",ee,dt)}function mt(_e,dt,Ze){var ze=Xl(e,ee,null,_e),Re=dt=="ltr"==(Ze=="after")?"left":"right",He=Ze=="after"?ze.begin:ze.end-(/\s/.test(ee.text.charAt(ze.end-1))?2:1);return Ie(He,Re)[Re]}var ht=be(ee,o.direction);return lr(ht,Q||0,ie??me,function(_e,dt,Ze,ze){var Re=Ze=="ltr",He=Ie(_e,Re?"left":"right"),pt=Ie(dt-1,Re?"right":"left"),hn=Q==null&&_e==0,xr=ie==null&&dt==me,tt=ze==0,Gt=!ht||ze==ht.length-1;if(pt.top-He.top<=3){var Je=(h?hn:xr)&&tt,jo=(h?xr:hn)&&Gt,rr=Je?u:(Re?He:pt).left,Fr=jo?c:(Re?pt:He).right;g(rr,He.top,Fr-rr,He.bottom)}else{var Br,ot,dn,qo;Re?(Br=h&&hn&&tt?u:He.left,ot=h?c:mt(_e,Ze,"before"),dn=h?u:mt(dt,Ze,"after"),qo=h&&xr&&Gt?c:pt.right):(Br=h?mt(_e,Ze,"before"):u,ot=!h&&hn&&tt?c:He.right,dn=!h&&xr&&Gt?u:pt.left,qo=h?mt(dt,Ze,"after"):c),g(Br,He.top,ot-Br,He.bottom),He.bottom<pt.top&&g(u,He.bottom,null,pt.top),g(dn,pt.top,qo-dn,pt.bottom)}(!Ee||Ci(He,Ee)<0)&&(Ee=He),Ci(pt,Ee)<0&&(Ee=pt),(!Xe||Ci(He,Xe)<0)&&(Xe=He),Ci(pt,Xe)<0&&(Xe=pt)}),{start:Ee,end:Xe}}var k=t.from(),C=t.to();if(k.line==C.line)b(k.line,k.ch,C.ch);else{var E=Z(o,k.line),F=Z(o,C.line),R=Nt(E)==Nt(F),Y=b(k.line,k.ch,R?E.text.length+1:null).end,X=b(C.line,R?0:null,C.ch).start;R&&(Y.top<X.top-2?(g(Y.right,Y.top,null,Y.bottom),g(u,X.top,X.left,X.bottom)):g(Y.right,Y.top,X.left-Y.right,Y.bottom)),Y.bottom<X.top&&g(u,Y.bottom,null,X.top)}n.appendChild(l)}function xo(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){e.hasFocus()||$r(e),t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Vl(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||Co(e))}function wo(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&$r(e))},100)}function Co(e,t){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),e.options.readOnly!="nocursor"&&(e.state.focused||(De(e,"focus",e,t),e.state.focused=!0,ue(e.display.wrapper,"CodeMirror-focused"),!e.curOp&&e.display.selForContextMenu!=e.doc.sel&&(e.display.input.reset(),B&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),xo(e))}function $r(e,t){e.state.delayingBlurEvent||(e.state.focused&&(De(e,"blur",e,t),e.state.focused=!1,he(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function Si(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=Math.max(0,t.scroller.getBoundingClientRect().top),o=t.lineDiv.getBoundingClientRect().top,l=0,s=0;s<t.view.length;s++){var u=t.view[s],c=e.options.lineWrapping,h=void 0,g=0;if(!u.hidden){if(o+=u.line.height,L&&N<8){var b=u.node.offsetTop+u.node.offsetHeight;h=b-n,n=b}else{var k=u.node.getBoundingClientRect();h=k.bottom-k.top,!c&&u.text.firstChild&&(g=u.text.firstChild.getBoundingClientRect().right-k.left-1)}var C=u.line.height-h;if((C>.005||C<-.005)&&(o<r&&(l-=C),Ct(u.line,h),$l(u.line),u.rest))for(var E=0;E<u.rest.length;E++)$l(u.rest[E]);if(g>e.display.sizerWidth){var F=Math.ceil(g/Vr(e.display));F>e.display.maxLineLength&&(e.display.maxLineLength=F,e.display.maxLine=u.line,e.display.maxLineChanged=!0)}}}Math.abs(l)>2&&(t.scroller.scrollTop+=l)}function $l(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function ki(e,t,n){var r=n&&n.top!=null?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-mi(e));var o=n&&n.bottom!=null?n.bottom:r+e.wrapper.clientHeight,l=m(t,r),s=m(t,o);if(n&&n.ensure){var u=n.ensure.from.line,c=n.ensure.to.line;u<l?(l=u,s=m(t,Vt(Z(t,u))+e.wrapper.clientHeight)):Math.min(c,t.lastLine())>=s&&(l=m(t,Vt(Z(t,c))-e.wrapper.clientHeight),s=c)}return{from:l,to:Math.max(s,l+1)}}function df(e,t){if(!Fe(e,"scrollCursorIntoView")){var n=e.display,r=n.sizer.getBoundingClientRect(),o=null,l=n.wrapper.ownerDocument;if(t.top+r.top<0?o=!0:t.bottom+r.top>(l.defaultView.innerHeight||l.documentElement.clientHeight)&&(o=!1),o!=null&&!H){var s=w("div","​",null,`position: absolute;
                         top: `+(t.top-n.viewOffset-mi(e.display))+`px;
                         height: `+(t.bottom-t.top+Ut(e)+n.barHeight)+`px;
                         left: `+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(s),s.scrollIntoView(o),e.display.lineSpace.removeChild(s)}}}function pf(e,t,n,r){r==null&&(r=0);var o;!e.options.lineWrapping&&t==n&&(n=t.sticky=="before"?T(t.line,t.ch+1,"before"):t,t=t.ch?T(t.line,t.sticky=="before"?t.ch-1:t.ch,"after"):t);for(var l=0;l<5;l++){var s=!1,u=It(e,t),c=!n||n==t?u:It(e,n);o={left:Math.min(u.left,c.left),top:Math.min(u.top,c.top)-r,right:Math.max(u.left,c.left),bottom:Math.max(u.bottom,c.bottom)+r};var h=So(e,o),g=e.doc.scrollTop,b=e.doc.scrollLeft;if(h.scrollTop!=null&&(Fn(e,h.scrollTop),Math.abs(e.doc.scrollTop-g)>1&&(s=!0)),h.scrollLeft!=null&&(Or(e,h.scrollLeft),Math.abs(e.doc.scrollLeft-b)>1&&(s=!0)),!s)break}return o}function vf(e,t){var n=So(e,t);n.scrollTop!=null&&Fn(e,n.scrollTop),n.scrollLeft!=null&&Or(e,n.scrollLeft)}function So(e,t){var n=e.display,r=Zr(e.display);t.top<0&&(t.top=0);var o=e.curOp&&e.curOp.scrollTop!=null?e.curOp.scrollTop:n.scroller.scrollTop,l=uo(e),s={};t.bottom-t.top>l&&(t.bottom=t.top+l);var u=e.doc.height+so(n),c=t.top<r,h=t.bottom>u-r;if(t.top<o)s.scrollTop=c?0:t.top;else if(t.bottom>o+l){var g=Math.min(t.top,(h?u:t.bottom)-l);g!=o&&(s.scrollTop=g)}var b=e.options.fixedGutter?0:n.gutters.offsetWidth,k=e.curOp&&e.curOp.scrollLeft!=null?e.curOp.scrollLeft:n.scroller.scrollLeft-b,C=Tr(e)-n.gutters.offsetWidth,E=t.right-t.left>C;return E&&(t.right=t.left+C),t.left<10?s.scrollLeft=0:t.left<k?s.scrollLeft=Math.max(0,t.left+b-(E?0:10)):t.right>C+k-3&&(s.scrollLeft=t.right+(E?0:10)-C),s}function ko(e,t){t!=null&&(Li(e),e.curOp.scrollTop=(e.curOp.scrollTop==null?e.doc.scrollTop:e.curOp.scrollTop)+t)}function en(e){Li(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Dn(e,t,n){(t!=null||n!=null)&&Li(e),t!=null&&(e.curOp.scrollLeft=t),n!=null&&(e.curOp.scrollTop=n)}function gf(e,t){Li(e),e.curOp.scrollToPos=t}function Li(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=jl(e,t.from),r=jl(e,t.to);ea(e,n,r,t.margin)}}function ea(e,t,n,r){var o=So(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-r,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+r});Dn(e,o.scrollLeft,o.scrollTop)}function Fn(e,t){Math.abs(e.doc.scrollTop-t)<2||(p||To(e,{top:t}),ta(e,t,!0),p&&To(e),Wn(e,100))}function ta(e,t,n){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),!(e.display.scroller.scrollTop==t&&!n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function Or(e,t,n,r){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),!((n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!r)&&(e.doc.scrollLeft=t,la(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Bn(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+so(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+Ut(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}var Nr=function(e,t,n){this.cm=n;var r=this.vert=w("div",[w("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=w("div",[w("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");r.tabIndex=o.tabIndex=-1,e(r),e(o),ne(r,"scroll",function(){r.clientHeight&&t(r.scrollTop,"vertical")}),ne(o,"scroll",function(){o.clientWidth&&t(o.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,L&&N<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Nr.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var o=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+o)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var l=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+l)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(r==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},Nr.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Nr.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Nr.prototype.zeroWidthHack=function(){var e=ce&&!se?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Ht,this.disableVert=new Ht},Nr.prototype.enableZeroWidthBar=function(e,t,n){e.style.visibility="";function r(){var o=e.getBoundingClientRect(),l=n=="vert"?document.elementFromPoint(o.right-1,(o.top+o.bottom)/2):document.elementFromPoint((o.right+o.left)/2,o.bottom-1);l!=e?e.style.visibility="hidden":t.set(1e3,r)}t.set(1e3,r)},Nr.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Hn=function(){};Hn.prototype.update=function(){return{bottom:0,right:0}},Hn.prototype.setScrollLeft=function(){},Hn.prototype.setScrollTop=function(){},Hn.prototype.clear=function(){};function tn(e,t){t||(t=Bn(e));var n=e.display.barWidth,r=e.display.barHeight;ra(e,t);for(var o=0;o<4&&n!=e.display.barWidth||r!=e.display.barHeight;o++)n!=e.display.barWidth&&e.options.lineWrapping&&Si(e),ra(e,Bn(e)),n=e.display.barWidth,r=e.display.barHeight}function ra(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}var na={native:Nr,null:Hn};function ia(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&he(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new na[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),ne(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,n){n=="horizontal"?Or(e,t):Fn(e,t)},e),e.display.scrollbars.addClass&&ue(e.display.wrapper,e.display.scrollbars.addClass)}var yf=0;function Ir(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++yf,markArrays:null},qu(e.curOp)}function Dr(e){var t=e.curOp;t&&Ju(t,function(n){for(var r=0;r<n.ops.length;r++)n.ops[r].cm.curOp=null;mf(n)})}function mf(e){for(var t=e.ops,n=0;n<t.length;n++)bf(t[n]);for(var r=0;r<t.length;r++)xf(t[r]);for(var o=0;o<t.length;o++)wf(t[o]);for(var l=0;l<t.length;l++)Cf(t[l]);for(var s=0;s<t.length;s++)Sf(t[s])}function bf(e){var t=e.cm,n=t.display;Lf(t),e.updateMaxLine&&lo(t),e.mustUpdate=e.viewChanged||e.forceUpdate||e.scrollTop!=null||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new Ti(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function xf(e){e.updatedDisplay=e.mustUpdate&&Lo(e.cm,e.update)}function wf(e){var t=e.cm,n=t.display;e.updatedDisplay&&Si(t),e.barMeasure=Bn(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Pl(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+Ut(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Tr(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function Cf(e){var t=e.cm;e.adjustWidthTo!=null&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Or(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==le(we(t));e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&tn(t,e.barMeasure),e.updatedDisplay&&Eo(t,e.barMeasure),e.selectionChanged&&xo(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&Vl(e.cm)}function Sf(e){var t=e.cm,n=t.display,r=t.doc;if(e.updatedDisplay&&oa(t,e.update),n.wheelStartX!=null&&(e.scrollTop!=null||e.scrollLeft!=null||e.scrollToPos)&&(n.wheelStartX=n.wheelStartY=null),e.scrollTop!=null&&ta(t,e.scrollTop,e.forceScroll),e.scrollLeft!=null&&Or(t,e.scrollLeft,!0,!0),e.scrollToPos){var o=pf(t,pe(r,e.scrollToPos.from),pe(r,e.scrollToPos.to),e.scrollToPos.margin);df(t,o)}var l=e.maybeHiddenMarkers,s=e.maybeUnhiddenMarkers;if(l)for(var u=0;u<l.length;++u)l[u].lines.length||De(l[u],"hide");if(s)for(var c=0;c<s.length;++c)s[c].lines.length&&De(s[c],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&De(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function yt(e,t){if(e.curOp)return t();Ir(e);try{return t()}finally{Dr(e)}}function je(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Ir(e);try{return t.apply(e,arguments)}finally{Dr(e)}}}function it(e){return function(){if(this.curOp)return e.apply(this,arguments);Ir(this);try{return e.apply(this,arguments)}finally{Dr(this)}}}function qe(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Ir(t);try{return e.apply(this,arguments)}finally{Dr(t)}}}function Wn(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,re(kf,e))}function kf(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=Tn(e,t.highlightFrontier),o=[];t.iter(r.line,Math.min(t.first+t.size,e.display.viewTo+500),function(l){if(r.line>=e.display.viewFrom){var s=l.styles,u=l.text.length>e.options.maxHighlightLength?Rt(t.mode,r.state):null,c=hl(e,l,r,!0);u&&(r.state=u),l.styles=c.styles;var h=l.styleClasses,g=c.classes;g?l.styleClasses=g:h&&(l.styleClasses=null);for(var b=!s||s.length!=l.styles.length||h!=g&&(!h||!g||h.bgClass!=g.bgClass||h.textClass!=g.textClass),k=0;!b&&k<s.length;++k)b=s[k]!=l.styles[k];b&&o.push(r.line),l.stateAfter=r.save(),r.nextLine()}else l.text.length<=e.options.maxHighlightLength&&eo(e,l.text,r),l.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return Wn(e,e.options.workDelay),!0}),t.highlightFrontier=r.line,t.modeFrontier=Math.max(t.modeFrontier,r.line),o.length&&yt(e,function(){for(var l=0;l<o.length;l++)dr(e,o[l],"text")})}}var Ti=function(e,t,n){var r=e.display;this.viewport=t,this.visible=ki(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Tr(e),this.force=n,this.dims=go(e),this.events=[]};Ti.prototype.signal=function(e,t){gt(e,t)&&this.events.push(arguments)},Ti.prototype.finish=function(){for(var e=0;e<this.events.length;e++)De.apply(null,this.events[e])};function Lf(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Ut(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Ut(e)+"px",t.scrollbarsClipped=!0)}function Tf(e){if(e.hasFocus())return null;var t=le(we(e));if(!t||!j(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var r=de(e).getSelection();r.anchorNode&&r.extend&&j(e.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}function Af(e){if(!(!e||!e.activeElt||e.activeElt==le(xe(e.activeElt)))&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&j(document.body,e.anchorNode)&&j(document.body,e.focusNode))){var t=e.activeElt.ownerDocument,n=t.defaultView.getSelection(),r=t.createRange();r.setEnd(e.anchorNode,e.anchorOffset),r.collapse(!1),n.removeAllRanges(),n.addRange(r),n.extend(e.focusNode,e.focusOffset)}}function Lo(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return pr(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(n.updateLineNumbers==null||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&Ql(e)==0)return!1;aa(e)&&(pr(e),t.dims=go(e));var o=r.first+r.size,l=Math.max(t.visible.from-e.options.viewportMargin,r.first),s=Math.min(o,t.visible.to+e.options.viewportMargin);n.viewFrom<l&&l-n.viewFrom<20&&(l=Math.max(r.first,n.viewFrom)),n.viewTo>s&&n.viewTo-s<20&&(s=Math.min(o,n.viewTo)),Zt&&(l=io(e.doc,l),s=Tl(e.doc,s));var u=l!=n.viewFrom||s!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;cf(e,l,s),n.viewOffset=Vt(Z(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var c=Ql(e);if(!u&&c==0&&!t.force&&n.renderedView==n.view&&(n.updateLineNumbers==null||n.updateLineNumbers>=n.viewTo))return!1;var h=Tf(e);return c>4&&(n.lineDiv.style.display="none"),Ef(e,n.updateLineNumbers,t.dims),c>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,Af(h),A(n.cursorDiv),A(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,u&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,Wn(e,400)),n.updateLineNumbers=null,!0}function oa(e,t){for(var n=t.viewport,r=!0;;r=!1){if(!r||!e.options.lineWrapping||t.oldDisplayWidth==Tr(e)){if(n&&n.top!=null&&(n={top:Math.min(e.doc.height+so(e.display)-uo(e),n.top)}),t.visible=ki(e.display,e.doc,n),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break}else r&&(t.visible=ki(e.display,e.doc,n));if(!Lo(e,t))break;Si(e);var o=Bn(e);In(e),tn(e,o),Eo(e,o),t.force=!1}t.signal(e,"update",e),(e.display.viewFrom!=e.display.reportedViewFrom||e.display.viewTo!=e.display.reportedViewTo)&&(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function To(e,t){var n=new Ti(e,t);if(Lo(e,n)){Si(e),oa(e,n);var r=Bn(e);In(e),tn(e,r),Eo(e,r),n.finish()}}function Ef(e,t,n){var r=e.display,o=e.options.lineNumbers,l=r.lineDiv,s=l.firstChild;function u(E){var F=E.nextSibling;return B&&ce&&e.display.currentWheelTarget==E?E.style.display="none":E.parentNode.removeChild(E),F}for(var c=r.view,h=r.viewFrom,g=0;g<c.length;g++){var b=c[g];if(!b.hidden)if(!b.node||b.node.parentNode!=l){var k=ef(e,b,h,n);l.insertBefore(k,s)}else{for(;s!=b.node;)s=u(s);var C=o&&t!=null&&t<=h&&b.lineNumber;b.changes&&(ye(b.changes,"gutter")>-1&&(C=!1),Nl(e,b,h,n)),C&&(A(b.lineNumber),b.lineNumber.appendChild(document.createTextNode(P(e.options,h)))),s=b.node.nextSibling}h+=b.size}for(;s;)s=u(s)}function Ao(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px",Ke(e,"gutterChanged",e)}function Eo(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Ut(e)+"px"}function la(e){var t=e.display,n=t.view;if(!(!t.alignWidgets&&(!t.gutters.firstChild||!e.options.fixedGutter))){for(var r=yo(t)-t.scroller.scrollLeft+e.doc.scrollLeft,o=t.gutters.offsetWidth,l=r+"px",s=0;s<n.length;s++)if(!n[s].hidden){e.options.fixedGutter&&(n[s].gutter&&(n[s].gutter.style.left=l),n[s].gutterBackground&&(n[s].gutterBackground.style.left=l));var u=n[s].alignable;if(u)for(var c=0;c<u.length;c++)u[c].style.left=l}e.options.fixedGutter&&(t.gutters.style.left=r+o+"px")}}function aa(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=P(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var o=r.measure.appendChild(w("div",[w("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),l=o.firstChild.offsetWidth,s=o.offsetWidth-l;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(l,r.lineGutter.offsetWidth-s)+1,r.lineNumWidth=r.lineNumInnerWidth+s,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",Ao(e.display),!0}return!1}function Mo(e,t){for(var n=[],r=!1,o=0;o<e.length;o++){var l=e[o],s=null;if(typeof l!="string"&&(s=l.style,l=l.className),l=="CodeMirror-linenumbers")if(t)r=!0;else continue;n.push({className:l,style:s})}return t&&!r&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function sa(e){var t=e.gutters,n=e.gutterSpecs;A(t),e.lineGutter=null;for(var r=0;r<n.length;++r){var o=n[r],l=o.className,s=o.style,u=t.appendChild(w("div",null,"CodeMirror-gutter "+l));s&&(u.style.cssText=s),l=="CodeMirror-linenumbers"&&(e.lineGutter=u,u.style.width=(e.lineNumWidth||1)+"px")}t.style.display=n.length?"":"none",Ao(e)}function Pn(e){sa(e.display),ft(e),la(e)}function Mf(e,t,n,r){var o=this;this.input=n,o.scrollbarFiller=w("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=w("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=Me("div",null,"CodeMirror-code"),o.selectionDiv=w("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=w("div",null,"CodeMirror-cursors"),o.measure=w("div",null,"CodeMirror-measure"),o.lineMeasure=w("div",null,"CodeMirror-measure"),o.lineSpace=Me("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var l=Me("div",[o.lineSpace],"CodeMirror-lines");o.mover=w("div",[l],null,"position: relative"),o.sizer=w("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=w("div",null,null,"position: absolute; height: "+nt+"px; width: 1px;"),o.gutters=w("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=w("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=w("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),I&&U>=105&&(o.wrapper.style.clipPath="inset(0px)"),o.wrapper.setAttribute("translate","no"),L&&N<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),!B&&!(p&&oe)&&(o.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(o.wrapper):e(o.wrapper)),o.viewFrom=o.viewTo=t.first,o.reportedViewFrom=o.reportedViewTo=t.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,o.gutterSpecs=Mo(r.gutters,r.lineNumbers),sa(o),n.init(o)}var Ai=0,er=null;L?er=-.53:p?er=15:I?er=-.7:fe&&(er=-1/3);function ua(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return t==null&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),n==null&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:n==null&&(n=e.wheelDelta),{x:t,y:n}}function Of(e){var t=ua(e);return t.x*=er,t.y*=er,t}function fa(e,t){I&&U==102&&(e.display.chromeScrollHack==null?e.display.sizer.style.pointerEvents="none":clearTimeout(e.display.chromeScrollHack),e.display.chromeScrollHack=setTimeout(function(){e.display.chromeScrollHack=null,e.display.sizer.style.pointerEvents=""},100));var n=ua(t),r=n.x,o=n.y,l=er;t.deltaMode===0&&(r=t.deltaX,o=t.deltaY,l=1);var s=e.display,u=s.scroller,c=u.scrollWidth>u.clientWidth,h=u.scrollHeight>u.clientHeight;if(r&&c||o&&h){if(o&&ce&&B){e:for(var g=t.target,b=s.view;g!=u;g=g.parentNode)for(var k=0;k<b.length;k++)if(b[k].node==g){e.display.currentWheelTarget=g;break e}}if(r&&!p&&!K&&l!=null){o&&h&&Fn(e,Math.max(0,u.scrollTop+o*l)),Or(e,Math.max(0,u.scrollLeft+r*l)),(!o||o&&h)&&$e(t),s.wheelStartX=null;return}if(o&&l!=null){var C=o*l,E=e.doc.scrollTop,F=E+s.wrapper.clientHeight;C<0?E=Math.max(0,E+C-50):F=Math.min(e.doc.height,F+C+50),To(e,{top:E,bottom:F})}Ai<20&&t.deltaMode!==0&&(s.wheelStartX==null?(s.wheelStartX=u.scrollLeft,s.wheelStartY=u.scrollTop,s.wheelDX=r,s.wheelDY=o,setTimeout(function(){if(s.wheelStartX!=null){var R=u.scrollLeft-s.wheelStartX,Y=u.scrollTop-s.wheelStartY,X=Y&&s.wheelDY&&Y/s.wheelDY||R&&s.wheelDX&&R/s.wheelDX;s.wheelStartX=s.wheelStartY=null,X&&(er=(er*Ai+X)/(Ai+1),++Ai)}},200)):(s.wheelDX+=r,s.wheelDY+=o))}}var St=function(e,t){this.ranges=e,this.primIndex=t};St.prototype.primary=function(){return this.ranges[this.primIndex]},St.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(!Se(n.anchor,r.anchor)||!Se(n.head,r.head))return!1}return!0},St.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new ke(Ge(this.ranges[t].anchor),Ge(this.ranges[t].head));return new St(e,this.primIndex)},St.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},St.prototype.contains=function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(q(t,r.from())>=0&&q(e,r.to())<=0)return n}return-1};var ke=function(e,t){this.anchor=e,this.head=t};ke.prototype.from=function(){return qr(this.anchor,this.head)},ke.prototype.to=function(){return ut(this.anchor,this.head)},ke.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function Dt(e,t,n){var r=e&&e.options.selectionsMayTouch,o=t[n];t.sort(function(k,C){return q(k.from(),C.from())}),n=ye(t,o);for(var l=1;l<t.length;l++){var s=t[l],u=t[l-1],c=q(u.to(),s.from());if(r&&!s.empty()?c>0:c>=0){var h=qr(u.from(),s.from()),g=ut(u.to(),s.to()),b=u.empty()?s.from()==s.head:u.from()==u.head;l<=n&&--n,t.splice(--l,2,new ke(b?g:h,b?h:g))}}return new St(t,n)}function vr(e,t){return new St([new ke(e,t||e)],0)}function gr(e){return e.text?T(e.from.line+e.text.length-1,Ce(e.text).length+(e.text.length==1?e.from.ch:0)):e.to}function ca(e,t){if(q(e,t.from)<0)return e;if(q(e,t.to)<=0)return gr(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=gr(t).ch-t.to.ch),T(n,r)}function Oo(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var o=e.sel.ranges[r];n.push(new ke(ca(o.anchor,t),ca(o.head,t)))}return Dt(e.cm,n,e.sel.primIndex)}function ha(e,t,n){return e.line==t.line?T(n.line,e.ch-t.ch+n.ch):T(n.line+(e.line-t.line),e.ch)}function Nf(e,t,n){for(var r=[],o=T(e.first,0),l=o,s=0;s<t.length;s++){var u=t[s],c=ha(u.from,o,l),h=ha(gr(u),o,l);if(o=u.to,l=h,n=="around"){var g=e.sel.ranges[s],b=q(g.head,g.anchor)<0;r[s]=new ke(b?h:c,b?c:h)}else r[s]=new ke(c,c)}return new St(r,e.sel.primIndex)}function No(e){e.doc.mode=Gr(e.options,e.doc.modeOption),_n(e)}function _n(e){e.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,Wn(e,100),e.state.modeGen++,e.curOp&&ft(e)}function da(e,t){return t.from.ch==0&&t.to.ch==0&&Ce(t.text)==""&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Io(e,t,n,r){function o(X){return n?n[X]:null}function l(X,G,Q){Pu(X,G,Q,r),Ke(X,"change",X,t)}function s(X,G){for(var Q=[],ie=X;ie<G;++ie)Q.push(new Xr(h[ie],o(ie),r));return Q}var u=t.from,c=t.to,h=t.text,g=Z(e,u.line),b=Z(e,c.line),k=Ce(h),C=o(h.length-1),E=c.line-u.line;if(t.full)e.insert(0,s(0,h.length)),e.remove(h.length,e.size-h.length);else if(da(e,t)){var F=s(0,h.length-1);l(b,b.text,C),E&&e.remove(u.line,E),F.length&&e.insert(u.line,F)}else if(g==b)if(h.length==1)l(g,g.text.slice(0,u.ch)+k+g.text.slice(c.ch),C);else{var R=s(1,h.length-1);R.push(new Xr(k+g.text.slice(c.ch),C,r)),l(g,g.text.slice(0,u.ch)+h[0],o(0)),e.insert(u.line+1,R)}else if(h.length==1)l(g,g.text.slice(0,u.ch)+h[0]+b.text.slice(c.ch),o(0)),e.remove(u.line+1,E);else{l(g,g.text.slice(0,u.ch)+h[0],o(0)),l(b,k+b.text.slice(c.ch),C);var Y=s(1,h.length-1);E>1&&e.remove(u.line+1,E-1),e.insert(u.line+1,Y)}Ke(e,"change",e,t)}function yr(e,t,n){function r(o,l,s){if(o.linked)for(var u=0;u<o.linked.length;++u){var c=o.linked[u];if(c.doc!=l){var h=s&&c.sharedHist;n&&!h||(t(c.doc,h),r(c.doc,o,h))}}}r(e,null,!0)}function pa(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,mo(e),No(e),va(e),e.options.direction=t.direction,e.options.lineWrapping||lo(e),e.options.mode=t.modeOption,ft(e)}function va(e){(e.doc.direction=="rtl"?ue:he)(e.display.lineDiv,"CodeMirror-rtl")}function If(e){yt(e,function(){va(e),ft(e)})}function Ei(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}function Do(e,t){var n={from:Ge(t.from),to:gr(t),text:Qt(e,t.from,t.to)};return ma(e,n,t.from.line,t.to.line+1),yr(e,function(r){return ma(r,n,t.from.line,t.to.line+1)},!0),n}function ga(e){for(;e.length;){var t=Ce(e);if(t.ranges)e.pop();else break}}function Df(e,t){if(t)return ga(e.done),Ce(e.done);if(e.done.length&&!Ce(e.done).ranges)return Ce(e.done);if(e.done.length>1&&!e.done[e.done.length-2].ranges)return e.done.pop(),Ce(e.done)}function ya(e,t,n,r){var o=e.history;o.undone.length=0;var l=+new Date,s,u;if((o.lastOp==r||o.lastOrigin==t.origin&&t.origin&&(t.origin.charAt(0)=="+"&&o.lastModTime>l-(e.cm?e.cm.options.historyEventDelay:500)||t.origin.charAt(0)=="*"))&&(s=Df(o,o.lastOp==r)))u=Ce(s.changes),q(t.from,t.to)==0&&q(t.from,u.to)==0?u.to=gr(t):s.changes.push(Do(e,t));else{var c=Ce(o.done);for((!c||!c.ranges)&&Mi(e.sel,o.done),s={changes:[Do(e,t)],generation:o.generation},o.done.push(s);o.done.length>o.undoDepth;)o.done.shift(),o.done[0].ranges||o.done.shift()}o.done.push(n),o.generation=++o.maxGeneration,o.lastModTime=o.lastSelTime=l,o.lastOp=o.lastSelOp=r,o.lastOrigin=o.lastSelOrigin=t.origin,u||De(e,"historyAdded")}function Ff(e,t,n,r){var o=t.charAt(0);return o=="*"||o=="+"&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function Bf(e,t,n,r){var o=e.history,l=r&&r.origin;n==o.lastSelOp||l&&o.lastSelOrigin==l&&(o.lastModTime==o.lastSelTime&&o.lastOrigin==l||Ff(e,l,Ce(o.done),t))?o.done[o.done.length-1]=t:Mi(t,o.done),o.lastSelTime=+new Date,o.lastSelOrigin=l,o.lastSelOp=n,r&&r.clearRedo!==!1&&ga(o.undone)}function Mi(e,t){var n=Ce(t);n&&n.ranges&&n.equals(e)||t.push(e)}function ma(e,t,n,r){var o=t["spans_"+e.id],l=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),function(s){s.markedSpans&&((o||(o=t["spans_"+e.id]={}))[l]=s.markedSpans),++l})}function Hf(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function Wf(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=[],o=0;o<t.text.length;++o)r.push(Hf(n[o]));return r}function ba(e,t){var n=Wf(e,t),r=ro(e,t);if(!n)return r;if(!r)return n;for(var o=0;o<n.length;++o){var l=n[o],s=r[o];if(l&&s)e:for(var u=0;u<s.length;++u){for(var c=s[u],h=0;h<l.length;++h)if(l[h].marker==c.marker)continue e;l.push(c)}else s&&(n[o]=s)}return n}function rn(e,t,n){for(var r=[],o=0;o<e.length;++o){var l=e[o];if(l.ranges){r.push(n?St.prototype.deepCopy.call(l):l);continue}var s=l.changes,u=[];r.push({changes:u});for(var c=0;c<s.length;++c){var h=s[c],g=void 0;if(u.push({from:h.from,to:h.to,text:h.text}),t)for(var b in h)(g=b.match(/^spans_(\d+)$/))&&ye(t,Number(g[1]))>-1&&(Ce(u)[b]=h[b],delete h[b])}}return r}function Fo(e,t,n,r){if(r){var o=e.anchor;if(n){var l=q(t,o)<0;l!=q(n,o)<0?(o=t,t=n):l!=q(t,n)<0&&(t=n)}return new ke(o,t)}else return new ke(n||t,t)}function Oi(e,t,n,r,o){o==null&&(o=e.cm&&(e.cm.display.shift||e.extend)),et(e,new St([Fo(e.sel.primary(),t,n,o)],0),r)}function xa(e,t,n){for(var r=[],o=e.cm&&(e.cm.display.shift||e.extend),l=0;l<e.sel.ranges.length;l++)r[l]=Fo(e.sel.ranges[l],t[l],null,o);var s=Dt(e.cm,r,e.sel.primIndex);et(e,s,n)}function Bo(e,t,n,r){var o=e.sel.ranges.slice(0);o[t]=n,et(e,Dt(e.cm,o,e.sel.primIndex),r)}function wa(e,t,n,r){et(e,vr(t,n),r)}function Pf(e,t,n){var r={ranges:t.ranges,update:function(o){this.ranges=[];for(var l=0;l<o.length;l++)this.ranges[l]=new ke(pe(e,o[l].anchor),pe(e,o[l].head))},origin:n&&n.origin};return De(e,"beforeSelectionChange",e,r),e.cm&&De(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?Dt(e.cm,r.ranges,r.ranges.length-1):t}function Ca(e,t,n){var r=e.history.done,o=Ce(r);o&&o.ranges?(r[r.length-1]=t,Ni(e,t,n)):et(e,t,n)}function et(e,t,n){Ni(e,t,n),Bf(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function Ni(e,t,n){(gt(e,"beforeSelectionChange")||e.cm&&gt(e.cm,"beforeSelectionChange"))&&(t=Pf(e,t,n));var r=n&&n.bias||(q(t.primary().head,e.sel.primary().head)<0?-1:1);Sa(e,La(e,t,r,!0)),!(n&&n.scroll===!1)&&e.cm&&e.cm.getOption("readOnly")!="nocursor"&&en(e.cm)}function Sa(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,kt(e.cm)),Ke(e,"cursorActivity",e))}function ka(e){Sa(e,La(e,e.sel,null,!1))}function La(e,t,n,r){for(var o,l=0;l<t.ranges.length;l++){var s=t.ranges[l],u=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[l],c=Ii(e,s.anchor,u&&u.anchor,n,r),h=s.head==s.anchor?c:Ii(e,s.head,u&&u.head,n,r);(o||c!=s.anchor||h!=s.head)&&(o||(o=t.ranges.slice(0,l)),o[l]=new ke(c,h))}return o?Dt(e.cm,o,t.primIndex):t}function nn(e,t,n,r,o){var l=Z(e,t.line);if(l.markedSpans)for(var s=0;s<l.markedSpans.length;++s){var u=l.markedSpans[s],c=u.marker,h="selectLeft"in c?!c.selectLeft:c.inclusiveLeft,g="selectRight"in c?!c.selectRight:c.inclusiveRight;if((u.from==null||(h?u.from<=t.ch:u.from<t.ch))&&(u.to==null||(g?u.to>=t.ch:u.to>t.ch))){if(o&&(De(c,"beforeCursorEnter"),c.explicitlyCleared))if(l.markedSpans){--s;continue}else break;if(!c.atomic)continue;if(n){var b=c.find(r<0?1:-1),k=void 0;if((r<0?g:h)&&(b=Ta(e,b,-r,b&&b.line==t.line?l:null)),b&&b.line==t.line&&(k=q(b,n))&&(r<0?k<0:k>0))return nn(e,b,t,r,o)}var C=c.find(r<0?-1:1);return(r<0?h:g)&&(C=Ta(e,C,r,C.line==t.line?l:null)),C?nn(e,C,t,r,o):null}}return t}function Ii(e,t,n,r,o){var l=r||1,s=nn(e,t,n,l,o)||!o&&nn(e,t,n,l,!0)||nn(e,t,n,-l,o)||!o&&nn(e,t,n,-l,!0);return s||(e.cantEdit=!0,T(e.first,0))}function Ta(e,t,n,r){return n<0&&t.ch==0?t.line>e.first?pe(e,T(t.line-1)):null:n>0&&t.ch==(r||Z(e,t.line)).text.length?t.line<e.first+e.size-1?T(t.line+1,0):null:new T(t.line,t.ch+n)}function Aa(e){e.setSelection(T(e.firstLine(),0),T(e.lastLine()),xt)}function Ea(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(o,l,s,u){o&&(r.from=pe(e,o)),l&&(r.to=pe(e,l)),s&&(r.text=s),u!==void 0&&(r.origin=u)}),De(e,"beforeChange",e,r),e.cm&&De(e.cm,"beforeChange",e.cm,r),r.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:r.from,to:r.to,text:r.text,origin:r.origin}}function on(e,t,n){if(e.cm){if(!e.cm.curOp)return je(e.cm,on)(e,t,n);if(e.cm.state.suppressEdits)return}if(!((gt(e,"beforeChange")||e.cm&&gt(e.cm,"beforeChange"))&&(t=Ea(e,t,!0),!t))){var r=bl&&!n&&Fu(e,t.from,t.to);if(r)for(var o=r.length-1;o>=0;--o)Ma(e,{from:r[o].from,to:r[o].to,text:o?[""]:t.text,origin:t.origin});else Ma(e,t)}}function Ma(e,t){if(!(t.text.length==1&&t.text[0]==""&&q(t.from,t.to)==0)){var n=Oo(e,t);ya(e,t,n,e.cm?e.cm.curOp.id:NaN),Rn(e,t,n,ro(e,t));var r=[];yr(e,function(o,l){!l&&ye(r,o.history)==-1&&(Da(o.history,t),r.push(o.history)),Rn(o,t,null,ro(o,t))})}}function Di(e,t,n){var r=e.cm&&e.cm.state.suppressEdits;if(!(r&&!n)){for(var o=e.history,l,s=e.sel,u=t=="undo"?o.done:o.undone,c=t=="undo"?o.undone:o.done,h=0;h<u.length&&(l=u[h],!(n?l.ranges&&!l.equals(e.sel):!l.ranges));h++);if(h!=u.length){for(o.lastOrigin=o.lastSelOrigin=null;;)if(l=u.pop(),l.ranges){if(Mi(l,c),n&&!l.equals(e.sel)){et(e,l,{clearRedo:!1});return}s=l}else if(r){u.push(l);return}else break;var g=[];Mi(s,c),c.push({changes:g,generation:o.generation}),o.generation=l.generation||++o.maxGeneration;for(var b=gt(e,"beforeChange")||e.cm&&gt(e.cm,"beforeChange"),k=function(F){var R=l.changes[F];if(R.origin=t,b&&!Ea(e,R,!1))return u.length=0,{};g.push(Do(e,R));var Y=F?Oo(e,R):Ce(u);Rn(e,R,Y,ba(e,R)),!F&&e.cm&&e.cm.scrollIntoView({from:R.from,to:gr(R)});var X=[];yr(e,function(G,Q){!Q&&ye(X,G.history)==-1&&(Da(G.history,R),X.push(G.history)),Rn(G,R,null,ba(G,R))})},C=l.changes.length-1;C>=0;--C){var E=k(C);if(E)return E.v}}}}function Oa(e,t){if(t!=0&&(e.first+=t,e.sel=new St(Sr(e.sel.ranges,function(o){return new ke(T(o.anchor.line+t,o.anchor.ch),T(o.head.line+t,o.head.ch))}),e.sel.primIndex),e.cm)){ft(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)dr(e.cm,r,"gutter")}}function Rn(e,t,n,r){if(e.cm&&!e.cm.curOp)return je(e.cm,Rn)(e,t,n,r);if(t.to.line<e.first){Oa(e,t.text.length-1-(t.to.line-t.from.line));return}if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var o=t.text.length-1-(e.first-t.from.line);Oa(e,o),t={from:T(e.first,0),to:T(t.to.line+o,t.to.ch),text:[Ce(t.text)],origin:t.origin}}var l=e.lastLine();t.to.line>l&&(t={from:t.from,to:T(l,Z(e,l).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Qt(e,t.from,t.to),n||(n=Oo(e,t)),e.cm?_f(e.cm,t,r):Io(e,t,r),Ni(e,n,xt),e.cantEdit&&Ii(e,T(e.firstLine(),0))&&(e.cantEdit=!1)}}function _f(e,t,n){var r=e.doc,o=e.display,l=t.from,s=t.to,u=!1,c=l.line;e.options.lineWrapping||(c=d(Nt(Z(r,l.line))),r.iter(c,s.line+1,function(C){if(C==o.maxLine)return u=!0,!0})),r.sel.contains(t.from,t.to)>-1&&kt(e),Io(r,t,n,Jl(e)),e.options.lineWrapping||(r.iter(c,l.line+t.text.length,function(C){var E=gi(C);E>o.maxLineLength&&(o.maxLine=C,o.maxLineLength=E,o.maxLineChanged=!0,u=!1)}),u&&(e.curOp.updateMaxLine=!0)),Au(r,l.line),Wn(e,400);var h=t.text.length-(s.line-l.line)-1;t.full?ft(e):l.line==s.line&&t.text.length==1&&!da(e.doc,t)?dr(e,l.line,"text"):ft(e,l.line,s.line+1,h);var g=gt(e,"changes"),b=gt(e,"change");if(b||g){var k={from:l,to:s,text:t.text,removed:t.removed,origin:t.origin};b&&Ke(e,"change",e,k),g&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(k)}e.display.selForContextMenu=null}function ln(e,t,n,r,o){var l;r||(r=n),q(r,n)<0&&(l=[r,n],n=l[0],r=l[1]),typeof t=="string"&&(t=e.splitLines(t)),on(e,{from:n,to:r,text:t,origin:o})}function Na(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function Ia(e,t,n,r){for(var o=0;o<e.length;++o){var l=e[o],s=!0;if(l.ranges){l.copied||(l=e[o]=l.deepCopy(),l.copied=!0);for(var u=0;u<l.ranges.length;u++)Na(l.ranges[u].anchor,t,n,r),Na(l.ranges[u].head,t,n,r);continue}for(var c=0;c<l.changes.length;++c){var h=l.changes[c];if(n<h.from.line)h.from=T(h.from.line+r,h.from.ch),h.to=T(h.to.line+r,h.to.ch);else if(t<=h.to.line){s=!1;break}}s||(e.splice(0,o+1),o=0)}}function Da(e,t){var n=t.from.line,r=t.to.line,o=t.text.length-(r-n)-1;Ia(e.done,n,r,o),Ia(e.undone,n,r,o)}function zn(e,t,n,r){var o=t,l=t;return typeof t=="number"?l=Z(e,fl(e,t)):o=d(t),o==null?null:(r(l,o)&&e.cm&&dr(e.cm,o,n),l)}function Un(e){this.lines=e,this.parent=null;for(var t=0,n=0;n<e.length;++n)e[n].parent=this,t+=e[n].height;this.height=t}Un.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;n<r;++n){var o=this.lines[n];this.height-=o.height,_u(o),Ke(o,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;e<r;++e)if(n(this.lines[e]))return!0}};function Yn(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var o=e[r];t+=o.chunkSize(),n+=o.height,o.parent=this}this.size=t,this.height=n,this.parent=null}Yn.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],o=r.chunkSize();if(e<o){var l=Math.min(t,o-e),s=r.height;if(r.removeInner(e,l),this.height-=s-r.height,o==l&&(this.children.splice(n--,1),r.parent=null),(t-=l)==0)break;e=0}else e-=o}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Un))){var u=[];this.collapse(u),this.children=[new Un(u)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var o=this.children[r],l=o.chunkSize();if(e<=l){if(o.insertInner(e,t,n),o.lines&&o.lines.length>50){for(var s=o.lines.length%25+25,u=s;u<o.lines.length;){var c=new Un(o.lines.slice(u,u+=25));o.height-=c.height,this.children.splice(++r,0,c),c.parent=this}o.lines=o.lines.slice(0,s),this.maybeSpill()}break}e-=l}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new Yn(t);if(e.parent){e.size-=n.size,e.height-=n.height;var o=ye(e.parent.children,e);e.parent.children.splice(o+1,0,n)}else{var r=new Yn(e.children);r.parent=e,e.children=[r,n],e=r}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var o=this.children[r],l=o.chunkSize();if(e<l){var s=Math.min(t,l-e);if(o.iterN(e,s,n))return!0;if((t-=s)==0)break;e=0}else e-=l}}};var Gn=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=e,this.node=t};Gn.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,r=d(n);if(!(r==null||!t)){for(var o=0;o<t.length;++o)t[o]==this&&t.splice(o--,1);t.length||(n.widgets=null);var l=On(this);Ct(n,Math.max(0,n.height-l)),e&&(yt(e,function(){Fa(e,n,-l),dr(e,r,"widget")}),Ke(e,"lineWidgetCleared",e,this,r))}},Gn.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,r=this.line;this.height=null;var o=On(this)-t;o&&(hr(this.doc,r)||Ct(r,r.height+o),n&&yt(n,function(){n.curOp.forceUpdate=!0,Fa(n,r,o),Ke(n,"lineWidgetChanged",n,e,d(r))}))},Tt(Gn);function Fa(e,t,n){Vt(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&ko(e,n)}function Rf(e,t,n,r){var o=new Gn(e,n,r),l=e.cm;return l&&o.noHScroll&&(l.display.alignWidgets=!0),zn(e,t,"widget",function(s){var u=s.widgets||(s.widgets=[]);if(o.insertAt==null?u.push(o):u.splice(Math.min(u.length,Math.max(0,o.insertAt)),0,o),o.line=s,l&&!hr(e,s)){var c=Vt(s)<e.scrollTop;Ct(s,s.height+On(o)),c&&ko(l,o.height),l.curOp.forceUpdate=!0}return!0}),l&&Ke(l,"lineWidgetAdded",l,o,typeof t=="number"?t:d(t)),o}var Ba=0,mr=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++Ba};mr.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Ir(e),gt(this,"clear")){var n=this.find();n&&Ke(this,"clear",n.from,n.to)}for(var r=null,o=null,l=0;l<this.lines.length;++l){var s=this.lines[l],u=An(s.markedSpans,this);e&&!this.collapsed?dr(e,d(s),"text"):e&&(u.to!=null&&(o=d(s)),u.from!=null&&(r=d(s))),s.markedSpans=Ou(s.markedSpans,u),u.from==null&&this.collapsed&&!hr(this.doc,s)&&e&&Ct(s,Zr(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var c=0;c<this.lines.length;++c){var h=Nt(this.lines[c]),g=gi(h);g>e.display.maxLineLength&&(e.display.maxLine=h,e.display.maxLineLength=g,e.display.maxLineChanged=!0)}r!=null&&e&&this.collapsed&&ft(e,r,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&ka(e.doc)),e&&Ke(e,"markerCleared",e,this,r,o),t&&Dr(e),this.parent&&this.parent.clear()}},mr.prototype.find=function(e,t){e==null&&this.type=="bookmark"&&(e=1);for(var n,r,o=0;o<this.lines.length;++o){var l=this.lines[o],s=An(l.markedSpans,this);if(s.from!=null&&(n=T(t?l:d(l),s.from),e==-1))return n;if(s.to!=null&&(r=T(t?l:d(l),s.to),e==1))return r}return n&&{from:n,to:r}},mr.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,r=this.doc.cm;!t||!r||yt(r,function(){var o=t.line,l=d(t.line),s=fo(r,l);if(s&&(zl(s),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!hr(n.doc,o)&&n.height!=null){var u=n.height;n.height=null;var c=On(n)-u;c&&Ct(o,o.height+c)}Ke(r,"markerChanged",r,e)})},mr.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(!t.maybeHiddenMarkers||ye(t.maybeHiddenMarkers,this)==-1)&&(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},mr.prototype.detachLine=function(e){if(this.lines.splice(ye(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},Tt(mr);function an(e,t,n,r,o){if(r&&r.shared)return zf(e,t,n,r,o);if(e.cm&&!e.cm.curOp)return je(e.cm,an)(e,t,n,r,o);var l=new mr(e,o),s=q(t,n);if(r&&ge(r,l,!1),s>0||s==0&&l.clearWhenEmpty!==!1)return l;if(l.replacedWith&&(l.collapsed=!0,l.widgetNode=Me("span",[l.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||l.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(l.widgetNode.insertLeft=!0)),l.collapsed){if(Ll(e,t.line,t,n,l)||t.line!=n.line&&Ll(e,n.line,t,n,l))throw new Error("Inserting collapsed marker partially overlapping an existing one");Mu()}l.addToHistory&&ya(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var u=t.line,c=e.cm,h;if(e.iter(u,n.line+1,function(b){c&&l.collapsed&&!c.options.lineWrapping&&Nt(b)==c.display.maxLine&&(h=!0),l.collapsed&&u!=t.line&&Ct(b,0),Nu(b,new hi(l,u==t.line?t.ch:null,u==n.line?n.ch:null),e.cm&&e.cm.curOp),++u}),l.collapsed&&e.iter(t.line,n.line+1,function(b){hr(e,b)&&Ct(b,0)}),l.clearOnEnter&&ne(l,"beforeCursorEnter",function(){return l.clear()}),l.readOnly&&(Eu(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),l.collapsed&&(l.id=++Ba,l.atomic=!0),c){if(h&&(c.curOp.updateMaxLine=!0),l.collapsed)ft(c,t.line,n.line+1);else if(l.className||l.startStyle||l.endStyle||l.css||l.attributes||l.title)for(var g=t.line;g<=n.line;g++)dr(c,g,"text");l.atomic&&ka(c.doc),Ke(c,"markerAdded",c,l)}return l}var Kn=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};Kn.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();Ke(this,"clear")}},Kn.prototype.find=function(e,t){return this.primary.find(e,t)},Tt(Kn);function zf(e,t,n,r,o){r=ge(r),r.shared=!1;var l=[an(e,t,n,r,o)],s=l[0],u=r.widgetNode;return yr(e,function(c){u&&(r.widgetNode=u.cloneNode(!0)),l.push(an(c,pe(c,t),pe(c,n),r,o));for(var h=0;h<c.linked.length;++h)if(c.linked[h].isParent)return;s=Ce(l)}),new Kn(l,s)}function Ha(e){return e.findMarks(T(e.first,0),e.clipPos(T(e.lastLine())),function(t){return t.parent})}function Uf(e,t){for(var n=0;n<t.length;n++){var r=t[n],o=r.find(),l=e.clipPos(o.from),s=e.clipPos(o.to);if(q(l,s)){var u=an(e,l,s,r.primary,r.primary.type);r.markers.push(u),u.parent=r}}}function Yf(e){for(var t=function(r){var o=e[r],l=[o.primary.doc];yr(o.primary.doc,function(c){return l.push(c)});for(var s=0;s<o.markers.length;s++){var u=o.markers[s];ye(l,u.doc)==-1&&(u.parent=null,o.markers.splice(s--,1))}},n=0;n<e.length;n++)t(n)}var Gf=0,ct=function(e,t,n,r,o){if(!(this instanceof ct))return new ct(e,t,n,r,o);n==null&&(n=0),Yn.call(this,[new Un([new Xr("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var l=T(n,0);this.sel=vr(l),this.history=new Ei(null),this.id=++Gf,this.modeOption=t,this.lineSep=r,this.direction=o=="rtl"?"rtl":"ltr",this.extend=!1,typeof e=="string"&&(e=this.splitLines(e)),Io(this,{from:l,to:l,text:e}),et(this,vr(l),xt)};ct.prototype=li(Yn.prototype,{constructor:ct,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Ln(this,this.first,this.first+this.size);return e===!1?t:t.join(e||this.lineSeparator())},setValue:qe(function(e){var t=T(this.first,0),n=this.first+this.size-1;on(this,{from:t,to:T(n,Z(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Dn(this.cm,0,0),et(this,vr(t),xt)}),replaceRange:function(e,t,n,r){t=pe(this,t),n=n?pe(this,n):t,ln(this,e,t,n,r)},getRange:function(e,t,n){var r=Qt(this,pe(this,e),pe(this,t));return n===!1?r:n===""?r.join(""):r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(O(this,e))return Z(this,e)},getLineNumber:function(e){return d(e)},getLineHandleVisualStart:function(e){return typeof e=="number"&&(e=Z(this,e)),Nt(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return pe(this,e)},getCursor:function(e){var t=this.sel.primary(),n;return e==null||e=="head"?n=t.head:e=="anchor"?n=t.anchor:e=="end"||e=="to"||e===!1?n=t.to():n=t.from(),n},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:qe(function(e,t,n){wa(this,pe(this,typeof e=="number"?T(e,t||0):e),null,n)}),setSelection:qe(function(e,t,n){wa(this,pe(this,e),pe(this,t||e),n)}),extendSelection:qe(function(e,t,n){Oi(this,pe(this,e),t&&pe(this,t),n)}),extendSelections:qe(function(e,t){xa(this,cl(this,e),t)}),extendSelectionsBy:qe(function(e,t){var n=Sr(this.sel.ranges,e);xa(this,cl(this,n),t)}),setSelections:qe(function(e,t,n){if(e.length){for(var r=[],o=0;o<e.length;o++)r[o]=new ke(pe(this,e[o].anchor),pe(this,e[o].head||e[o].anchor));t==null&&(t=Math.min(e.length-1,this.sel.primIndex)),et(this,Dt(this.cm,r,t),n)}}),addSelection:qe(function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new ke(pe(this,e),pe(this,t||e))),et(this,Dt(this.cm,r,r.length-1),n)}),getSelection:function(e){for(var t=this.sel.ranges,n,r=0;r<t.length;r++){var o=Qt(this,t[r].from(),t[r].to());n=n?n.concat(o):o}return e===!1?n:n.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var o=Qt(this,n[r].from(),n[r].to());e!==!1&&(o=o.join(e||this.lineSeparator())),t[r]=o}return t},replaceSelection:function(e,t,n){for(var r=[],o=0;o<this.sel.ranges.length;o++)r[o]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:qe(function(e,t,n){for(var r=[],o=this.sel,l=0;l<o.ranges.length;l++){var s=o.ranges[l];r[l]={from:s.from(),to:s.to(),text:this.splitLines(e[l]),origin:n}}for(var u=t&&t!="end"&&Nf(this,r,t),c=r.length-1;c>=0;c--)on(this,r[c]);u?Ca(this,u):this.cm&&en(this.cm)}),undo:qe(function(){Di(this,"undo")}),redo:qe(function(){Di(this,"redo")}),undoSelection:qe(function(){Di(this,"undo",!0)}),redoSelection:qe(function(){Di(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var o=0;o<e.undone.length;o++)e.undone[o].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){var e=this;this.history=new Ei(this.history),yr(this,function(t){return t.history=e.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:rn(this.history.done),undone:rn(this.history.undone)}},setHistory:function(e){var t=this.history=new Ei(this.history);t.done=rn(e.done.slice(0),null,!0),t.undone=rn(e.undone.slice(0),null,!0)},setGutterMarker:qe(function(e,t,n){return zn(this,e,"gutter",function(r){var o=r.gutterMarkers||(r.gutterMarkers={});return o[t]=n,!n&&ai(o)&&(r.gutterMarkers=null),!0})}),clearGutter:qe(function(e){var t=this;this.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&zn(t,n,"gutter",function(){return n.gutterMarkers[e]=null,ai(n.gutterMarkers)&&(n.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if(typeof e=="number"){if(!O(this,e)||(t=e,e=Z(this,e),!e))return null}else if(t=d(e),t==null)return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:qe(function(e,t,n){return zn(this,e,t=="gutter"?"gutter":"class",function(r){var o=t=="text"?"textClass":t=="background"?"bgClass":t=="gutter"?"gutterClass":"wrapClass";if(!r[o])r[o]=n;else{if($(n).test(r[o]))return!1;r[o]+=" "+n}return!0})}),removeLineClass:qe(function(e,t,n){return zn(this,e,t=="gutter"?"gutter":"class",function(r){var o=t=="text"?"textClass":t=="background"?"bgClass":t=="gutter"?"gutterClass":"wrapClass",l=r[o];if(l)if(n==null)r[o]=null;else{var s=l.match($(n));if(!s)return!1;var u=s.index+s[0].length;r[o]=l.slice(0,s.index)+(!s.index||u==l.length?"":" ")+l.slice(u)||null}else return!1;return!0})}),addLineWidget:qe(function(e,t,n){return Rf(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return an(this,pe(this,e),pe(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(t.nodeType==null?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=pe(this,e),an(this,e,e,n,"bookmark")},findMarksAt:function(e){e=pe(this,e);var t=[],n=Z(this,e.line).markedSpans;if(n)for(var r=0;r<n.length;++r){var o=n[r];(o.from==null||o.from<=e.ch)&&(o.to==null||o.to>=e.ch)&&t.push(o.marker.parent||o.marker)}return t},findMarks:function(e,t,n){e=pe(this,e),t=pe(this,t);var r=[],o=e.line;return this.iter(e.line,t.line+1,function(l){var s=l.markedSpans;if(s)for(var u=0;u<s.length;u++){var c=s[u];!(c.to!=null&&o==e.line&&e.ch>=c.to||c.from==null&&o!=e.line||c.from!=null&&o==t.line&&c.from>=t.ch)&&(!n||n(c.marker))&&r.push(c.marker.parent||c.marker)}++o}),r},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)n[r].from!=null&&e.push(n[r].marker)}),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter(function(o){var l=o.text.length+r;if(l>e)return t=e,!0;e-=l,++n}),pe(this,T(n,t))},indexFromPos:function(e){e=pe(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,function(r){t+=r.text.length+n}),t},copy:function(e){var t=new ct(Ln(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;e.from!=null&&e.from>t&&(t=e.from),e.to!=null&&e.to<n&&(n=e.to);var r=new ct(Ln(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Uf(r,Ha(this)),r},unlinkDoc:function(e){if(e instanceof Oe&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t){var n=this.linked[t];if(n.doc==e){this.linked.splice(t,1),e.unlinkDoc(this),Yf(Ha(this));break}}if(e.history==this.history){var r=[e.id];yr(e,function(o){return r.push(o.id)},!0),e.history=new Ei(null),e.history.done=rn(this.history.done,r),e.history.undone=rn(this.history.undone,r)}},iterLinkedDocs:function(e){yr(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Lt(e)},lineSeparator:function(){return this.lineSep||`
`},setDirection:qe(function(e){e!="rtl"&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(t){return t.order=null}),this.cm&&If(this.cm))})}),ct.prototype.eachLine=ct.prototype.iter;var Wa=0;function Kf(e){var t=this;if(Pa(t),!(Fe(t,e)||$t(t.display,e))){$e(e),L&&(Wa=+new Date);var n=Er(t,e,!0),r=e.dataTransfer.files;if(!(!n||t.isReadOnly()))if(r&&r.length&&window.FileReader&&window.File)for(var o=r.length,l=Array(o),s=0,u=function(){++s==o&&je(t,function(){n=pe(t.doc,n);var C={from:n,to:n,text:t.doc.splitLines(l.filter(function(E){return E!=null}).join(t.doc.lineSeparator())),origin:"paste"};on(t.doc,C),Ca(t.doc,vr(pe(t.doc,n),pe(t.doc,gr(C))))})()},c=function(C,E){if(t.options.allowDropFileTypes&&ye(t.options.allowDropFileTypes,C.type)==-1){u();return}var F=new FileReader;F.onerror=function(){return u()},F.onload=function(){var R=F.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(R)){u();return}l[E]=R,u()},F.readAsText(C)},h=0;h<r.length;h++)c(r[h],h);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1){t.state.draggingText(e),setTimeout(function(){return t.display.input.focus()},20);return}try{var g=e.dataTransfer.getData("Text");if(g){var b;if(t.state.draggingText&&!t.state.draggingText.copy&&(b=t.listSelections()),Ni(t.doc,vr(n,n)),b)for(var k=0;k<b.length;++k)ln(t.doc,"",b[k].anchor,b[k].head,"drag");t.replaceSelection(g,"around","paste"),t.display.input.focus()}}catch{}}}}function jf(e,t){if(L&&(!e.state.draggingText||+new Date-Wa<100)){sr(t);return}if(!(Fe(e,t)||$t(e.display,t))&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!fe)){var n=w("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",K&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),K&&n.parentNode.removeChild(n)}}function qf(e,t){var n=Er(e,t);if(n){var r=document.createDocumentFragment();bo(e,n,r),e.display.dragCursor||(e.display.dragCursor=w("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),W(e.display.dragCursor,r)}}function Pa(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function _a(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),n=[],r=0;r<t.length;r++){var o=t[r].CodeMirror;o&&n.push(o)}n.length&&n[0].operation(function(){for(var l=0;l<n.length;l++)e(n[l])})}}var Ra=!1;function Xf(){Ra||(Jf(),Ra=!0)}function Jf(){var e;ne(window,"resize",function(){e==null&&(e=setTimeout(function(){e=null,_a(Qf)},100))}),ne(window,"blur",function(){return _a($r)})}function Qf(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var br={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},jn=0;jn<10;jn++)br[jn+48]=br[jn+96]=String(jn);for(var Fi=65;Fi<=90;Fi++)br[Fi]=String.fromCharCode(Fi);for(var qn=1;qn<=12;qn++)br[qn+111]=br[qn+63235]="F"+qn;var tr={};tr.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},tr.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},tr.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},tr.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},tr.default=ce?tr.macDefault:tr.pcDefault;function Zf(e){var t=e.split(/-(?!$)/);e=t[t.length-1];for(var n,r,o,l,s=0;s<t.length-1;s++){var u=t[s];if(/^(cmd|meta|m)$/i.test(u))l=!0;else if(/^a(lt)?$/i.test(u))n=!0;else if(/^(c|ctrl|control)$/i.test(u))r=!0;else if(/^s(hift)?$/i.test(u))o=!0;else throw new Error("Unrecognized modifier name: "+u)}return n&&(e="Alt-"+e),r&&(e="Ctrl-"+e),l&&(e="Cmd-"+e),o&&(e="Shift-"+e),e}function Vf(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if(r=="..."){delete e[n];continue}for(var o=Sr(n.split(" "),Zf),l=0;l<o.length;l++){var s=void 0,u=void 0;l==o.length-1?(u=o.join(" "),s=r):(u=o.slice(0,l+1).join(" "),s="...");var c=t[u];if(!c)t[u]=s;else if(c!=s)throw new Error("Inconsistent bindings for "+u)}delete e[n]}for(var h in t)e[h]=t[h];return e}function sn(e,t,n,r){t=Bi(t);var o=t.call?t.call(e,r):t[e];if(o===!1)return"nothing";if(o==="...")return"multi";if(o!=null&&n(o))return"handled";if(t.fallthrough){if(Object.prototype.toString.call(t.fallthrough)!="[object Array]")return sn(e,t.fallthrough,n,r);for(var l=0;l<t.fallthrough.length;l++){var s=sn(e,t.fallthrough[l],n,r);if(s)return s}}}function za(e){var t=typeof e=="string"?e:br[e.keyCode];return t=="Ctrl"||t=="Alt"||t=="Shift"||t=="Mod"}function Ua(e,t,n){var r=e;return t.altKey&&r!="Alt"&&(e="Alt-"+e),(V?t.metaKey:t.ctrlKey)&&r!="Ctrl"&&(e="Ctrl-"+e),(V?t.ctrlKey:t.metaKey)&&r!="Mod"&&(e="Cmd-"+e),!n&&t.shiftKey&&r!="Shift"&&(e="Shift-"+e),e}function Ya(e,t){if(K&&e.keyCode==34&&e.char)return!1;var n=br[e.keyCode];return n==null||e.altGraphKey?!1:(e.keyCode==3&&e.code&&(n=e.code),Ua(n,e,t))}function Bi(e){return typeof e=="string"?tr[e]:e}function un(e,t){for(var n=e.doc.sel.ranges,r=[],o=0;o<n.length;o++){for(var l=t(n[o]);r.length&&q(l.from,Ce(r).to)<=0;){var s=r.pop();if(q(s.from,l.from)<0){l.from=s.from;break}}r.push(l)}yt(e,function(){for(var u=r.length-1;u>=0;u--)ln(e.doc,"",r[u].from,r[u].to,"+delete");en(e)})}function Ho(e,t,n){var r=or(e.text,t+n,n);return r<0||r>e.text.length?null:r}function Wo(e,t,n){var r=Ho(e,t.ch,n);return r==null?null:new T(t.line,r,n<0?"after":"before")}function Po(e,t,n,r,o){if(e){t.doc.direction=="rtl"&&(o=-o);var l=be(n,t.doc.direction);if(l){var s=o<0?Ce(l):l[0],u=o<0==(s.level==1),c=u?"after":"before",h;if(s.level>0||t.doc.direction=="rtl"){var g=Qr(t,n);h=o<0?n.text.length-1:0;var b=Yt(t,g,h).top;h=_t(function(k){return Yt(t,g,k).top==b},o<0==(s.level==1)?s.from:s.to-1,h),c=="before"&&(h=Ho(n,h,1))}else h=o<0?s.to:s.from;return new T(r,h,c)}}return new T(r,o<0?n.text.length:0,o<0?"before":"after")}function $f(e,t,n,r){var o=be(t,e.doc.direction);if(!o)return Wo(t,n,r);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var l=ar(o,n.ch,n.sticky),s=o[l];if(e.doc.direction=="ltr"&&s.level%2==0&&(r>0?s.to>n.ch:s.from<n.ch))return Wo(t,n,r);var u=function(Y,X){return Ho(t,Y instanceof T?Y.ch:Y,X)},c,h=function(Y){return e.options.lineWrapping?(c=c||Qr(e,t),Xl(e,t,c,Y)):{begin:0,end:t.text.length}},g=h(n.sticky=="before"?u(n,-1):n.ch);if(e.doc.direction=="rtl"||s.level==1){var b=s.level==1==r<0,k=u(n,b?1:-1);if(k!=null&&(b?k<=s.to&&k<=g.end:k>=s.from&&k>=g.begin)){var C=b?"before":"after";return new T(n.line,k,C)}}var E=function(Y,X,G){for(var Q=function(Ee,Xe){return Xe?new T(n.line,u(Ee,1),"before"):new T(n.line,Ee,"after")};Y>=0&&Y<o.length;Y+=X){var ie=o[Y],ee=X>0==(ie.level!=1),me=ee?G.begin:u(G.end,-1);if(ie.from<=me&&me<ie.to||(me=ee?ie.from:u(ie.to,-1),G.begin<=me&&me<G.end))return Q(me,ee)}},F=E(l+r,r,g);if(F)return F;var R=r>0?g.end:u(g.begin,-1);return R!=null&&!(r>0&&R==t.text.length)&&(F=E(r>0?0:o.length-1,r,h(R)),F)?F:null}var Xn={selectAll:Aa,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),xt)},killLine:function(e){return un(e,function(t){if(t.empty()){var n=Z(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:T(t.head.line+1,0)}:{from:t.head,to:T(t.head.line,n)}}else return{from:t.from(),to:t.to()}})},deleteLine:function(e){return un(e,function(t){return{from:T(t.from().line,0),to:pe(e.doc,T(t.to().line+1,0))}})},delLineLeft:function(e){return un(e,function(t){return{from:T(t.from().line,0),to:t.from()}})},delWrappedLineLeft:function(e){return un(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return{from:r,to:t.from()}})},delWrappedLineRight:function(e){return un(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(T(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(T(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return Ga(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return Ka(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return ec(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},wt)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},wt)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?Ka(e,t.head):r},wt)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("	")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,o=0;o<n.length;o++){var l=n[o].from(),s=Le(e.getLine(l.line),l.ch,r);t.push(xn(r-s%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return yt(e,function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++)if(t[r].empty()){var o=t[r].head,l=Z(e.doc,o.line).text;if(l){if(o.ch==l.length&&(o=new T(o.line,o.ch-1)),o.ch>0)o=new T(o.line,o.ch+1),e.replaceRange(l.charAt(o.ch-1)+l.charAt(o.ch-2),T(o.line,o.ch-2),o,"+transpose");else if(o.line>e.doc.first){var s=Z(e.doc,o.line-1).text;s&&(o=new T(o.line,1),e.replaceRange(l.charAt(0)+e.doc.lineSeparator()+s.charAt(s.length-1),T(o.line-1,s.length-1),o,"+transpose"))}}n.push(new ke(o,o))}e.setSelections(n)})},newlineAndIndent:function(e){return yt(e,function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);en(e)})},openLine:function(e){return e.replaceSelection(`
`,"start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Ga(e,t){var n=Z(e.doc,t),r=Nt(n);return r!=n&&(t=d(r)),Po(!0,e,r,t,1)}function ec(e,t){var n=Z(e.doc,t),r=Hu(n);return r!=n&&(t=d(r)),Po(!0,e,n,t,-1)}function Ka(e,t){var n=Ga(e,t.line),r=Z(e.doc,n.line),o=be(r,e.doc.direction);if(!o||o[0].level==0){var l=Math.max(n.ch,r.text.search(/\S/)),s=t.line==n.line&&t.ch<=l&&t.ch;return T(n.line,s?0:l,n.sticky)}return n}function Hi(e,t,n){if(typeof t=="string"&&(t=Xn[t],!t))return!1;e.display.input.ensurePolled();var r=e.display.shift,o=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),o=t(e)!=ir}finally{e.display.shift=r,e.state.suppressEdits=!1}return o}function tc(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var o=sn(t,e.state.keyMaps[r],n,e);if(o)return o}return e.options.extraKeys&&sn(t,e.options.extraKeys,n,e)||sn(t,e.options.keyMap,n,e)}var rc=new Ht;function Jn(e,t,n,r){var o=e.state.keySeq;if(o){if(za(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:rc.set(50,function(){e.state.keySeq==o&&(e.state.keySeq=null,e.display.input.reset())}),ja(e,o+" "+t,n,r))return!0}return ja(e,t,n,r)}function ja(e,t,n,r){var o=tc(e,t,r);return o=="multi"&&(e.state.keySeq=t),o=="handled"&&Ke(e,"keyHandled",e,t,n),(o=="handled"||o=="multi")&&($e(n),xo(e)),!!o}function qa(e,t){var n=Ya(t,!0);return n?t.shiftKey&&!e.state.keySeq?Jn(e,"Shift-"+n,t,function(r){return Hi(e,r,!0)})||Jn(e,n,t,function(r){if(typeof r=="string"?/^go[A-Z]/.test(r):r.motion)return Hi(e,r)}):Jn(e,n,t,function(r){return Hi(e,r)}):!1}function nc(e,t,n){return Jn(e,"'"+n+"'",t,function(r){return Hi(e,r,!0)})}var _o=null;function Xa(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField())&&(t.curOp.focus=le(we(t)),!Fe(t,e))){L&&N<11&&e.keyCode==27&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=n==16||e.shiftKey;var r=qa(t,e);K&&(_o=r?n:null,!r&&n==88&&!fi&&(ce?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),p&&!ce&&!r&&n==46&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),n==18&&!/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)&&ic(t)}}function ic(e){var t=e.display.lineDiv;ue(t,"CodeMirror-crosshair");function n(r){(r.keyCode==18||!r.altKey)&&(he(t,"CodeMirror-crosshair"),Ve(document,"keyup",n),Ve(document,"mouseover",n))}ne(document,"keyup",n),ne(document,"mouseover",n)}function Ja(e){e.keyCode==16&&(this.doc.sel.shift=!1),Fe(this,e)}function Qa(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField())&&!($t(t.display,e)||Fe(t,e)||e.ctrlKey&&!e.altKey||ce&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(K&&n==_o){_o=null,$e(e);return}if(!(K&&(!e.which||e.which<10)&&qa(t,e))){var o=String.fromCharCode(r??n);o!="\b"&&(nc(t,e,o)||t.display.input.onKeyPress(e))}}}var oc=400,Ro=function(e,t,n){this.time=e,this.pos=t,this.button=n};Ro.prototype.compare=function(e,t,n){return this.time+oc>e&&q(t,this.pos)==0&&n==this.button};var Qn,Zn;function lc(e,t){var n=+new Date;return Zn&&Zn.compare(n,e,t)?(Qn=Zn=null,"triple"):Qn&&Qn.compare(n,e,t)?(Zn=new Ro(n,e,t),Qn=null,"double"):(Qn=new Ro(n,e,t),Zn=null,"single")}function Za(e){var t=this,n=t.display;if(!(Fe(t,e)||n.activeTouch&&n.input.supportsTouch())){if(n.input.ensurePolled(),n.shift=e.shiftKey,$t(n,e)){B||(n.scroller.draggable=!1,setTimeout(function(){return n.scroller.draggable=!0},100));return}if(!zo(t,e)){var r=Er(t,e),o=At(e),l=r?lc(r,o):"single";de(t).focus(),o==1&&t.state.selectingText&&t.state.selectingText(e),!(r&&ac(t,o,r,l,e))&&(o==1?r?uc(t,r,l,e):Cn(e)==n.scroller&&$e(e):o==2?(r&&Oi(t.doc,r),setTimeout(function(){return n.input.focus()},20)):o==3&&(J?t.display.input.onContextMenu(e):wo(t)))}}}function ac(e,t,n,r,o){var l="Click";return r=="double"?l="Double"+l:r=="triple"&&(l="Triple"+l),l=(t==1?"Left":t==2?"Middle":"Right")+l,Jn(e,Ua(l,o),o,function(s){if(typeof s=="string"&&(s=Xn[s]),!s)return!1;var u=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),u=s(e,n)!=ir}finally{e.state.suppressEdits=!1}return u})}function sc(e,t,n){var r=e.getOption("configureMouse"),o=r?r(e,t,n):{};if(o.unit==null){var l=ve?n.shiftKey&&n.metaKey:n.altKey;o.unit=l?"rectangle":t=="single"?"char":t=="double"?"word":"line"}return(o.extend==null||e.doc.extend)&&(o.extend=e.doc.extend||n.shiftKey),o.addNew==null&&(o.addNew=ce?n.metaKey:n.ctrlKey),o.moveOnDrag==null&&(o.moveOnDrag=!(ce?n.altKey:n.ctrlKey)),o}function uc(e,t,n,r){L?setTimeout(re(Vl,e),0):e.curOp.focus=le(we(e));var o=sc(e,n,r),l=e.doc.sel,s;e.options.dragDrop&&Vi&&!e.isReadOnly()&&n=="single"&&(s=l.contains(t))>-1&&(q((s=l.ranges[s]).from(),t)<0||t.xRel>0)&&(q(s.to(),t)>0||t.xRel<0)?fc(e,r,t,o):cc(e,r,t,o)}function fc(e,t,n,r){var o=e.display,l=!1,s=je(e,function(h){B&&(o.scroller.draggable=!1),e.state.draggingText=!1,e.state.delayingBlurEvent&&(e.hasFocus()?e.state.delayingBlurEvent=!1:wo(e)),Ve(o.wrapper.ownerDocument,"mouseup",s),Ve(o.wrapper.ownerDocument,"mousemove",u),Ve(o.scroller,"dragstart",c),Ve(o.scroller,"drop",s),l||($e(h),r.addNew||Oi(e.doc,n,null,null,r.extend),B&&!fe||L&&N==9?setTimeout(function(){o.wrapper.ownerDocument.body.focus({preventScroll:!0}),o.input.focus()},20):o.input.focus())}),u=function(h){l=l||Math.abs(t.clientX-h.clientX)+Math.abs(t.clientY-h.clientY)>=10},c=function(){return l=!0};B&&(o.scroller.draggable=!0),e.state.draggingText=s,s.copy=!r.moveOnDrag,ne(o.wrapper.ownerDocument,"mouseup",s),ne(o.wrapper.ownerDocument,"mousemove",u),ne(o.scroller,"dragstart",c),ne(o.scroller,"drop",s),e.state.delayingBlurEvent=!0,setTimeout(function(){return o.input.focus()},20),o.scroller.dragDrop&&o.scroller.dragDrop()}function Va(e,t,n){if(n=="char")return new ke(t,t);if(n=="word")return e.findWordAt(t);if(n=="line")return new ke(T(t.line,0),pe(e.doc,T(t.line+1,0)));var r=n(e,t);return new ke(r.from,r.to)}function cc(e,t,n,r){L&&wo(e);var o=e.display,l=e.doc;$e(t);var s,u,c=l.sel,h=c.ranges;if(r.addNew&&!r.extend?(u=l.sel.contains(n),u>-1?s=h[u]:s=new ke(n,n)):(s=l.sel.primary(),u=l.sel.primIndex),r.unit=="rectangle")r.addNew||(s=new ke(n,n)),n=Er(e,t,!0,!0),u=-1;else{var g=Va(e,n,r.unit);r.extend?s=Fo(s,g.anchor,g.head,r.extend):s=g}r.addNew?u==-1?(u=h.length,et(l,Dt(e,h.concat([s]),u),{scroll:!1,origin:"*mouse"})):h.length>1&&h[u].empty()&&r.unit=="char"&&!r.extend?(et(l,Dt(e,h.slice(0,u).concat(h.slice(u+1)),0),{scroll:!1,origin:"*mouse"}),c=l.sel):Bo(l,u,s,Wt):(u=0,et(l,new St([s],0),Wt),c=l.sel);var b=n;function k(G){if(q(b,G)!=0)if(b=G,r.unit=="rectangle"){for(var Q=[],ie=e.options.tabSize,ee=Le(Z(l,n.line).text,n.ch,ie),me=Le(Z(l,G.line).text,G.ch,ie),Ee=Math.min(ee,me),Xe=Math.max(ee,me),Ie=Math.min(n.line,G.line),mt=Math.min(e.lastLine(),Math.max(n.line,G.line));Ie<=mt;Ie++){var ht=Z(l,Ie).text,_e=Pt(ht,Ee,ie);Ee==Xe?Q.push(new ke(T(Ie,_e),T(Ie,_e))):ht.length>_e&&Q.push(new ke(T(Ie,_e),T(Ie,Pt(ht,Xe,ie))))}Q.length||Q.push(new ke(n,n)),et(l,Dt(e,c.ranges.slice(0,u).concat(Q),u),{origin:"*mouse",scroll:!1}),e.scrollIntoView(G)}else{var dt=s,Ze=Va(e,G,r.unit),ze=dt.anchor,Re;q(Ze.anchor,ze)>0?(Re=Ze.head,ze=qr(dt.from(),Ze.anchor)):(Re=Ze.anchor,ze=ut(dt.to(),Ze.head));var He=c.ranges.slice(0);He[u]=hc(e,new ke(pe(l,ze),Re)),et(l,Dt(e,He,u),Wt)}}var C=o.wrapper.getBoundingClientRect(),E=0;function F(G){var Q=++E,ie=Er(e,G,!0,r.unit=="rectangle");if(ie)if(q(ie,b)!=0){e.curOp.focus=le(we(e)),k(ie);var ee=ki(o,l);(ie.line>=ee.to||ie.line<ee.from)&&setTimeout(je(e,function(){E==Q&&F(G)}),150)}else{var me=G.clientY<C.top?-20:G.clientY>C.bottom?20:0;me&&setTimeout(je(e,function(){E==Q&&(o.scroller.scrollTop+=me,F(G))}),50)}}function R(G){e.state.selectingText=!1,E=1/0,G&&($e(G),o.input.focus()),Ve(o.wrapper.ownerDocument,"mousemove",Y),Ve(o.wrapper.ownerDocument,"mouseup",X),l.history.lastSelOrigin=null}var Y=je(e,function(G){G.buttons===0||!At(G)?R(G):F(G)}),X=je(e,R);e.state.selectingText=X,ne(o.wrapper.ownerDocument,"mousemove",Y),ne(o.wrapper.ownerDocument,"mouseup",X)}function hc(e,t){var n=t.anchor,r=t.head,o=Z(e.doc,n.line);if(q(n,r)==0&&n.sticky==r.sticky)return t;var l=be(o);if(!l)return t;var s=ar(l,n.ch,n.sticky),u=l[s];if(u.from!=n.ch&&u.to!=n.ch)return t;var c=s+(u.from==n.ch==(u.level!=1)?0:1);if(c==0||c==l.length)return t;var h;if(r.line!=n.line)h=(r.line-n.line)*(e.doc.direction=="ltr"?1:-1)>0;else{var g=ar(l,r.ch,r.sticky),b=g-s||(r.ch-n.ch)*(u.level==1?-1:1);g==c-1||g==c?h=b<0:h=b>0}var k=l[c+(h?-1:0)],C=h==(k.level==1),E=C?k.from:k.to,F=C?"after":"before";return n.ch==E&&n.sticky==F?t:new ke(new T(n.line,E,F),r)}function $a(e,t,n,r){var o,l;if(t.touches)o=t.touches[0].clientX,l=t.touches[0].clientY;else try{o=t.clientX,l=t.clientY}catch{return!1}if(o>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&$e(t);var s=e.display,u=s.lineDiv.getBoundingClientRect();if(l>u.bottom||!gt(e,n))return st(t);l-=u.top-s.viewOffset;for(var c=0;c<e.display.gutterSpecs.length;++c){var h=s.gutters.childNodes[c];if(h&&h.getBoundingClientRect().right>=o){var g=m(e.doc,l),b=e.display.gutterSpecs[c];return De(e,n,e,g,b.className,t),st(t)}}}function zo(e,t){return $a(e,t,"gutterClick",!0)}function es(e,t){$t(e.display,t)||dc(e,t)||Fe(e,t,"contextmenu")||J||e.display.input.onContextMenu(t)}function dc(e,t){return gt(e,"gutterContextMenu")?$a(e,t,"gutterContextMenu",!1):!1}function ts(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Nn(e)}var fn={toString:function(){return"CodeMirror.Init"}},rs={},Wi={};function pc(e){var t=e.optionHandlers;function n(r,o,l,s){e.defaults[r]=o,l&&(t[r]=s?function(u,c,h){h!=fn&&l(u,c,h)}:l)}e.defineOption=n,e.Init=fn,n("value","",function(r,o){return r.setValue(o)},!0),n("mode",null,function(r,o){r.doc.modeOption=o,No(r)},!0),n("indentUnit",2,No,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,function(r){_n(r),Nn(r),ft(r)},!0),n("lineSeparator",null,function(r,o){if(r.doc.lineSep=o,!!o){var l=[],s=r.doc.first;r.doc.iter(function(c){for(var h=0;;){var g=c.text.indexOf(o,h);if(g==-1)break;h=g+o.length,l.push(T(s,g))}s++});for(var u=l.length-1;u>=0;u--)ln(r.doc,o,l[u],T(l[u].line,l[u].ch+o.length))}}),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(r,o,l){r.state.specialChars=new RegExp(o.source+(o.test("	")?"":"|	"),"g"),l!=fn&&r.refresh()}),n("specialCharPlaceholder",Uu,function(r){return r.refresh()},!0),n("electricChars",!0),n("inputStyle",oe?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),n("spellcheck",!1,function(r,o){return r.getInputField().spellcheck=o},!0),n("autocorrect",!1,function(r,o){return r.getInputField().autocorrect=o},!0),n("autocapitalize",!1,function(r,o){return r.getInputField().autocapitalize=o},!0),n("rtlMoveVisually",!D),n("wholeLineUpdateBefore",!0),n("theme","default",function(r){ts(r),Pn(r)},!0),n("keyMap","default",function(r,o,l){var s=Bi(o),u=l!=fn&&Bi(l);u&&u.detach&&u.detach(r,s),s.attach&&s.attach(r,u||null)}),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,gc,!0),n("gutters",[],function(r,o){r.display.gutterSpecs=Mo(o,r.options.lineNumbers),Pn(r)},!0),n("fixedGutter",!0,function(r,o){r.display.gutters.style.left=o?yo(r.display)+"px":"0",r.refresh()},!0),n("coverGutterNextToScrollbar",!1,function(r){return tn(r)},!0),n("scrollbarStyle","native",function(r){ia(r),tn(r),r.display.scrollbars.setScrollTop(r.doc.scrollTop),r.display.scrollbars.setScrollLeft(r.doc.scrollLeft)},!0),n("lineNumbers",!1,function(r,o){r.display.gutterSpecs=Mo(r.options.gutters,o),Pn(r)},!0),n("firstLineNumber",1,Pn,!0),n("lineNumberFormatter",function(r){return r},Pn,!0),n("showCursorWhenSelecting",!1,In,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,function(r,o){o=="nocursor"&&($r(r),r.display.input.blur()),r.display.input.readOnlyChanged(o)}),n("screenReaderLabel",null,function(r,o){o=o===""?null:o,r.display.input.screenReaderLabelChanged(o)}),n("disableInput",!1,function(r,o){o||r.display.input.reset()},!0),n("dragDrop",!0,vc),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,In,!0),n("singleCursorHeightPerLine",!0,In,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,_n,!0),n("addModeClass",!1,_n,!0),n("pollInterval",100),n("undoDepth",200,function(r,o){return r.doc.history.undoDepth=o}),n("historyEventDelay",1250),n("viewportMargin",10,function(r){return r.refresh()},!0),n("maxHighlightLength",1e4,_n,!0),n("moveInputWithCursor",!0,function(r,o){o||r.display.input.resetPosition()}),n("tabindex",null,function(r,o){return r.display.input.getField().tabIndex=o||""}),n("autofocus",null),n("direction","ltr",function(r,o){return r.doc.setDirection(o)},!0),n("phrases",null)}function vc(e,t,n){var r=n&&n!=fn;if(!t!=!r){var o=e.display.dragFunctions,l=t?ne:Ve;l(e.display.scroller,"dragstart",o.start),l(e.display.scroller,"dragenter",o.enter),l(e.display.scroller,"dragover",o.over),l(e.display.scroller,"dragleave",o.leave),l(e.display.scroller,"drop",o.drop)}}function gc(e){e.options.lineWrapping?(ue(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(he(e.display.wrapper,"CodeMirror-wrap"),lo(e)),mo(e),ft(e),Nn(e),setTimeout(function(){return tn(e)},100)}function Oe(e,t){var n=this;if(!(this instanceof Oe))return new Oe(e,t);this.options=t=t?ge(t):{},ge(rs,t,!1);var r=t.value;typeof r=="string"?r=new ct(r,t.mode,null,t.lineSeparator,t.direction):t.mode&&(r.modeOption=t.mode),this.doc=r;var o=new Oe.inputStyles[t.inputStyle](this),l=this.display=new Mf(e,r,o,t);l.wrapper.CodeMirror=this,ts(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),ia(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Ht,keySeq:null,specialChars:null},t.autofocus&&!oe&&l.input.focus(),L&&N<11&&setTimeout(function(){return n.display.input.reset(!0)},20),yc(this),Xf(),Ir(this),this.curOp.forceUpdate=!0,pa(this,r),t.autofocus&&!oe||this.hasFocus()?setTimeout(function(){n.hasFocus()&&!n.state.focused&&Co(n)},20):$r(this);for(var s in Wi)Wi.hasOwnProperty(s)&&Wi[s](this,t[s],fn);aa(this),t.finishInit&&t.finishInit(this);for(var u=0;u<Uo.length;++u)Uo[u](this);Dr(this),B&&t.lineWrapping&&getComputedStyle(l.lineDiv).textRendering=="optimizelegibility"&&(l.lineDiv.style.textRendering="auto")}Oe.defaults=rs,Oe.optionHandlers=Wi;function yc(e){var t=e.display;ne(t.scroller,"mousedown",je(e,Za)),L&&N<11?ne(t.scroller,"dblclick",je(e,function(c){if(!Fe(e,c)){var h=Er(e,c);if(!(!h||zo(e,c)||$t(e.display,c))){$e(c);var g=e.findWordAt(h);Oi(e.doc,g.anchor,g.head)}}})):ne(t.scroller,"dblclick",function(c){return Fe(e,c)||$e(c)}),ne(t.scroller,"contextmenu",function(c){return es(e,c)}),ne(t.input.getField(),"contextmenu",function(c){t.scroller.contains(c.target)||es(e,c)});var n,r={end:0};function o(){t.activeTouch&&(n=setTimeout(function(){return t.activeTouch=null},1e3),r=t.activeTouch,r.end=+new Date)}function l(c){if(c.touches.length!=1)return!1;var h=c.touches[0];return h.radiusX<=1&&h.radiusY<=1}function s(c,h){if(h.left==null)return!0;var g=h.left-c.left,b=h.top-c.top;return g*g+b*b>20*20}ne(t.scroller,"touchstart",function(c){if(!Fe(e,c)&&!l(c)&&!zo(e,c)){t.input.ensurePolled(),clearTimeout(n);var h=+new Date;t.activeTouch={start:h,moved:!1,prev:h-r.end<=300?r:null},c.touches.length==1&&(t.activeTouch.left=c.touches[0].pageX,t.activeTouch.top=c.touches[0].pageY)}}),ne(t.scroller,"touchmove",function(){t.activeTouch&&(t.activeTouch.moved=!0)}),ne(t.scroller,"touchend",function(c){var h=t.activeTouch;if(h&&!$t(t,c)&&h.left!=null&&!h.moved&&new Date-h.start<300){var g=e.coordsChar(t.activeTouch,"page"),b;!h.prev||s(h,h.prev)?b=new ke(g,g):!h.prev.prev||s(h,h.prev.prev)?b=e.findWordAt(g):b=new ke(T(g.line,0),pe(e.doc,T(g.line+1,0))),e.setSelection(b.anchor,b.head),e.focus(),$e(c)}o()}),ne(t.scroller,"touchcancel",o),ne(t.scroller,"scroll",function(){t.scroller.clientHeight&&(Fn(e,t.scroller.scrollTop),Or(e,t.scroller.scrollLeft,!0),De(e,"scroll",e))}),ne(t.scroller,"mousewheel",function(c){return fa(e,c)}),ne(t.scroller,"DOMMouseScroll",function(c){return fa(e,c)}),ne(t.wrapper,"scroll",function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0}),t.dragFunctions={enter:function(c){Fe(e,c)||sr(c)},over:function(c){Fe(e,c)||(qf(e,c),sr(c))},start:function(c){return jf(e,c)},drop:je(e,Kf),leave:function(c){Fe(e,c)||Pa(e)}};var u=t.input.getField();ne(u,"keyup",function(c){return Ja.call(e,c)}),ne(u,"keydown",je(e,Xa)),ne(u,"keypress",je(e,Qa)),ne(u,"focus",function(c){return Co(e,c)}),ne(u,"blur",function(c){return $r(e,c)})}var Uo=[];Oe.defineInitHook=function(e){return Uo.push(e)};function Vn(e,t,n,r){var o=e.doc,l;n==null&&(n="add"),n=="smart"&&(o.mode.indent?l=Tn(e,t).state:n="prev");var s=e.options.tabSize,u=Z(o,t),c=Le(u.text,null,s);u.stateAfter&&(u.stateAfter=null);var h=u.text.match(/^\s*/)[0],g;if(!r&&!/\S/.test(u.text))g=0,n="not";else if(n=="smart"&&(g=o.mode.indent(l,u.text.slice(h.length),u.text),g==ir||g>150)){if(!r)return;n="prev"}n=="prev"?t>o.first?g=Le(Z(o,t-1).text,null,s):g=0:n=="add"?g=c+e.options.indentUnit:n=="subtract"?g=c-e.options.indentUnit:typeof n=="number"&&(g=c+n),g=Math.max(0,g);var b="",k=0;if(e.options.indentWithTabs)for(var C=Math.floor(g/s);C;--C)k+=s,b+="	";if(k<g&&(b+=xn(g-k)),b!=h)return ln(o,b,T(t,0),T(t,h.length),"+input"),u.stateAfter=null,!0;for(var E=0;E<o.sel.ranges.length;E++){var F=o.sel.ranges[E];if(F.head.line==t&&F.head.ch<h.length){var R=T(t,h.length);Bo(o,E,new ke(R,R));break}}}var Ft=null;function Pi(e){Ft=e}function Yo(e,t,n,r,o){var l=e.doc;e.display.shift=!1,r||(r=l.sel);var s=+new Date-200,u=o=="paste"||e.state.pasteIncoming>s,c=Lt(t),h=null;if(u&&r.ranges.length>1)if(Ft&&Ft.text.join(`
`)==t){if(r.ranges.length%Ft.text.length==0){h=[];for(var g=0;g<Ft.text.length;g++)h.push(l.splitLines(Ft.text[g]))}}else c.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(h=Sr(c,function(Y){return[Y]}));for(var b=e.curOp.updateInput,k=r.ranges.length-1;k>=0;k--){var C=r.ranges[k],E=C.from(),F=C.to();C.empty()&&(n&&n>0?E=T(E.line,E.ch-n):e.state.overwrite&&!u?F=T(F.line,Math.min(Z(l,F.line).text.length,F.ch+Ce(c).length)):u&&Ft&&Ft.lineWise&&Ft.text.join(`
`)==c.join(`
`)&&(E=F=T(E.line,0)));var R={from:E,to:F,text:h?h[k%h.length]:c,origin:o||(u?"paste":e.state.cutIncoming>s?"cut":"+input")};on(e.doc,R),Ke(e,"inputRead",e,R)}t&&!u&&is(e,t),en(e),e.curOp.updateInput<2&&(e.curOp.updateInput=b),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function ns(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),!t.isReadOnly()&&!t.options.disableInput&&t.hasFocus()&&yt(t,function(){return Yo(t,n,0,null,"paste")}),!0}function is(e,t){if(!(!e.options.electricChars||!e.options.smartIndent))for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var o=n.ranges[r];if(!(o.head.ch>100||r&&n.ranges[r-1].head.line==o.head.line)){var l=e.getModeAt(o.head),s=!1;if(l.electricChars){for(var u=0;u<l.electricChars.length;u++)if(t.indexOf(l.electricChars.charAt(u))>-1){s=Vn(e,o.head.line,"smart");break}}else l.electricInput&&l.electricInput.test(Z(e.doc,o.head.line).text.slice(0,o.head.ch))&&(s=Vn(e,o.head.line,"smart"));s&&Ke(e,"electricInput",e,o.head.line)}}}function os(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var o=e.doc.sel.ranges[r].head.line,l={anchor:T(o,0),head:T(o+1,0)};n.push(l),t.push(e.getRange(l.anchor,l.head))}return{text:t,ranges:n}}function Go(e,t,n,r){e.setAttribute("autocorrect",n?"on":"off"),e.setAttribute("autocapitalize",r?"on":"off"),e.setAttribute("spellcheck",!!t)}function ls(){var e=w("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),t=w("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return B?e.style.width="1000px":e.setAttribute("wrap","off"),M&&(e.style.border="1px solid black"),t}function mc(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){de(this).focus(),this.display.input.focus()},setOption:function(r,o){var l=this.options,s=l[r];l[r]==o&&r!="mode"||(l[r]=o,t.hasOwnProperty(r)&&je(this,t[r])(this,o,s),De(this,"optionChange",this,r))},getOption:function(r){return this.options[r]},getDoc:function(){return this.doc},addKeyMap:function(r,o){this.state.keyMaps[o?"push":"unshift"](Bi(r))},removeKeyMap:function(r){for(var o=this.state.keyMaps,l=0;l<o.length;++l)if(o[l]==r||o[l].name==r)return o.splice(l,1),!0},addOverlay:it(function(r,o){var l=r.token?r:e.getMode(this.options,r);if(l.startState)throw new Error("Overlays may not be stateful.");Ji(this.state.overlays,{mode:l,modeSpec:r,opaque:o&&o.opaque,priority:o&&o.priority||0},function(s){return s.priority}),this.state.modeGen++,ft(this)}),removeOverlay:it(function(r){for(var o=this.state.overlays,l=0;l<o.length;++l){var s=o[l].modeSpec;if(s==r||typeof r=="string"&&s.name==r){o.splice(l,1),this.state.modeGen++,ft(this);return}}}),indentLine:it(function(r,o,l){typeof o!="string"&&typeof o!="number"&&(o==null?o=this.options.smartIndent?"smart":"prev":o=o?"add":"subtract"),O(this.doc,r)&&Vn(this,r,o,l)}),indentSelection:it(function(r){for(var o=this.doc.sel.ranges,l=-1,s=0;s<o.length;s++){var u=o[s];if(u.empty())u.head.line>l&&(Vn(this,u.head.line,r,!0),l=u.head.line,s==this.doc.sel.primIndex&&en(this));else{var c=u.from(),h=u.to(),g=Math.max(l,c.line);l=Math.min(this.lastLine(),h.line-(h.ch?0:1))+1;for(var b=g;b<l;++b)Vn(this,b,r);var k=this.doc.sel.ranges;c.ch==0&&o.length==k.length&&k[s].from().ch>0&&Bo(this.doc,s,new ke(c,k[s].to()),xt)}}}),getTokenAt:function(r,o){return gl(this,r,o)},getLineTokens:function(r,o){return gl(this,T(r),o,!0)},getTokenTypeAt:function(r){r=pe(this.doc,r);var o=dl(this,Z(this.doc,r.line)),l=0,s=(o.length-1)/2,u=r.ch,c;if(u==0)c=o[2];else for(;;){var h=l+s>>1;if((h?o[h*2-1]:0)>=u)s=h;else if(o[h*2+1]<u)l=h+1;else{c=o[h*2+2];break}}var g=c?c.indexOf("overlay "):-1;return g<0?c:g==0?null:c.slice(0,g-1)},getModeAt:function(r){var o=this.doc.mode;return o.innerMode?e.innerMode(o,this.getTokenAt(r).state).mode:o},getHelper:function(r,o){return this.getHelpers(r,o)[0]},getHelpers:function(r,o){var l=[];if(!n.hasOwnProperty(o))return l;var s=n[o],u=this.getModeAt(r);if(typeof u[o]=="string")s[u[o]]&&l.push(s[u[o]]);else if(u[o])for(var c=0;c<u[o].length;c++){var h=s[u[o][c]];h&&l.push(h)}else u.helperType&&s[u.helperType]?l.push(s[u.helperType]):s[u.name]&&l.push(s[u.name]);for(var g=0;g<s._global.length;g++){var b=s._global[g];b.pred(u,this)&&ye(l,b.val)==-1&&l.push(b.val)}return l},getStateAfter:function(r,o){var l=this.doc;return r=fl(l,r??l.first+l.size-1),Tn(this,r+1,o).state},cursorCoords:function(r,o){var l,s=this.doc.sel.primary();return r==null?l=s.head:typeof r=="object"?l=pe(this.doc,r):l=r?s.from():s.to(),It(this,l,o||"page")},charCoords:function(r,o){return xi(this,pe(this.doc,r),o||"page")},coordsChar:function(r,o){return r=Kl(this,r,o||"page"),po(this,r.left,r.top)},lineAtHeight:function(r,o){return r=Kl(this,{top:r,left:0},o||"page").top,m(this.doc,r+this.display.viewOffset)},heightAtLine:function(r,o,l){var s=!1,u;if(typeof r=="number"){var c=this.doc.first+this.doc.size-1;r<this.doc.first?r=this.doc.first:r>c&&(r=c,s=!0),u=Z(this.doc,r)}else u=r;return bi(this,u,{top:0,left:0},o||"page",l||s).top+(s?this.doc.height-Vt(u):0)},defaultTextHeight:function(){return Zr(this.display)},defaultCharWidth:function(){return Vr(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(r,o,l,s,u){var c=this.display;r=It(this,pe(this.doc,r));var h=r.bottom,g=r.left;if(o.style.position="absolute",o.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(o),c.sizer.appendChild(o),s=="over")h=r.top;else if(s=="above"||s=="near"){var b=Math.max(c.wrapper.clientHeight,this.doc.height),k=Math.max(c.sizer.clientWidth,c.lineSpace.clientWidth);(s=="above"||r.bottom+o.offsetHeight>b)&&r.top>o.offsetHeight?h=r.top-o.offsetHeight:r.bottom+o.offsetHeight<=b&&(h=r.bottom),g+o.offsetWidth>k&&(g=k-o.offsetWidth)}o.style.top=h+"px",o.style.left=o.style.right="",u=="right"?(g=c.sizer.clientWidth-o.offsetWidth,o.style.right="0px"):(u=="left"?g=0:u=="middle"&&(g=(c.sizer.clientWidth-o.offsetWidth)/2),o.style.left=g+"px"),l&&vf(this,{left:g,top:h,right:g+o.offsetWidth,bottom:h+o.offsetHeight})},triggerOnKeyDown:it(Xa),triggerOnKeyPress:it(Qa),triggerOnKeyUp:Ja,triggerOnMouseDown:it(Za),execCommand:function(r){if(Xn.hasOwnProperty(r))return Xn[r].call(null,this)},triggerElectric:it(function(r){is(this,r)}),findPosH:function(r,o,l,s){var u=1;o<0&&(u=-1,o=-o);for(var c=pe(this.doc,r),h=0;h<o&&(c=Ko(this.doc,c,u,l,s),!c.hitSide);++h);return c},moveH:it(function(r,o){var l=this;this.extendSelectionsBy(function(s){return l.display.shift||l.doc.extend||s.empty()?Ko(l.doc,s.head,r,o,l.options.rtlMoveVisually):r<0?s.from():s.to()},wt)}),deleteH:it(function(r,o){var l=this.doc.sel,s=this.doc;l.somethingSelected()?s.replaceSelection("",null,"+delete"):un(this,function(u){var c=Ko(s,u.head,r,o,!1);return r<0?{from:c,to:u.head}:{from:u.head,to:c}})}),findPosV:function(r,o,l,s){var u=1,c=s;o<0&&(u=-1,o=-o);for(var h=pe(this.doc,r),g=0;g<o;++g){var b=It(this,h,"div");if(c==null?c=b.left:b.left=c,h=as(this,b,u,l),h.hitSide)break}return h},moveV:it(function(r,o){var l=this,s=this.doc,u=[],c=!this.display.shift&&!s.extend&&s.sel.somethingSelected();if(s.extendSelectionsBy(function(g){if(c)return r<0?g.from():g.to();var b=It(l,g.head,"div");g.goalColumn!=null&&(b.left=g.goalColumn),u.push(b.left);var k=as(l,b,r,o);return o=="page"&&g==s.sel.primary()&&ko(l,xi(l,k,"div").top-b.top),k},wt),u.length)for(var h=0;h<s.sel.ranges.length;h++)s.sel.ranges[h].goalColumn=u[h]}),findWordAt:function(r){var o=this.doc,l=Z(o,r.line).text,s=r.ch,u=r.ch;if(l){var c=this.getHelper(r,"wordChars");(r.sticky=="before"||u==l.length)&&s?--s:++u;for(var h=l.charAt(s),g=qt(h,c)?function(b){return qt(b,c)}:/\s/.test(h)?function(b){return/\s/.test(b)}:function(b){return!/\s/.test(b)&&!qt(b)};s>0&&g(l.charAt(s-1));)--s;for(;u<l.length&&g(l.charAt(u));)++u}return new ke(T(r.line,s),T(r.line,u))},toggleOverwrite:function(r){r!=null&&r==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?ue(this.display.cursorDiv,"CodeMirror-overwrite"):he(this.display.cursorDiv,"CodeMirror-overwrite"),De(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==le(we(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:it(function(r,o){Dn(this,r,o)}),getScrollInfo:function(){var r=this.display.scroller;return{left:r.scrollLeft,top:r.scrollTop,height:r.scrollHeight-Ut(this)-this.display.barHeight,width:r.scrollWidth-Ut(this)-this.display.barWidth,clientHeight:uo(this),clientWidth:Tr(this)}},scrollIntoView:it(function(r,o){r==null?(r={from:this.doc.sel.primary().head,to:null},o==null&&(o=this.options.cursorScrollMargin)):typeof r=="number"?r={from:T(r,0),to:null}:r.from==null&&(r={from:r,to:null}),r.to||(r.to=r.from),r.margin=o||0,r.from.line!=null?gf(this,r):ea(this,r.from,r.to,r.margin)}),setSize:it(function(r,o){var l=this,s=function(c){return typeof c=="number"||/^\d+$/.test(String(c))?c+"px":c};r!=null&&(this.display.wrapper.style.width=s(r)),o!=null&&(this.display.wrapper.style.height=s(o)),this.options.lineWrapping&&Ul(this);var u=this.display.viewFrom;this.doc.iter(u,this.display.viewTo,function(c){if(c.widgets){for(var h=0;h<c.widgets.length;h++)if(c.widgets[h].noHScroll){dr(l,u,"widget");break}}++u}),this.curOp.forceUpdate=!0,De(this,"refresh",this)}),operation:function(r){return yt(this,r)},startOperation:function(){return Ir(this)},endOperation:function(){return Dr(this)},refresh:it(function(){var r=this.display.cachedTextHeight;ft(this),this.curOp.forceUpdate=!0,Nn(this),Dn(this,this.doc.scrollLeft,this.doc.scrollTop),Ao(this.display),(r==null||Math.abs(r-Zr(this.display))>.5||this.options.lineWrapping)&&mo(this),De(this,"refresh",this)}),swapDoc:it(function(r){var o=this.doc;return o.cm=null,this.state.selectingText&&this.state.selectingText(),pa(this,r),Nn(this),this.display.input.reset(),Dn(this,r.scrollLeft,r.scrollTop),this.curOp.forceScroll=!0,Ke(this,"swapDoc",this,o),o}),phrase:function(r){var o=this.options.phrases;return o&&Object.prototype.hasOwnProperty.call(o,r)?o[r]:r},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Tt(e),e.registerHelper=function(r,o,l){n.hasOwnProperty(r)||(n[r]=e[r]={_global:[]}),n[r][o]=l},e.registerGlobalHelper=function(r,o,l,s){e.registerHelper(r,o,s),n[r]._global.push({pred:l,val:s})}}function Ko(e,t,n,r,o){var l=t,s=n,u=Z(e,t.line),c=o&&e.direction=="rtl"?-n:n;function h(){var X=t.line+c;return X<e.first||X>=e.first+e.size?!1:(t=new T(X,t.ch,t.sticky),u=Z(e,X))}function g(X){var G;if(r=="codepoint"){var Q=u.text.charCodeAt(t.ch+(n>0?0:-1));if(isNaN(Q))G=null;else{var ie=n>0?Q>=55296&&Q<56320:Q>=56320&&Q<57343;G=new T(t.line,Math.max(0,Math.min(u.text.length,t.ch+n*(ie?2:1))),-n)}}else o?G=$f(e.cm,u,t,n):G=Wo(u,t,n);if(G==null)if(!X&&h())t=Po(o,e.cm,u,t.line,c);else return!1;else t=G;return!0}if(r=="char"||r=="codepoint")g();else if(r=="column")g(!0);else if(r=="word"||r=="group")for(var b=null,k=r=="group",C=e.cm&&e.cm.getHelper(t,"wordChars"),E=!0;!(n<0&&!g(!E));E=!1){var F=u.text.charAt(t.ch)||`
`,R=qt(F,C)?"w":k&&F==`
`?"n":!k||/\s/.test(F)?null:"p";if(k&&!E&&!R&&(R="s"),b&&b!=R){n<0&&(n=1,g(),t.sticky="after");break}if(R&&(b=R),n>0&&!g(!E))break}var Y=Ii(e,t,l,s,!0);return Se(l,Y)&&(Y.hitSide=!0),Y}function as(e,t,n,r){var o=e.doc,l=t.left,s;if(r=="page"){var u=Math.min(e.display.wrapper.clientHeight,de(e).innerHeight||o(e).documentElement.clientHeight),c=Math.max(u-.5*Zr(e.display),3);s=(n>0?t.bottom:t.top)+n*c}else r=="line"&&(s=n>0?t.bottom+3:t.top-3);for(var h;h=po(e,l,s),!!h.outside;){if(n<0?s<=0:s>=o.height){h.hitSide=!0;break}s+=n*5}return h}var Te=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Ht,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Te.prototype.init=function(e){var t=this,n=this,r=n.cm,o=n.div=e.lineDiv;o.contentEditable=!0,Go(o,r.options.spellcheck,r.options.autocorrect,r.options.autocapitalize);function l(u){for(var c=u.target;c;c=c.parentNode){if(c==o)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(c.className))break}return!1}ne(o,"paste",function(u){!l(u)||Fe(r,u)||ns(u,r)||N<=11&&setTimeout(je(r,function(){return t.updateFromDOM()}),20)}),ne(o,"compositionstart",function(u){t.composing={data:u.data,done:!1}}),ne(o,"compositionupdate",function(u){t.composing||(t.composing={data:u.data,done:!1})}),ne(o,"compositionend",function(u){t.composing&&(u.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)}),ne(o,"touchstart",function(){return n.forceCompositionEnd()}),ne(o,"input",function(){t.composing||t.readFromDOMSoon()});function s(u){if(!(!l(u)||Fe(r,u))){if(r.somethingSelected())Pi({lineWise:!1,text:r.getSelections()}),u.type=="cut"&&r.replaceSelection("",null,"cut");else if(r.options.lineWiseCopyCut){var c=os(r);Pi({lineWise:!0,text:c.text}),u.type=="cut"&&r.operation(function(){r.setSelections(c.ranges,0,xt),r.replaceSelection("",null,"cut")})}else return;if(u.clipboardData){u.clipboardData.clearData();var h=Ft.text.join(`
`);if(u.clipboardData.setData("Text",h),u.clipboardData.getData("Text")==h){u.preventDefault();return}}var g=ls(),b=g.firstChild;Go(b),r.display.lineSpace.insertBefore(g,r.display.lineSpace.firstChild),b.value=Ft.text.join(`
`);var k=le(xe(o));at(b),setTimeout(function(){r.display.lineSpace.removeChild(g),k.focus(),k==o&&n.showPrimarySelection()},50)}}ne(o,"copy",s),ne(o,"cut",s)},Te.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},Te.prototype.prepareSelection=function(){var e=Zl(this.cm,!1);return e.focus=le(xe(this.div))==this.div,e},Te.prototype.showSelection=function(e,t){!e||!this.cm.display.view.length||((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Te.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Te.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,n=t.doc.sel.primary(),r=n.from(),o=n.to();if(t.display.viewTo==t.display.viewFrom||r.line>=t.display.viewTo||o.line<t.display.viewFrom){e.removeAllRanges();return}var l=_i(t,e.anchorNode,e.anchorOffset),s=_i(t,e.focusNode,e.focusOffset);if(!(l&&!l.bad&&s&&!s.bad&&q(qr(l,s),r)==0&&q(ut(l,s),o)==0)){var u=t.display.view,c=r.line>=t.display.viewFrom&&ss(t,r)||{node:u[0].measure.map[2],offset:0},h=o.line<t.display.viewTo&&ss(t,o);if(!h){var g=u[u.length-1].measure,b=g.maps?g.maps[g.maps.length-1]:g.map;h={node:b[b.length-1],offset:b[b.length-2]-b[b.length-3]}}if(!c||!h){e.removeAllRanges();return}var k=e.rangeCount&&e.getRangeAt(0),C;try{C=Ae(c.node,c.offset,h.offset,h.node)}catch{}C&&(!p&&t.state.focused?(e.collapse(c.node,c.offset),C.collapsed||(e.removeAllRanges(),e.addRange(C))):(e.removeAllRanges(),e.addRange(C)),k&&e.anchorNode==null?e.addRange(k):p&&this.startGracePeriod()),this.rememberSelection()}},Te.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},Te.prototype.showMultipleSelections=function(e){W(this.cm.display.cursorDiv,e.cursors),W(this.cm.display.selectionDiv,e.selection)},Te.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Te.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return j(this.div,t)},Te.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||le(xe(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Te.prototype.blur=function(){this.div.blur()},Te.prototype.getField=function(){return this.div},Te.prototype.supportsTouch=function(){return!0},Te.prototype.receivedFocus=function(){var e=this,t=this;this.selectionInEditor()?setTimeout(function(){return e.pollSelection()},20):yt(this.cm,function(){return t.cm.curOp.selectionChanged=!0});function n(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,n))}this.polling.set(this.cm.options.pollInterval,n)},Te.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Te.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var e=this.getSelection(),t=this.cm;if(te&&I&&this.cm.display.gutterSpecs.length&&bc(e.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var n=_i(t,e.anchorNode,e.anchorOffset),r=_i(t,e.focusNode,e.focusOffset);n&&r&&yt(t,function(){et(t.doc,vr(n,r),xt),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)})}}},Te.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e=this.cm,t=e.display,n=e.doc.sel.primary(),r=n.from(),o=n.to();if(r.ch==0&&r.line>e.firstLine()&&(r=T(r.line-1,Z(e.doc,r.line-1).length)),o.ch==Z(e.doc,o.line).text.length&&o.line<e.lastLine()&&(o=T(o.line+1,0)),r.line<t.viewFrom||o.line>t.viewTo-1)return!1;var l,s,u;r.line==t.viewFrom||(l=Mr(e,r.line))==0?(s=d(t.view[0].line),u=t.view[0].node):(s=d(t.view[l].line),u=t.view[l-1].node.nextSibling);var c=Mr(e,o.line),h,g;if(c==t.view.length-1?(h=t.viewTo-1,g=t.lineDiv.lastChild):(h=d(t.view[c+1].line)-1,g=t.view[c+1].node.previousSibling),!u)return!1;for(var b=e.doc.splitLines(xc(e,u,g,s,h)),k=Qt(e.doc,T(s,0),T(h,Z(e.doc,h).text.length));b.length>1&&k.length>1;)if(Ce(b)==Ce(k))b.pop(),k.pop(),h--;else if(b[0]==k[0])b.shift(),k.shift(),s++;else break;for(var C=0,E=0,F=b[0],R=k[0],Y=Math.min(F.length,R.length);C<Y&&F.charCodeAt(C)==R.charCodeAt(C);)++C;for(var X=Ce(b),G=Ce(k),Q=Math.min(X.length-(b.length==1?C:0),G.length-(k.length==1?C:0));E<Q&&X.charCodeAt(X.length-E-1)==G.charCodeAt(G.length-E-1);)++E;if(b.length==1&&k.length==1&&s==r.line)for(;C&&C>r.ch&&X.charCodeAt(X.length-E-1)==G.charCodeAt(G.length-E-1);)C--,E++;b[b.length-1]=X.slice(0,X.length-E).replace(/^\u200b+/,""),b[0]=b[0].slice(C).replace(/\u200b+$/,"");var ie=T(s,C),ee=T(h,k.length?Ce(k).length-E:0);if(b.length>1||b[0]||q(ie,ee))return ln(e.doc,b,ie,ee,"+input"),!0},Te.prototype.ensurePolled=function(){this.forceCompositionEnd()},Te.prototype.reset=function(){this.forceCompositionEnd()},Te.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Te.prototype.readFromDOMSoon=function(){var e=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing)if(e.composing.done)e.composing=null;else return;e.updateFromDOM()},80))},Te.prototype.updateFromDOM=function(){var e=this;(this.cm.isReadOnly()||!this.pollContent())&&yt(this.cm,function(){return ft(e.cm)})},Te.prototype.setUneditable=function(e){e.contentEditable="false"},Te.prototype.onKeyPress=function(e){e.charCode==0||this.composing||(e.preventDefault(),this.cm.isReadOnly()||je(this.cm,Yo)(this.cm,String.fromCharCode(e.charCode==null?e.keyCode:e.charCode),0))},Te.prototype.readOnlyChanged=function(e){this.div.contentEditable=String(e!="nocursor")},Te.prototype.onContextMenu=function(){},Te.prototype.resetPosition=function(){},Te.prototype.needsContentAttribute=!0;function ss(e,t){var n=fo(e,t.line);if(!n||n.hidden)return null;var r=Z(e.doc,t.line),o=Wl(n,r,t.line),l=be(r,e.doc.direction),s="left";if(l){var u=ar(l,t.ch);s=u%2?"right":"left"}var c=Rl(o.map,t.ch,s);return c.offset=c.collapse=="right"?c.end:c.start,c}function bc(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function cn(e,t){return t&&(e.bad=!0),e}function xc(e,t,n,r,o){var l="",s=!1,u=e.doc.lineSeparator(),c=!1;function h(C){return function(E){return E.id==C}}function g(){s&&(l+=u,c&&(l+=u),s=c=!1)}function b(C){C&&(g(),l+=C)}function k(C){if(C.nodeType==1){var E=C.getAttribute("cm-text");if(E){b(E);return}var F=C.getAttribute("cm-marker"),R;if(F){var Y=e.findMarks(T(r,0),T(o+1,0),h(+F));Y.length&&(R=Y[0].find(0))&&b(Qt(e.doc,R.from,R.to).join(u));return}if(C.getAttribute("contenteditable")=="false")return;var X=/^(pre|div|p|li|table|br)$/i.test(C.nodeName);if(!/^br$/i.test(C.nodeName)&&C.textContent.length==0)return;X&&g();for(var G=0;G<C.childNodes.length;G++)k(C.childNodes[G]);/^(pre|p)$/i.test(C.nodeName)&&(c=!0),X&&(s=!0)}else C.nodeType==3&&b(C.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;k(t),t!=n;)t=t.nextSibling,c=!1;return l}function _i(e,t,n){var r;if(t==e.display.lineDiv){if(r=e.display.lineDiv.childNodes[n],!r)return cn(e.clipPos(T(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var o=0;o<e.display.view.length;o++){var l=e.display.view[o];if(l.node==r)return wc(l,t,n)}}function wc(e,t,n){var r=e.text.firstChild,o=!1;if(!t||!j(r,t))return cn(T(d(e.line),0),!0);if(t==r&&(o=!0,t=r.childNodes[n],n=0,!t)){var l=e.rest?Ce(e.rest):e.line;return cn(T(d(l),l.text.length),o)}var s=t.nodeType==3?t:null,u=t;for(!s&&t.childNodes.length==1&&t.firstChild.nodeType==3&&(s=t.firstChild,n&&(n=s.nodeValue.length));u.parentNode!=r;)u=u.parentNode;var c=e.measure,h=c.maps;function g(R,Y,X){for(var G=-1;G<(h?h.length:0);G++)for(var Q=G<0?c.map:h[G],ie=0;ie<Q.length;ie+=3){var ee=Q[ie+2];if(ee==R||ee==Y){var me=d(G<0?e.line:e.rest[G]),Ee=Q[ie]+X;return(X<0||ee!=R)&&(Ee=Q[ie+(X?1:0)]),T(me,Ee)}}}var b=g(s,u,n);if(b)return cn(b,o);for(var k=u.nextSibling,C=s?s.nodeValue.length-n:0;k;k=k.nextSibling){if(b=g(k,k.firstChild,0),b)return cn(T(b.line,b.ch-C),o);C+=k.textContent.length}for(var E=u.previousSibling,F=n;E;E=E.previousSibling){if(b=g(E,E.firstChild,-1),b)return cn(T(b.line,b.ch+F),o);F+=E.textContent.length}}var We=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new Ht,this.hasSelection=!1,this.composing=null,this.resetting=!1};We.prototype.init=function(e){var t=this,n=this,r=this.cm;this.createField(e);var o=this.textarea;e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),M&&(o.style.width="0px"),ne(o,"input",function(){L&&N>=9&&t.hasSelection&&(t.hasSelection=null),n.poll()}),ne(o,"paste",function(s){Fe(r,s)||ns(s,r)||(r.state.pasteIncoming=+new Date,n.fastPoll())});function l(s){if(!Fe(r,s)){if(r.somethingSelected())Pi({lineWise:!1,text:r.getSelections()});else if(r.options.lineWiseCopyCut){var u=os(r);Pi({lineWise:!0,text:u.text}),s.type=="cut"?r.setSelections(u.ranges,null,xt):(n.prevInput="",o.value=u.text.join(`
`),at(o))}else return;s.type=="cut"&&(r.state.cutIncoming=+new Date)}}ne(o,"cut",l),ne(o,"copy",l),ne(e.scroller,"paste",function(s){if(!($t(e,s)||Fe(r,s))){if(!o.dispatchEvent){r.state.pasteIncoming=+new Date,n.focus();return}var u=new Event("paste");u.clipboardData=s.clipboardData,o.dispatchEvent(u)}}),ne(e.lineSpace,"selectstart",function(s){$t(e,s)||$e(s)}),ne(o,"compositionstart",function(){var s=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:s,range:r.markText(s,r.getCursor("to"),{className:"CodeMirror-composing"})}}),ne(o,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},We.prototype.createField=function(e){this.wrapper=ls(),this.textarea=this.wrapper.firstChild;var t=this.cm.options;Go(this.textarea,t.spellcheck,t.autocorrect,t.autocapitalize)},We.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},We.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,r=Zl(e);if(e.options.moveInputWithCursor){var o=It(e,n.sel.primary().head,"div"),l=t.wrapper.getBoundingClientRect(),s=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,o.top+s.top-l.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,o.left+s.left-l.left))}return r},We.prototype.showSelection=function(e){var t=this.cm,n=t.display;W(n.cursorDiv,e.cursors),W(n.selectionDiv,e.selection),e.teTop!=null&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},We.prototype.reset=function(e){if(!(this.contextMenuPending||this.composing&&e)){var t=this.cm;if(this.resetting=!0,t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&at(this.textarea),L&&N>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value="",L&&N>=9&&(this.hasSelection=null));this.resetting=!1}},We.prototype.getField=function(){return this.textarea},We.prototype.supportsTouch=function(){return!1},We.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!oe||le(xe(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},We.prototype.blur=function(){this.textarea.blur()},We.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},We.prototype.receivedFocus=function(){this.slowPoll()},We.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},We.prototype.fastPoll=function(){var e=!1,t=this;t.pollingFast=!0;function n(){var r=t.poll();!r&&!e?(e=!0,t.polling.set(60,n)):(t.pollingFast=!1,t.slowPoll())}t.polling.set(20,n)},We.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||this.resetting||!t.state.focused||fr(n)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var o=n.value;if(o==r&&!t.somethingSelected())return!1;if(L&&N>=9&&this.hasSelection===o||ce&&/[\uf700-\uf7ff]/.test(o))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var l=o.charCodeAt(0);if(l==8203&&!r&&(r="​"),l==8666)return this.reset(),this.cm.execCommand("undo")}for(var s=0,u=Math.min(r.length,o.length);s<u&&r.charCodeAt(s)==o.charCodeAt(s);)++s;return yt(t,function(){Yo(t,o.slice(s),r.length-s,null,e.composing?"*compose":null),o.length>1e3||o.indexOf(`
`)>-1?n.value=e.prevInput="":e.prevInput=o,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},We.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},We.prototype.onKeyPress=function(){L&&N>=9&&(this.hasSelection=null),this.fastPoll()},We.prototype.onContextMenu=function(e){var t=this,n=t.cm,r=n.display,o=t.textarea;t.contextMenuPending&&t.contextMenuPending();var l=Er(n,e),s=r.scroller.scrollTop;if(!l||K)return;var u=n.options.resetSelectionOnContextMenu;u&&n.doc.sel.contains(l)==-1&&je(n,et)(n.doc,vr(l),xt);var c=o.style.cssText,h=t.wrapper.style.cssText,g=t.wrapper.offsetParent.getBoundingClientRect();t.wrapper.style.cssText="position: static",o.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(e.clientY-g.top-5)+"px; left: "+(e.clientX-g.left-5)+`px;
      z-index: 1000; background: `+(L?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var b;B&&(b=o.ownerDocument.defaultView.scrollY),r.input.focus(),B&&o.ownerDocument.defaultView.scrollTo(null,b),r.input.reset(),n.somethingSelected()||(o.value=t.prevInput=" "),t.contextMenuPending=C,r.selForContextMenu=n.doc.sel,clearTimeout(r.detectingSelectAll);function k(){if(o.selectionStart!=null){var F=n.somethingSelected(),R="​"+(F?o.value:"");o.value="⇚",o.value=R,t.prevInput=F?"":"​",o.selectionStart=1,o.selectionEnd=R.length,r.selForContextMenu=n.doc.sel}}function C(){if(t.contextMenuPending==C&&(t.contextMenuPending=!1,t.wrapper.style.cssText=h,o.style.cssText=c,L&&N<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=s),o.selectionStart!=null)){(!L||L&&N<9)&&k();var F=0,R=function(){r.selForContextMenu==n.doc.sel&&o.selectionStart==0&&o.selectionEnd>0&&t.prevInput=="​"?je(n,Aa)(n):F++<10?r.detectingSelectAll=setTimeout(R,500):(r.selForContextMenu=null,r.input.reset())};r.detectingSelectAll=setTimeout(R,200)}}if(L&&N>=9&&k(),J){sr(e);var E=function(){Ve(window,"mouseup",E),setTimeout(C,20)};ne(window,"mouseup",E)}else setTimeout(C,50)},We.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled=e=="nocursor",this.textarea.readOnly=!!e},We.prototype.setUneditable=function(){},We.prototype.needsContentAttribute=!1;function Cc(e,t){if(t=t?ge(t):{},t.value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),t.autofocus==null){var n=le(xe(e));t.autofocus=n==e||e.getAttribute("autofocus")!=null&&n==document.body}function r(){e.value=u.getValue()}var o;if(e.form&&(ne(e.form,"submit",r),!t.leaveSubmitMethodAlone)){var l=e.form;o=l.submit;try{var s=l.submit=function(){r(),l.submit=o,l.submit(),l.submit=s}}catch{}}t.finishInit=function(c){c.save=r,c.getTextArea=function(){return e},c.toTextArea=function(){c.toTextArea=isNaN,r(),e.parentNode.removeChild(c.getWrapperElement()),e.style.display="",e.form&&(Ve(e.form,"submit",r),!t.leaveSubmitMethodAlone&&typeof e.form.submit=="function"&&(e.form.submit=o))}},e.style.display="none";var u=Oe(function(c){return e.parentNode.insertBefore(c,e.nextSibling)},t);return u}function Sc(e){e.off=Ve,e.on=ne,e.wheelEventPixels=Of,e.Doc=ct,e.splitLines=Lt,e.countColumn=Le,e.findColumn=Pt,e.isWordChar=wn,e.Pass=ir,e.signal=De,e.Line=Xr,e.changeEnd=gr,e.scrollbarModel=na,e.Pos=T,e.cmpPos=q,e.modes=Ur,e.mimeModes=Mt,e.resolveMode=Yr,e.getMode=Gr,e.modeExtensions=cr,e.extendMode=Kr,e.copyState=Rt,e.startState=jr,e.innerMode=kn,e.commands=Xn,e.keyMap=tr,e.keyName=Ya,e.isModifierKey=za,e.lookupKey=sn,e.normalizeKeyMap=Vf,e.StringStream=Be,e.SharedTextMarker=Kn,e.TextMarker=mr,e.LineWidget=Gn,e.e_preventDefault=$e,e.e_stopPropagation=Rr,e.e_stop=sr,e.addClass=ue,e.contains=j,e.rmClass=he,e.keyNames=br}pc(Oe),mc(Oe);var kc="iter insert remove copy getEditor constructor".split(" ");for(var Ri in ct.prototype)ct.prototype.hasOwnProperty(Ri)&&ye(kc,Ri)<0&&(Oe.prototype[Ri]=function(e){return function(){return e.apply(this.doc,arguments)}}(ct.prototype[Ri]));return Tt(ct),Oe.inputStyles={textarea:We,contenteditable:Te},Oe.defineMode=function(e){!Oe.defaults.mode&&e!="null"&&(Oe.defaults.mode=e),Ot.apply(this,arguments)},Oe.defineMIME=Lr,Oe.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),Oe.defineMIME("text/plain","null"),Oe.defineExtension=function(e,t){Oe.prototype[e]=t},Oe.defineDocExtension=function(e,t){ct.prototype[e]=t},Oe.fromTextArea=Cc,Sc(Oe),Oe.version="5.65.19",Oe})}(Xo)),Xo.exports}var Ac=_r();const Ec=Tc(Ac);(function(i,a){(function(f){f(_r())})(function(f){f.defineMode("javascript",function(v,p){var x=v.indentUnit,y=p.statementIndent,S=p.jsonld,L=p.json||S,N=p.trackScope!==!1,B=p.typescript,_=p.wordCharacters||/[\w$\xa1-\uffff]/,I=function(){function d(Ge){return{type:Ge,style:"keyword"}}var m=d("keyword a"),O=d("keyword b"),P=d("keyword c"),T=d("keyword d"),q=d("operator"),Se={type:"atom",style:"atom"};return{if:d("if"),while:m,with:m,else:O,do:O,try:O,finally:O,return:T,break:T,continue:T,new:d("new"),delete:P,void:P,throw:P,debugger:d("debugger"),var:d("var"),const:d("var"),let:d("var"),function:d("function"),catch:d("catch"),for:d("for"),switch:d("switch"),case:d("case"),default:d("default"),in:q,typeof:q,instanceof:q,true:Se,false:Se,null:Se,undefined:Se,NaN:Se,Infinity:Se,this:d("this"),class:d("class"),super:d("atom"),yield:P,export:d("export"),import:d("import"),extends:P,await:P}}(),U=/[+\-*&%=<>!?|~^@]/,K=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function fe(d){for(var m=!1,O,P=!1;(O=d.next())!=null;){if(!m){if(O=="/"&&!P)return;O=="["?P=!0:P&&O=="]"&&(P=!1)}m=!m&&O=="\\"}}var se,H;function M(d,m,O){return se=d,H=O,m}function te(d,m){var O=d.next();if(O=='"'||O=="'")return m.tokenize=oe(O),m.tokenize(d,m);if(O=="."&&d.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return M("number","number");if(O=="."&&d.match(".."))return M("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(O))return M(O);if(O=="="&&d.eat(">"))return M("=>","operator");if(O=="0"&&d.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return M("number","number");if(/\d/.test(O))return d.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),M("number","number");if(O=="/")return d.eat("*")?(m.tokenize=ce,ce(d,m)):d.eat("/")?(d.skipToEnd(),M("comment","comment")):Ct(d,m,1)?(fe(d),d.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),M("regexp","string-2")):(d.eat("="),M("operator","operator",d.current()));if(O=="`")return m.tokenize=ve,ve(d,m);if(O=="#"&&d.peek()=="!")return d.skipToEnd(),M("meta","meta");if(O=="#"&&d.eatWhile(_))return M("variable","property");if(O=="<"&&d.match("!--")||O=="-"&&d.match("->")&&!/\S/.test(d.string.slice(0,d.start)))return d.skipToEnd(),M("comment","comment");if(U.test(O))return(O!=">"||!m.lexical||m.lexical.type!=">")&&(d.eat("=")?(O=="!"||O=="=")&&d.eat("="):/[<>*+\-|&?]/.test(O)&&(d.eat(O),O==">"&&d.eat(O))),O=="?"&&d.eat(".")?M("."):M("operator","operator",d.current());if(_.test(O)){d.eatWhile(_);var P=d.current();if(m.lastType!="."){if(I.propertyIsEnumerable(P)){var T=I[P];return M(T.type,T.style,P)}if(P=="async"&&d.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return M("async","keyword",P)}return M("variable","variable",P)}}function oe(d){return function(m,O){var P=!1,T;if(S&&m.peek()=="@"&&m.match(K))return O.tokenize=te,M("jsonld-keyword","meta");for(;(T=m.next())!=null&&!(T==d&&!P);)P=!P&&T=="\\";return P||(O.tokenize=te),M("string","string")}}function ce(d,m){for(var O=!1,P;P=d.next();){if(P=="/"&&O){m.tokenize=te;break}O=P=="*"}return M("comment","comment")}function ve(d,m){for(var O=!1,P;(P=d.next())!=null;){if(!O&&(P=="`"||P=="$"&&d.eat("{"))){m.tokenize=te;break}O=!O&&P=="\\"}return M("quasi","string-2",d.current())}var D="([{}])";function z(d,m){m.fatArrowAt&&(m.fatArrowAt=null);var O=d.string.indexOf("=>",d.start);if(!(O<0)){if(B){var P=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(d.string.slice(d.start,O));P&&(O=P.index)}for(var T=0,q=!1,Se=O-1;Se>=0;--Se){var Ge=d.string.charAt(Se),ut=D.indexOf(Ge);if(ut>=0&&ut<3){if(!T){++Se;break}if(--T==0){Ge=="("&&(q=!0);break}}else if(ut>=3&&ut<6)++T;else if(_.test(Ge))q=!0;else if(/["'\/`]/.test(Ge))for(;;--Se){if(Se==0)return;var qr=d.string.charAt(Se-1);if(qr==Ge&&d.string.charAt(Se-2)!="\\"){Se--;break}}else if(q&&!T){++Se;break}}q&&!T&&(m.fatArrowAt=Se)}}var V={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function J(d,m,O,P,T,q){this.indented=d,this.column=m,this.type=O,this.prev=T,this.info=q,P!=null&&(this.align=P)}function $(d,m){if(!N)return!1;for(var O=d.localVars;O;O=O.next)if(O.name==m)return!0;for(var P=d.context;P;P=P.prev)for(var O=P.vars;O;O=O.next)if(O.name==m)return!0}function he(d,m,O,P,T){var q=d.cc;for(A.state=d,A.stream=T,A.marked=null,A.cc=q,A.style=m,d.lexical.hasOwnProperty("align")||(d.lexical.align=!0);;){var Se=q.length?q.pop():L?ye:Le;if(Se(O,P)){for(;q.length&&q[q.length-1].lex;)q.pop()();return A.marked?A.marked:O=="variable"&&$(d,P)?"variable-2":m}}}var A={state:null,marked:null,cc:null};function W(){for(var d=arguments.length-1;d>=0;d--)A.cc.push(arguments[d])}function w(){return W.apply(null,arguments),!0}function Me(d,m){for(var O=m;O;O=O.next)if(O.name==d)return!0;return!1}function Ae(d){var m=A.state;if(A.marked="def",!!N){if(m.context){if(m.lexical.info=="var"&&m.context&&m.context.block){var O=j(d,m.context);if(O!=null){m.context=O;return}}else if(!Me(d,m.localVars)){m.localVars=new Ne(d,m.localVars);return}}p.globalVars&&!Me(d,m.globalVars)&&(m.globalVars=new Ne(d,m.globalVars))}}function j(d,m){if(m)if(m.block){var O=j(d,m.prev);return O?O==m.prev?m:new ue(O,m.vars,!0):null}else return Me(d,m.vars)?m:new ue(m.prev,new Ne(d,m.vars),!1);else return null}function le(d){return d=="public"||d=="private"||d=="protected"||d=="abstract"||d=="readonly"}function ue(d,m,O){this.prev=d,this.vars=m,this.block=O}function Ne(d,m){this.name=d,this.next=m}var at=new Ne("this",new Ne("arguments",null));function Ye(){A.state.context=new ue(A.state.context,A.state.localVars,!1),A.state.localVars=at}function we(){A.state.context=new ue(A.state.context,A.state.localVars,!0),A.state.localVars=null}Ye.lex=we.lex=!0;function xe(){A.state.localVars=A.state.context.vars,A.state.context=A.state.context.prev}xe.lex=!0;function de(d,m){var O=function(){var P=A.state,T=P.indented;if(P.lexical.type=="stat")T=P.lexical.indented;else for(var q=P.lexical;q&&q.type==")"&&q.align;q=q.prev)T=q.indented;P.lexical=new J(T,A.stream.column(),d,null,P.lexical,m)};return O.lex=!0,O}function re(){var d=A.state;d.lexical.prev&&(d.lexical.type==")"&&(d.indented=d.lexical.indented),d.lexical=d.lexical.prev)}re.lex=!0;function ge(d){function m(O){return O==d?w():d==";"||O=="}"||O==")"||O=="]"?W():w(m)}return m}function Le(d,m){return d=="var"?w(de("vardef",m),Rr,ge(";"),re):d=="keyword a"?w(de("form"),ir,Le,re):d=="keyword b"?w(de("form"),Le,re):d=="keyword d"?A.stream.match(/^\s*$/,!1)?w():w(de("stat"),Wt,ge(";"),re):d=="debugger"?w(ge(";")):d=="{"?w(de("}"),we,_t,re,xe):d==";"?w():d=="if"?(A.state.lexical.info=="else"&&A.state.cc[A.state.cc.length-1]==re&&A.state.cc.pop()(),w(de("form"),ir,Le,re,zr)):d=="function"?w(Lt):d=="for"?w(de("form"),we,ui,Le,xe,re):d=="class"||B&&m=="interface"?(A.marked="keyword",w(de("form",d=="class"?d:m),Ur,re)):d=="variable"?B&&m=="declare"?(A.marked="keyword",w(Le)):B&&(m=="module"||m=="enum"||m=="type")&&A.stream.match(/^\s*\w/,!1)?(A.marked="keyword",m=="enum"?w(Z):m=="type"?w(fi,ge("operator"),be,ge(";")):w(de("form"),st,ge("{"),de("}"),_t,re,re)):B&&m=="namespace"?(A.marked="keyword",w(de("form"),ye,Le,re)):B&&m=="abstract"?(A.marked="keyword",w(Le)):w(de("stat"),Qi):d=="switch"?w(de("form"),ir,ge("{"),de("}","switch"),we,_t,re,re,xe):d=="case"?w(ye,ge(":")):d=="default"?w(ge(":")):d=="catch"?w(de("form"),Ye,Ht,Le,re,xe):d=="export"?w(de("stat"),Yr,re):d=="import"?w(de("stat"),cr,re):d=="async"?w(Le):m=="@"?w(ye,Le):W(de("stat"),ye,ge(";"),re)}function Ht(d){if(d=="(")return w(Et,ge(")"))}function ye(d,m){return xt(d,m,!1)}function nt(d,m){return xt(d,m,!0)}function ir(d){return d!="("?W():w(de(")"),Wt,ge(")"),re)}function xt(d,m,O){if(A.state.fatArrowAt==A.stream.start){var P=O?Sr:Ce;if(d=="(")return w(Ye,de(")"),Pe(Et,")"),re,ge("=>"),P,xe);if(d=="variable")return W(Ye,st,ge("=>"),P,xe)}var T=O?Pt:wt;return V.hasOwnProperty(d)?w(T):d=="function"?w(Lt,T):d=="class"||B&&m=="interface"?(A.marked="keyword",w(de("form"),$i,re)):d=="keyword c"||d=="async"?w(O?nt:ye):d=="("?w(de(")"),Wt,ge(")"),re,T):d=="operator"||d=="spread"?w(O?nt:ye):d=="["?w(de("]"),Be,re,T):d=="{"?or(qt,"}",null,T):d=="quasi"?W(jt,T):d=="new"?w(Ji(O)):w()}function Wt(d){return d.match(/[;\}\)\],]/)?W():W(ye)}function wt(d,m){return d==","?w(Wt):Pt(d,m,!1)}function Pt(d,m,O){var P=O==!1?wt:Pt,T=O==!1?ye:nt;if(d=="=>")return w(Ye,O?Sr:Ce,xe);if(d=="operator")return/\+\+|--/.test(m)||B&&m=="!"?w(P):B&&m=="<"&&A.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?w(de(">"),Pe(be,">"),re,P):m=="?"?w(ye,ge(":"),T):w(T);if(d=="quasi")return W(jt,P);if(d!=";"){if(d=="(")return or(nt,")","call",P);if(d==".")return w(wn,P);if(d=="[")return w(de("]"),Wt,ge("]"),re,P);if(B&&m=="as")return A.marked="keyword",w(be,P);if(d=="regexp")return A.state.lastType=A.marked="operator",A.stream.backUp(A.stream.pos-A.stream.start-1),w(T)}}function jt(d,m){return d!="quasi"?W():m.slice(m.length-2)!="${"?w(jt):w(Wt,xn)}function xn(d){if(d=="}")return A.marked="string-2",A.state.tokenize=ve,w(jt)}function Ce(d){return z(A.stream,A.state),W(d=="{"?Le:ye)}function Sr(d){return z(A.stream,A.state),W(d=="{"?Le:nt)}function Ji(d){return function(m){return m=="."?w(d?li:oi):m=="variable"&&B?w(gt,d?Pt:wt):W(d?nt:ye)}}function oi(d,m){if(m=="target")return A.marked="keyword",w(wt)}function li(d,m){if(m=="target")return A.marked="keyword",w(Pt)}function Qi(d){return d==":"?w(re,Le):W(wt,ge(";"),re)}function wn(d){if(d=="variable")return A.marked="property",w()}function qt(d,m){if(d=="async")return A.marked="property",w(qt);if(d=="variable"||A.style=="keyword"){if(A.marked="property",m=="get"||m=="set")return w(ai);var O;return B&&A.state.fatArrowAt==A.stream.start&&(O=A.stream.match(/^\s*:\s*/,!1))&&(A.state.fatArrowAt=A.stream.pos+O[0].length),w(Xt)}else{if(d=="number"||d=="string")return A.marked=S?"property":A.style+" property",w(Xt);if(d=="jsonld-keyword")return w(Xt);if(B&&le(m))return A.marked="keyword",w(qt);if(d=="[")return w(ye,lr,ge("]"),Xt);if(d=="spread")return w(nt,Xt);if(m=="*")return A.marked="keyword",w(qt);if(d==":")return W(Xt)}}function ai(d){return d!="variable"?W(Xt):(A.marked="property",w(Lt))}function Xt(d){if(d==":")return w(nt);if(d=="(")return W(Lt)}function Pe(d,m,O){function P(T,q){if(O?O.indexOf(T)>-1:T==","){var Se=A.state.lexical;return Se.info=="call"&&(Se.pos=(Se.pos||0)+1),w(function(Ge,ut){return Ge==m||ut==m?W():W(d)},P)}return T==m||q==m?w():O&&O.indexOf(";")>-1?W(d):w(ge(m))}return function(T,q){return T==m||q==m?w():W(d,P)}}function or(d,m,O){for(var P=3;P<arguments.length;P++)A.cc.push(arguments[P]);return w(de(m,O),Pe(d,m),re)}function _t(d){return d=="}"?w():W(Le,_t)}function lr(d,m){if(B){if(d==":")return w(be);if(m=="?")return w(lr)}}function kr(d,m){if(B&&(d==":"||m=="in"))return w(be)}function ar(d){if(B&&d==":")return A.stream.match(/^\s*\w+\s+is\b/,!1)?w(ye,Zi,be):w(be)}function Zi(d,m){if(m=="is")return A.marked="keyword",w()}function be(d,m){if(m=="keyof"||m=="typeof"||m=="infer"||m=="readonly")return A.marked="keyword",w(m=="typeof"?nt:be);if(d=="variable"||m=="void")return A.marked="type",w(kt);if(m=="|"||m=="&")return w(be);if(d=="string"||d=="number"||d=="atom")return w(kt);if(d=="[")return w(de("]"),Pe(be,"]",","),re,kt);if(d=="{")return w(de("}"),ne,re,kt);if(d=="(")return w(Pe(Fe,")"),si,kt);if(d=="<")return w(Pe(be,">"),be);if(d=="quasi")return W(Ve,kt)}function si(d){if(d=="=>")return w(be)}function ne(d){return d.match(/[\}\)\]]/)?w():d==","||d==";"?w(ne):W(Jt,ne)}function Jt(d,m){if(d=="variable"||A.style=="keyword")return A.marked="property",w(Jt);if(m=="?"||d=="number"||d=="string")return w(Jt);if(d==":")return w(be);if(d=="[")return w(ge("variable"),kr,ge("]"),Jt);if(d=="(")return W(fr,Jt);if(!d.match(/[;\}\)\],]/))return w()}function Ve(d,m){return d!="quasi"?W():m.slice(m.length-2)!="${"?w(Ve):w(be,De)}function De(d){if(d=="}")return A.marked="string-2",A.state.tokenize=ve,w(Ve)}function Fe(d,m){return d=="variable"&&A.stream.match(/^\s*[?:]/,!1)||m=="?"?w(Fe):d==":"?w(be):d=="spread"?w(Fe):W(be)}function kt(d,m){if(m=="<")return w(de(">"),Pe(be,">"),re,kt);if(m=="|"||d=="."||m=="&")return w(be);if(d=="[")return w(be,ge("]"),kt);if(m=="extends"||m=="implements")return A.marked="keyword",w(be);if(m=="?")return w(be,ge(":"),be)}function gt(d,m){if(m=="<")return w(de(">"),Pe(be,">"),re,kt)}function Tt(){return W(be,$e)}function $e(d,m){if(m=="=")return w(be)}function Rr(d,m){return m=="enum"?(A.marked="keyword",w(Z)):W(st,lr,At,Vi)}function st(d,m){if(B&&le(m))return A.marked="keyword",w(st);if(d=="variable")return Ae(m),w();if(d=="spread")return w(st);if(d=="[")return or(Cn,"]");if(d=="{")return or(sr,"}")}function sr(d,m){return d=="variable"&&!A.stream.match(/^\s*:/,!1)?(Ae(m),w(At)):(d=="variable"&&(A.marked="property"),d=="spread"?w(st):d=="}"?W():d=="["?w(ye,ge("]"),ge(":"),sr):w(ge(":"),st,At))}function Cn(){return W(st,At)}function At(d,m){if(m=="=")return w(nt)}function Vi(d){if(d==",")return w(Rr)}function zr(d,m){if(d=="keyword b"&&m=="else")return w(de("form","else"),Le,re)}function ui(d,m){if(m=="await")return w(ui);if(d=="(")return w(de(")"),Sn,re)}function Sn(d){return d=="var"?w(Rr,ur):d=="variable"?w(ur):W(ur)}function ur(d,m){return d==")"?w():d==";"?w(ur):m=="in"||m=="of"?(A.marked="keyword",w(ye,ur)):W(ye,ur)}function Lt(d,m){if(m=="*")return A.marked="keyword",w(Lt);if(d=="variable")return Ae(m),w(Lt);if(d=="(")return w(Ye,de(")"),Pe(Et,")"),re,ar,Le,xe);if(B&&m=="<")return w(de(">"),Pe(Tt,">"),re,Lt)}function fr(d,m){if(m=="*")return A.marked="keyword",w(fr);if(d=="variable")return Ae(m),w(fr);if(d=="(")return w(Ye,de(")"),Pe(Et,")"),re,ar,xe);if(B&&m=="<")return w(de(">"),Pe(Tt,">"),re,fr)}function fi(d,m){if(d=="keyword"||d=="variable")return A.marked="type",w(fi);if(m=="<")return w(de(">"),Pe(Tt,">"),re)}function Et(d,m){return m=="@"&&w(ye,Et),d=="spread"?w(Et):B&&le(m)?(A.marked="keyword",w(Et)):B&&d=="this"?w(lr,At):W(st,lr,At)}function $i(d,m){return d=="variable"?Ur(d,m):Mt(d,m)}function Ur(d,m){if(d=="variable")return Ae(m),w(Mt)}function Mt(d,m){if(m=="<")return w(de(">"),Pe(Tt,">"),re,Mt);if(m=="extends"||m=="implements"||B&&d==",")return m=="implements"&&(A.marked="keyword"),w(B?be:ye,Mt);if(d=="{")return w(de("}"),Ot,re)}function Ot(d,m){if(d=="async"||d=="variable"&&(m=="static"||m=="get"||m=="set"||B&&le(m))&&A.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return A.marked="keyword",w(Ot);if(d=="variable"||A.style=="keyword")return A.marked="property",w(Lr,Ot);if(d=="number"||d=="string")return w(Lr,Ot);if(d=="[")return w(ye,lr,ge("]"),Lr,Ot);if(m=="*")return A.marked="keyword",w(Ot);if(B&&d=="(")return W(fr,Ot);if(d==";"||d==",")return w(Ot);if(d=="}")return w();if(m=="@")return w(ye,Ot)}function Lr(d,m){if(m=="!"||m=="?")return w(Lr);if(d==":")return w(be,At);if(m=="=")return w(nt);var O=A.state.lexical.prev,P=O&&O.info=="interface";return W(P?fr:Lt)}function Yr(d,m){return m=="*"?(A.marked="keyword",w(jr,ge(";"))):m=="default"?(A.marked="keyword",w(ye,ge(";"))):d=="{"?w(Pe(Gr,"}"),jr,ge(";")):W(Le)}function Gr(d,m){if(m=="as")return A.marked="keyword",w(ge("variable"));if(d=="variable")return W(nt,Gr)}function cr(d){return d=="string"?w():d=="("?W(ye):d=="."?W(wt):W(Kr,Rt,jr)}function Kr(d,m){return d=="{"?or(Kr,"}"):(d=="variable"&&Ae(m),m=="*"&&(A.marked="keyword"),w(kn))}function Rt(d){if(d==",")return w(Kr,Rt)}function kn(d,m){if(m=="as")return A.marked="keyword",w(Kr)}function jr(d,m){if(m=="from")return A.marked="keyword",w(ye)}function Be(d){return d=="]"?w():W(Pe(nt,"]"))}function Z(){return W(de("form"),st,ge("{"),de("}"),Pe(Qt,"}"),re,re)}function Qt(){return W(st,At)}function Ln(d,m){return d.lastType=="operator"||d.lastType==","||U.test(m.charAt(0))||/[,.]/.test(m.charAt(0))}function Ct(d,m,O){return m.tokenize==te&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(m.lastType)||m.lastType=="quasi"&&/\{\s*$/.test(d.string.slice(0,d.pos-(O||0)))}return{startState:function(d){var m={tokenize:te,lastType:"sof",cc:[],lexical:new J((d||0)-x,0,"block",!1),localVars:p.localVars,context:p.localVars&&new ue(null,null,!1),indented:d||0};return p.globalVars&&typeof p.globalVars=="object"&&(m.globalVars=p.globalVars),m},token:function(d,m){if(d.sol()&&(m.lexical.hasOwnProperty("align")||(m.lexical.align=!1),m.indented=d.indentation(),z(d,m)),m.tokenize!=ce&&d.eatSpace())return null;var O=m.tokenize(d,m);return se=="comment"?O:(m.lastType=se=="operator"&&(H=="++"||H=="--")?"incdec":se,he(m,O,se,H,d))},indent:function(d,m){if(d.tokenize==ce||d.tokenize==ve)return f.Pass;if(d.tokenize!=te)return 0;var O=m&&m.charAt(0),P=d.lexical,T;if(!/^\s*else\b/.test(m))for(var q=d.cc.length-1;q>=0;--q){var Se=d.cc[q];if(Se==re)P=P.prev;else if(Se!=zr&&Se!=xe)break}for(;(P.type=="stat"||P.type=="form")&&(O=="}"||(T=d.cc[d.cc.length-1])&&(T==wt||T==Pt)&&!/^[,\.=+\-*:?[\(]/.test(m));)P=P.prev;y&&P.type==")"&&P.prev.type=="stat"&&(P=P.prev);var Ge=P.type,ut=O==Ge;return Ge=="vardef"?P.indented+(d.lastType=="operator"||d.lastType==","?P.info.length+1:0):Ge=="form"&&O=="{"?P.indented:Ge=="form"?P.indented+x:Ge=="stat"?P.indented+(Ln(d,m)?y||x:0):P.info=="switch"&&!ut&&p.doubleIndentSwitch!=!1?P.indented+(/^(?:case|default)\b/.test(m)?x:2*x):P.align?P.column+(ut?0:1):P.indented+(ut?0:x)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:L?null:"/*",blockCommentEnd:L?null:"*/",blockCommentContinue:L?null:" * ",lineComment:L?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:L?"json":"javascript",jsonldMode:S,jsonMode:L,expressionAllowed:Ct,skipExpression:function(d){he(d,"atom","atom","true",new f.StringStream("",2,null))}}}),f.registerHelper("wordChars","javascript",/[\w$]/),f.defineMIME("text/javascript","javascript"),f.defineMIME("text/ecmascript","javascript"),f.defineMIME("application/javascript","javascript"),f.defineMIME("application/x-javascript","javascript"),f.defineMIME("application/ecmascript","javascript"),f.defineMIME("application/json",{name:"javascript",json:!0}),f.defineMIME("application/x-json",{name:"javascript",json:!0}),f.defineMIME("application/manifest+json",{name:"javascript",json:!0}),f.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),f.defineMIME("text/typescript",{name:"javascript",typescript:!0}),f.defineMIME("application/typescript",{name:"javascript",typescript:!0})})})();(function(i,a){(function(f){f(_r())})(function(f){f.defineMode("yaml",function(){var v=["true","false","on","off","yes","no"],p=new RegExp("\\b(("+v.join(")|(")+"))$","i");return{token:function(x,y){var S=x.peek(),L=y.escaped;if(y.escaped=!1,S=="#"&&(x.pos==0||/\s/.test(x.string.charAt(x.pos-1))))return x.skipToEnd(),"comment";if(x.match(/^('([^']|\\.)*'?|"([^"]|\\.)*"?)/))return"string";if(y.literal&&x.indentation()>y.keyCol)return x.skipToEnd(),"string";if(y.literal&&(y.literal=!1),x.sol()){if(y.keyCol=0,y.pair=!1,y.pairStart=!1,x.match("---")||x.match("..."))return"def";if(x.match(/\s*-\s+/))return"meta"}if(x.match(/^(\{|\}|\[|\])/))return S=="{"?y.inlinePairs++:S=="}"?y.inlinePairs--:S=="["?y.inlineList++:y.inlineList--,"meta";if(y.inlineList>0&&!L&&S==",")return x.next(),"meta";if(y.inlinePairs>0&&!L&&S==",")return y.keyCol=0,y.pair=!1,y.pairStart=!1,x.next(),"meta";if(y.pairStart){if(x.match(/^\s*(\||\>)\s*/))return y.literal=!0,"meta";if(x.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i))return"variable-2";if(y.inlinePairs==0&&x.match(/^\s*-?[0-9\.\,]+\s?$/)||y.inlinePairs>0&&x.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/))return"number";if(x.match(p))return"keyword"}return!y.pair&&x.match(/^\s*(?:[,\[\]{}&*!|>'"%@`][^\s'":]|[^\s,\[\]{}#&*!|>'"%@`])[^#:]*(?=:($|\s))/)?(y.pair=!0,y.keyCol=x.indentation(),"atom"):y.pair&&x.match(/^:\s*/)?(y.pairStart=!0,"meta"):(y.pairStart=!1,y.escaped=S=="\\",x.next(),null)},startState:function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}},lineComment:"#",fold:"indent"}}),f.defineMIME("text/x-yaml","yaml"),f.defineMIME("text/yaml","yaml")})})();(function(i,a){(function(f){f(_r())})(function(f){var v=/MSIE \d/.test(navigator.userAgent)&&(document.documentMode==null||document.documentMode<8),p=f.Pos,x={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function y(I){return I&&I.bracketRegex||/[(){}[\]]/}function S(I,U,K){var fe=I.getLineHandle(U.line),se=U.ch-1,H=K&&K.afterCursor;H==null&&(H=/(^| )cm-fat-cursor($| )/.test(I.getWrapperElement().className));var M=y(K),te=!H&&se>=0&&M.test(fe.text.charAt(se))&&x[fe.text.charAt(se)]||M.test(fe.text.charAt(se+1))&&x[fe.text.charAt(++se)];if(!te)return null;var oe=te.charAt(1)==">"?1:-1;if(K&&K.strict&&oe>0!=(se==U.ch))return null;var ce=I.getTokenTypeAt(p(U.line,se+1)),ve=L(I,p(U.line,se+(oe>0?1:0)),oe,ce,K);return ve==null?null:{from:p(U.line,se),to:ve&&ve.pos,match:ve&&ve.ch==te.charAt(0),forward:oe>0}}function L(I,U,K,fe,se){for(var H=se&&se.maxScanLineLength||1e4,M=se&&se.maxScanLines||1e3,te=[],oe=y(se),ce=K>0?Math.min(U.line+M,I.lastLine()+1):Math.max(I.firstLine()-1,U.line-M),ve=U.line;ve!=ce;ve+=K){var D=I.getLine(ve);if(D){var z=K>0?0:D.length-1,V=K>0?D.length:-1;if(!(D.length>H))for(ve==U.line&&(z=U.ch-(K<0?1:0));z!=V;z+=K){var J=D.charAt(z);if(oe.test(J)&&(fe===void 0||(I.getTokenTypeAt(p(ve,z+1))||"")==(fe||""))){var $=x[J];if($&&$.charAt(1)==">"==K>0)te.push(J);else if(te.length)te.pop();else return{pos:p(ve,z),ch:J}}}}}return ve-K==(K>0?I.lastLine():I.firstLine())?!1:null}function N(I,U,K){for(var fe=I.state.matchBrackets.maxHighlightLineLength||1e3,se=K&&K.highlightNonMatching,H=[],M=I.listSelections(),te=0;te<M.length;te++){var oe=M[te].empty()&&S(I,M[te].head,K);if(oe&&(oe.match||se!==!1)&&I.getLine(oe.from.line).length<=fe){var ce=oe.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";H.push(I.markText(oe.from,p(oe.from.line,oe.from.ch+1),{className:ce})),oe.to&&I.getLine(oe.to.line).length<=fe&&H.push(I.markText(oe.to,p(oe.to.line,oe.to.ch+1),{className:ce}))}}if(H.length){v&&I.state.focused&&I.focus();var ve=function(){I.operation(function(){for(var D=0;D<H.length;D++)H[D].clear()})};if(U)setTimeout(ve,800);else return ve}}function B(I){I.operation(function(){I.state.matchBrackets.currentlyHighlighted&&(I.state.matchBrackets.currentlyHighlighted(),I.state.matchBrackets.currentlyHighlighted=null),I.state.matchBrackets.currentlyHighlighted=N(I,!1,I.state.matchBrackets)})}function _(I){I.state.matchBrackets&&I.state.matchBrackets.currentlyHighlighted&&(I.state.matchBrackets.currentlyHighlighted(),I.state.matchBrackets.currentlyHighlighted=null)}f.defineOption("matchBrackets",!1,function(I,U,K){K&&K!=f.Init&&(I.off("cursorActivity",B),I.off("focus",B),I.off("blur",_),_(I)),U&&(I.state.matchBrackets=typeof U=="object"?U:{},I.on("cursorActivity",B),I.on("focus",B),I.on("blur",_))}),f.defineExtension("matchBrackets",function(){N(this,!0)}),f.defineExtension("findMatchingBracket",function(I,U,K){return(K||typeof U=="boolean")&&(K?(K.strict=U,U=K):U=U?{strict:!0}:null),S(this,I,U)}),f.defineExtension("scanForBracket",function(I,U,K,fe){return L(this,I,U,K,fe)})})})();(function(i,a){(function(f){f(_r())})(function(f){var v={pairs:`()[]{}''""`,closeBefore:`)]}'":;>`,triples:"",explode:"[]{}"},p=f.Pos;f.defineOption("autoCloseBrackets",!1,function(H,M,te){te&&te!=f.Init&&(H.removeKeyMap(y),H.state.closeBrackets=null),M&&(S(x(M,"pairs")),H.state.closeBrackets=M,H.addKeyMap(y))});function x(H,M){return M=="pairs"&&typeof H=="string"?H:typeof H=="object"&&H[M]!=null?H[M]:v[M]}var y={Backspace:B,Enter:_};function S(H){for(var M=0;M<H.length;M++){var te=H.charAt(M),oe="'"+te+"'";y[oe]||(y[oe]=L(te))}}S(v.pairs+"`");function L(H){return function(M){return K(M,H)}}function N(H){var M=H.state.closeBrackets;if(!M||M.override)return M;var te=H.getModeAt(H.getCursor());return te.closeBrackets||M}function B(H){var M=N(H);if(!M||H.getOption("disableInput"))return f.Pass;for(var te=x(M,"pairs"),oe=H.listSelections(),ce=0;ce<oe.length;ce++){if(!oe[ce].empty())return f.Pass;var ve=fe(H,oe[ce].head);if(!ve||te.indexOf(ve)%2!=0)return f.Pass}for(var ce=oe.length-1;ce>=0;ce--){var D=oe[ce].head;H.replaceRange("",p(D.line,D.ch-1),p(D.line,D.ch+1),"+delete")}}function _(H){var M=N(H),te=M&&x(M,"explode");if(!te||H.getOption("disableInput"))return f.Pass;for(var oe=H.listSelections(),ce=0;ce<oe.length;ce++){if(!oe[ce].empty())return f.Pass;var ve=fe(H,oe[ce].head);if(!ve||te.indexOf(ve)%2!=0)return f.Pass}H.operation(function(){var D=H.lineSeparator()||`
`;H.replaceSelection(D+D,null),I(H,-1),oe=H.listSelections();for(var z=0;z<oe.length;z++){var V=oe[z].head.line;H.indentLine(V,null,!0),H.indentLine(V+1,null,!0)}})}function I(H,M){for(var te=[],oe=H.listSelections(),ce=0,ve=0;ve<oe.length;ve++){var D=oe[ve];D.head==H.getCursor()&&(ce=ve);var z=D.head.ch||M>0?{line:D.head.line,ch:D.head.ch+M}:{line:D.head.line-1};te.push({anchor:z,head:z})}H.setSelections(te,ce)}function U(H){var M=f.cmpPos(H.anchor,H.head)>0;return{anchor:new p(H.anchor.line,H.anchor.ch+(M?-1:1)),head:new p(H.head.line,H.head.ch+(M?1:-1))}}function K(H,M){var te=N(H);if(!te||H.getOption("disableInput"))return f.Pass;var oe=x(te,"pairs"),ce=oe.indexOf(M);if(ce==-1)return f.Pass;for(var ve=x(te,"closeBefore"),D=x(te,"triples"),z=oe.charAt(ce+1)==M,V=H.listSelections(),J=ce%2==0,$,he=0;he<V.length;he++){var A=V[he],W=A.head,w,Me=H.getRange(W,p(W.line,W.ch+1));if(J&&!A.empty())w="surround";else if((z||!J)&&Me==M)z&&se(H,W)?w="both":D.indexOf(M)>=0&&H.getRange(W,p(W.line,W.ch+3))==M+M+M?w="skipThree":w="skip";else if(z&&W.ch>1&&D.indexOf(M)>=0&&H.getRange(p(W.line,W.ch-2),W)==M+M){if(W.ch>2&&/\bstring/.test(H.getTokenTypeAt(p(W.line,W.ch-2))))return f.Pass;w="addFour"}else if(z){var Ae=W.ch==0?" ":H.getRange(p(W.line,W.ch-1),W);if(!f.isWordChar(Me)&&Ae!=M&&!f.isWordChar(Ae))w="both";else return f.Pass}else if(J&&(Me.length===0||/\s/.test(Me)||ve.indexOf(Me)>-1))w="both";else return f.Pass;if(!$)$=w;else if($!=w)return f.Pass}var j=ce%2?oe.charAt(ce-1):M,le=ce%2?M:oe.charAt(ce+1);H.operation(function(){if($=="skip")I(H,1);else if($=="skipThree")I(H,3);else if($=="surround"){for(var ue=H.getSelections(),Ne=0;Ne<ue.length;Ne++)ue[Ne]=j+ue[Ne]+le;H.replaceSelections(ue,"around"),ue=H.listSelections().slice();for(var Ne=0;Ne<ue.length;Ne++)ue[Ne]=U(ue[Ne]);H.setSelections(ue)}else $=="both"?(H.replaceSelection(j+le,null),H.triggerElectric(j+le),I(H,-1)):$=="addFour"&&(H.replaceSelection(j+j+j+j,"before"),I(H,1))})}function fe(H,M){var te=H.getRange(p(M.line,M.ch-1),p(M.line,M.ch+1));return te.length==2?te:null}function se(H,M){var te=H.getTokenAt(p(M.line,M.ch+1));return/\bstring/.test(te.type)&&te.start==M.ch&&(M.ch==0||!/\bstring/.test(H.getTokenTypeAt(M)))}})})();(function(i,a){(function(f){f(_r())})(function(f){var v="CodeMirror-lint-markers",p="CodeMirror-lint-line-";function x(D,z,V){var J=document.createElement("div");J.className="CodeMirror-lint-tooltip cm-s-"+D.options.theme,J.appendChild(V.cloneNode(!0)),D.state.lint.options.selfContain?D.getWrapperElement().appendChild(J):document.body.appendChild(J);function $(he){if(!J.parentNode)return f.off(document,"mousemove",$);var A=Math.max(0,he.clientY-J.offsetHeight-5),W=Math.max(0,Math.min(he.clientX+5,J.ownerDocument.defaultView.innerWidth-J.offsetWidth));J.style.top=A+"px",J.style.left=W+"px"}return f.on(document,"mousemove",$),$(z),J.style.opacity!=null&&(J.style.opacity=1),J}function y(D){D.parentNode&&D.parentNode.removeChild(D)}function S(D){D.parentNode&&(D.style.opacity==null&&y(D),D.style.opacity=0,setTimeout(function(){y(D)},600))}function L(D,z,V,J){var $=x(D,z,V);function he(){f.off(J,"mouseout",he),$&&(S($),$=null)}var A=setInterval(function(){if($)for(var W=J;;W=W.parentNode){if(W&&W.nodeType==11&&(W=W.host),W==document.body)return;if(!W){he();break}}if(!$)return clearInterval(A)},400);f.on(J,"mouseout",he)}function N(D,z,V){this.marked=[],z instanceof Function&&(z={getAnnotations:z}),(!z||z===!0)&&(z={}),this.options={},this.linterOptions=z.options||{};for(var J in B)this.options[J]=B[J];for(var J in z)B.hasOwnProperty(J)?z[J]!=null&&(this.options[J]=z[J]):z.options||(this.linterOptions[J]=z[J]);this.timeout=null,this.hasGutter=V,this.onMouseOver=function($){ve(D,$)},this.waitingFor=0}var B={highlightLines:!1,tooltips:!0,delay:500,lintOnChange:!0,getAnnotations:null,async:!1,selfContain:null,formatAnnotation:null,onUpdateLinting:null};function _(D){var z=D.state.lint;z.hasGutter&&D.clearGutter(v),z.options.highlightLines&&I(D);for(var V=0;V<z.marked.length;++V)z.marked[V].clear();z.marked.length=0}function I(D){D.eachLine(function(z){var V=z.wrapClass&&/\bCodeMirror-lint-line-\w+\b/.exec(z.wrapClass);V&&D.removeLineClass(z,"wrap",V[0])})}function U(D,z,V,J,$){var he=document.createElement("div"),A=he;return he.className="CodeMirror-lint-marker CodeMirror-lint-marker-"+V,J&&(A=he.appendChild(document.createElement("div")),A.className="CodeMirror-lint-marker CodeMirror-lint-marker-multiple"),$!=!1&&f.on(A,"mouseover",function(W){L(D,W,z,A)}),he}function K(D,z){return D=="error"?D:z}function fe(D){for(var z=[],V=0;V<D.length;++V){var J=D[V],$=J.from.line;(z[$]||(z[$]=[])).push(J)}return z}function se(D){var z=D.severity;z||(z="error");var V=document.createElement("div");return V.className="CodeMirror-lint-message CodeMirror-lint-message-"+z,typeof D.messageHTML<"u"?V.innerHTML=D.messageHTML:V.appendChild(document.createTextNode(D.message)),V}function H(D,z){var V=D.state.lint,J=++V.waitingFor;function $(){J=-1,D.off("change",$)}D.on("change",$),z(D.getValue(),function(he,A){D.off("change",$),V.waitingFor==J&&(A&&he instanceof f&&(he=A),D.operation(function(){te(D,he)}))},V.linterOptions,D)}function M(D){var z=D.state.lint;if(z){var V=z.options,J=V.getAnnotations||D.getHelper(f.Pos(0,0),"lint");if(J)if(V.async||J.async)H(D,J);else{var $=J(D.getValue(),z.linterOptions,D);if(!$)return;$.then?$.then(function(he){D.operation(function(){te(D,he)})}):D.operation(function(){te(D,$)})}}}function te(D,z){var V=D.state.lint;if(V){var J=V.options;_(D);for(var $=fe(z),he=0;he<$.length;++he){var A=$[he];if(A){for(var W=null,w=V.hasGutter&&document.createDocumentFragment(),Me=0;Me<A.length;++Me){var Ae=A[Me],j=Ae.severity;j||(j="error"),W=K(W,j),J.formatAnnotation&&(Ae=J.formatAnnotation(Ae)),V.hasGutter&&w.appendChild(se(Ae)),Ae.to&&V.marked.push(D.markText(Ae.from,Ae.to,{className:"CodeMirror-lint-mark CodeMirror-lint-mark-"+j,__annotation:Ae}))}V.hasGutter&&D.setGutterMarker(he,v,U(D,w,W,A.length>1,J.tooltips)),J.highlightLines&&D.addLineClass(he,"wrap",p+W)}}J.onUpdateLinting&&J.onUpdateLinting(z,$,D)}}function oe(D){var z=D.state.lint;z&&(clearTimeout(z.timeout),z.timeout=setTimeout(function(){M(D)},z.options.delay))}function ce(D,z,V){for(var J=V.target||V.srcElement,$=document.createDocumentFragment(),he=0;he<z.length;he++){var A=z[he];$.appendChild(se(A))}L(D,V,$,J)}function ve(D,z){var V=z.target||z.srcElement;if(/\bCodeMirror-lint-mark-/.test(V.className)){for(var J=V.getBoundingClientRect(),$=(J.left+J.right)/2,he=(J.top+J.bottom)/2,A=D.findMarksAt(D.coordsChar({left:$,top:he},"client")),W=[],w=0;w<A.length;++w){var Me=A[w].__annotation;Me&&W.push(Me)}W.length&&ce(D,W,z)}}f.defineOption("lint",!1,function(D,z,V){if(V&&V!=f.Init&&(_(D),D.state.lint.options.lintOnChange!==!1&&D.off("change",oe),f.off(D.getWrapperElement(),"mouseover",D.state.lint.onMouseOver),clearTimeout(D.state.lint.timeout),delete D.state.lint),z){for(var J=D.getOption("gutters"),$=!1,he=0;he<J.length;++he)J[he]==v&&($=!0);var A=D.state.lint=new N(D,z,$);A.options.lintOnChange&&D.on("change",oe),A.options.tooltips!=!1&&A.options.tooltips!="gutter"&&f.on(D.getWrapperElement(),"mouseover",A.onMouseOver),M(D)}}),f.defineExtension("performLint",function(){M(this)})})})();(function(i,a){(function(f){f(_r())})(function(f){f.registerHelper("lint","json",function(v){var p=[];if(!window.jsonlint)return window.console&&window.console.error("Error: window.jsonlint not defined, CodeMirror JSON linting cannot run."),p;var x=window.jsonlint.parser||window.jsonlint;x.parseError=function(y,S){var L=S.loc;p.push({from:f.Pos(L.first_line-1,L.first_column),to:f.Pos(L.last_line-1,L.last_column),message:y})};try{x.parse(v)}catch{}return p})})})();/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function Fs(i){return typeof i>"u"||i===null}function Mc(i){return typeof i=="object"&&i!==null}function Oc(i){return Array.isArray(i)?i:Fs(i)?[]:[i]}function Nc(i,a){var f,v,p,x;if(a)for(x=Object.keys(a),f=0,v=x.length;f<v;f+=1)p=x[f],i[p]=a[p];return i}function Ic(i,a){var f="",v;for(v=0;v<a;v+=1)f+=i;return f}function Dc(i){return i===0&&Number.NEGATIVE_INFINITY===1/i}var Fc=Fs,Bc=Mc,Hc=Oc,Wc=Ic,Pc=Dc,_c=Nc,Qe={isNothing:Fc,isObject:Bc,toArray:Hc,repeat:Wc,isNegativeZero:Pc,extend:_c};function Bs(i,a){var f="",v=i.reason||"(unknown reason)";return i.mark?(i.mark.name&&(f+='in "'+i.mark.name+'" '),f+="("+(i.mark.line+1)+":"+(i.mark.column+1)+")",!a&&i.mark.snippet&&(f+=`

`+i.mark.snippet),v+" "+f):v}function ti(i,a){Error.call(this),this.name="YAMLException",this.reason=i,this.mark=a,this.message=Bs(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}ti.prototype=Object.create(Error.prototype);ti.prototype.constructor=ti;ti.prototype.toString=function(a){return this.name+": "+Bs(this,a)};var vt=ti;function Jo(i,a,f,v,p){var x="",y="",S=Math.floor(p/2)-1;return v-a>S&&(x=" ... ",a=v-S+x.length),f-v>S&&(y=" ...",f=v+S-y.length),{str:x+i.slice(a,f).replace(/\t/g,"→")+y,pos:v-a+x.length}}function Qo(i,a){return Qe.repeat(" ",a-i.length)+i}function Rc(i,a){if(a=Object.create(a||null),!i.buffer)return null;a.maxLength||(a.maxLength=79),typeof a.indent!="number"&&(a.indent=1),typeof a.linesBefore!="number"&&(a.linesBefore=3),typeof a.linesAfter!="number"&&(a.linesAfter=2);for(var f=/\r?\n|\r|\0/g,v=[0],p=[],x,y=-1;x=f.exec(i.buffer);)p.push(x.index),v.push(x.index+x[0].length),i.position<=x.index&&y<0&&(y=v.length-2);y<0&&(y=v.length-1);var S="",L,N,B=Math.min(i.line+a.linesAfter,p.length).toString().length,_=a.maxLength-(a.indent+B+3);for(L=1;L<=a.linesBefore&&!(y-L<0);L++)N=Jo(i.buffer,v[y-L],p[y-L],i.position-(v[y]-v[y-L]),_),S=Qe.repeat(" ",a.indent)+Qo((i.line-L+1).toString(),B)+" | "+N.str+`
`+S;for(N=Jo(i.buffer,v[y],p[y],i.position,_),S+=Qe.repeat(" ",a.indent)+Qo((i.line+1).toString(),B)+" | "+N.str+`
`,S+=Qe.repeat("-",a.indent+B+3+N.pos)+`^
`,L=1;L<=a.linesAfter&&!(y+L>=p.length);L++)N=Jo(i.buffer,v[y+L],p[y+L],i.position-(v[y]-v[y+L]),_),S+=Qe.repeat(" ",a.indent)+Qo((i.line+L+1).toString(),B)+" | "+N.str+`
`;return S.replace(/\n$/,"")}var zc=Rc,Uc=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Yc=["scalar","sequence","mapping"];function Gc(i){var a={};return i!==null&&Object.keys(i).forEach(function(f){i[f].forEach(function(v){a[String(v)]=f})}),a}function Kc(i,a){if(a=a||{},Object.keys(a).forEach(function(f){if(Uc.indexOf(f)===-1)throw new vt('Unknown option "'+f+'" is met in definition of "'+i+'" YAML type.')}),this.options=a,this.tag=i,this.kind=a.kind||null,this.resolve=a.resolve||function(){return!0},this.construct=a.construct||function(f){return f},this.instanceOf=a.instanceOf||null,this.predicate=a.predicate||null,this.represent=a.represent||null,this.representName=a.representName||null,this.defaultStyle=a.defaultStyle||null,this.multi=a.multi||!1,this.styleAliases=Gc(a.styleAliases||null),Yc.indexOf(this.kind)===-1)throw new vt('Unknown kind "'+this.kind+'" is specified for "'+i+'" YAML type.')}var rt=Kc;function fs(i,a){var f=[];return i[a].forEach(function(v){var p=f.length;f.forEach(function(x,y){x.tag===v.tag&&x.kind===v.kind&&x.multi===v.multi&&(p=y)}),f[p]=v}),f}function jc(){var i={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},a,f;function v(p){p.multi?(i.multi[p.kind].push(p),i.multi.fallback.push(p)):i[p.kind][p.tag]=i.fallback[p.tag]=p}for(a=0,f=arguments.length;a<f;a+=1)arguments[a].forEach(v);return i}function Vo(i){return this.extend(i)}Vo.prototype.extend=function(a){var f=[],v=[];if(a instanceof rt)v.push(a);else if(Array.isArray(a))v=v.concat(a);else if(a&&(Array.isArray(a.implicit)||Array.isArray(a.explicit)))a.implicit&&(f=f.concat(a.implicit)),a.explicit&&(v=v.concat(a.explicit));else throw new vt("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");f.forEach(function(x){if(!(x instanceof rt))throw new vt("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(x.loadKind&&x.loadKind!=="scalar")throw new vt("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(x.multi)throw new vt("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),v.forEach(function(x){if(!(x instanceof rt))throw new vt("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var p=Object.create(Vo.prototype);return p.implicit=(this.implicit||[]).concat(f),p.explicit=(this.explicit||[]).concat(v),p.compiledImplicit=fs(p,"implicit"),p.compiledExplicit=fs(p,"explicit"),p.compiledTypeMap=jc(p.compiledImplicit,p.compiledExplicit),p};var Hs=Vo,Ws=new rt("tag:yaml.org,2002:str",{kind:"scalar",construct:function(i){return i!==null?i:""}}),Ps=new rt("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(i){return i!==null?i:[]}}),_s=new rt("tag:yaml.org,2002:map",{kind:"mapping",construct:function(i){return i!==null?i:{}}}),Rs=new Hs({explicit:[Ws,Ps,_s]});function qc(i){if(i===null)return!0;var a=i.length;return a===1&&i==="~"||a===4&&(i==="null"||i==="Null"||i==="NULL")}function Xc(){return null}function Jc(i){return i===null}var zs=new rt("tag:yaml.org,2002:null",{kind:"scalar",resolve:qc,construct:Xc,predicate:Jc,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function Qc(i){if(i===null)return!1;var a=i.length;return a===4&&(i==="true"||i==="True"||i==="TRUE")||a===5&&(i==="false"||i==="False"||i==="FALSE")}function Zc(i){return i==="true"||i==="True"||i==="TRUE"}function Vc(i){return Object.prototype.toString.call(i)==="[object Boolean]"}var Us=new rt("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Qc,construct:Zc,predicate:Vc,represent:{lowercase:function(i){return i?"true":"false"},uppercase:function(i){return i?"TRUE":"FALSE"},camelcase:function(i){return i?"True":"False"}},defaultStyle:"lowercase"});function $c(i){return 48<=i&&i<=57||65<=i&&i<=70||97<=i&&i<=102}function eh(i){return 48<=i&&i<=55}function th(i){return 48<=i&&i<=57}function rh(i){if(i===null)return!1;var a=i.length,f=0,v=!1,p;if(!a)return!1;if(p=i[f],(p==="-"||p==="+")&&(p=i[++f]),p==="0"){if(f+1===a)return!0;if(p=i[++f],p==="b"){for(f++;f<a;f++)if(p=i[f],p!=="_"){if(p!=="0"&&p!=="1")return!1;v=!0}return v&&p!=="_"}if(p==="x"){for(f++;f<a;f++)if(p=i[f],p!=="_"){if(!$c(i.charCodeAt(f)))return!1;v=!0}return v&&p!=="_"}if(p==="o"){for(f++;f<a;f++)if(p=i[f],p!=="_"){if(!eh(i.charCodeAt(f)))return!1;v=!0}return v&&p!=="_"}}if(p==="_")return!1;for(;f<a;f++)if(p=i[f],p!=="_"){if(!th(i.charCodeAt(f)))return!1;v=!0}return!(!v||p==="_")}function nh(i){var a=i,f=1,v;if(a.indexOf("_")!==-1&&(a=a.replace(/_/g,"")),v=a[0],(v==="-"||v==="+")&&(v==="-"&&(f=-1),a=a.slice(1),v=a[0]),a==="0")return 0;if(v==="0"){if(a[1]==="b")return f*parseInt(a.slice(2),2);if(a[1]==="x")return f*parseInt(a.slice(2),16);if(a[1]==="o")return f*parseInt(a.slice(2),8)}return f*parseInt(a,10)}function ih(i){return Object.prototype.toString.call(i)==="[object Number]"&&i%1===0&&!Qe.isNegativeZero(i)}var Ys=new rt("tag:yaml.org,2002:int",{kind:"scalar",resolve:rh,construct:nh,predicate:ih,represent:{binary:function(i){return i>=0?"0b"+i.toString(2):"-0b"+i.toString(2).slice(1)},octal:function(i){return i>=0?"0o"+i.toString(8):"-0o"+i.toString(8).slice(1)},decimal:function(i){return i.toString(10)},hexadecimal:function(i){return i>=0?"0x"+i.toString(16).toUpperCase():"-0x"+i.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),oh=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function lh(i){return!(i===null||!oh.test(i)||i[i.length-1]==="_")}function ah(i){var a,f;return a=i.replace(/_/g,"").toLowerCase(),f=a[0]==="-"?-1:1,"+-".indexOf(a[0])>=0&&(a=a.slice(1)),a===".inf"?f===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:a===".nan"?NaN:f*parseFloat(a,10)}var sh=/^[-+]?[0-9]+e/;function uh(i,a){var f;if(isNaN(i))switch(a){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===i)switch(a){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===i)switch(a){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Qe.isNegativeZero(i))return"-0.0";return f=i.toString(10),sh.test(f)?f.replace("e",".e"):f}function fh(i){return Object.prototype.toString.call(i)==="[object Number]"&&(i%1!==0||Qe.isNegativeZero(i))}var Gs=new rt("tag:yaml.org,2002:float",{kind:"scalar",resolve:lh,construct:ah,predicate:fh,represent:uh,defaultStyle:"lowercase"}),Ks=Rs.extend({implicit:[zs,Us,Ys,Gs]}),js=Ks,qs=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Xs=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function ch(i){return i===null?!1:qs.exec(i)!==null||Xs.exec(i)!==null}function hh(i){var a,f,v,p,x,y,S,L=0,N=null,B,_,I;if(a=qs.exec(i),a===null&&(a=Xs.exec(i)),a===null)throw new Error("Date resolve error");if(f=+a[1],v=+a[2]-1,p=+a[3],!a[4])return new Date(Date.UTC(f,v,p));if(x=+a[4],y=+a[5],S=+a[6],a[7]){for(L=a[7].slice(0,3);L.length<3;)L+="0";L=+L}return a[9]&&(B=+a[10],_=+(a[11]||0),N=(B*60+_)*6e4,a[9]==="-"&&(N=-N)),I=new Date(Date.UTC(f,v,p,x,y,S,L)),N&&I.setTime(I.getTime()-N),I}function dh(i){return i.toISOString()}var Js=new rt("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:ch,construct:hh,instanceOf:Date,represent:dh});function ph(i){return i==="<<"||i===null}var Qs=new rt("tag:yaml.org,2002:merge",{kind:"scalar",resolve:ph}),il=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function vh(i){if(i===null)return!1;var a,f,v=0,p=i.length,x=il;for(f=0;f<p;f++)if(a=x.indexOf(i.charAt(f)),!(a>64)){if(a<0)return!1;v+=6}return v%8===0}function gh(i){var a,f,v=i.replace(/[\r\n=]/g,""),p=v.length,x=il,y=0,S=[];for(a=0;a<p;a++)a%4===0&&a&&(S.push(y>>16&255),S.push(y>>8&255),S.push(y&255)),y=y<<6|x.indexOf(v.charAt(a));return f=p%4*6,f===0?(S.push(y>>16&255),S.push(y>>8&255),S.push(y&255)):f===18?(S.push(y>>10&255),S.push(y>>2&255)):f===12&&S.push(y>>4&255),new Uint8Array(S)}function yh(i){var a="",f=0,v,p,x=i.length,y=il;for(v=0;v<x;v++)v%3===0&&v&&(a+=y[f>>18&63],a+=y[f>>12&63],a+=y[f>>6&63],a+=y[f&63]),f=(f<<8)+i[v];return p=x%3,p===0?(a+=y[f>>18&63],a+=y[f>>12&63],a+=y[f>>6&63],a+=y[f&63]):p===2?(a+=y[f>>10&63],a+=y[f>>4&63],a+=y[f<<2&63],a+=y[64]):p===1&&(a+=y[f>>2&63],a+=y[f<<4&63],a+=y[64],a+=y[64]),a}function mh(i){return Object.prototype.toString.call(i)==="[object Uint8Array]"}var Zs=new rt("tag:yaml.org,2002:binary",{kind:"scalar",resolve:vh,construct:gh,predicate:mh,represent:yh}),bh=Object.prototype.hasOwnProperty,xh=Object.prototype.toString;function wh(i){if(i===null)return!0;var a=[],f,v,p,x,y,S=i;for(f=0,v=S.length;f<v;f+=1){if(p=S[f],y=!1,xh.call(p)!=="[object Object]")return!1;for(x in p)if(bh.call(p,x))if(!y)y=!0;else return!1;if(!y)return!1;if(a.indexOf(x)===-1)a.push(x);else return!1}return!0}function Ch(i){return i!==null?i:[]}var Vs=new rt("tag:yaml.org,2002:omap",{kind:"sequence",resolve:wh,construct:Ch}),Sh=Object.prototype.toString;function kh(i){if(i===null)return!0;var a,f,v,p,x,y=i;for(x=new Array(y.length),a=0,f=y.length;a<f;a+=1){if(v=y[a],Sh.call(v)!=="[object Object]"||(p=Object.keys(v),p.length!==1))return!1;x[a]=[p[0],v[p[0]]]}return!0}function Lh(i){if(i===null)return[];var a,f,v,p,x,y=i;for(x=new Array(y.length),a=0,f=y.length;a<f;a+=1)v=y[a],p=Object.keys(v),x[a]=[p[0],v[p[0]]];return x}var $s=new rt("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:kh,construct:Lh}),Th=Object.prototype.hasOwnProperty;function Ah(i){if(i===null)return!0;var a,f=i;for(a in f)if(Th.call(f,a)&&f[a]!==null)return!1;return!0}function Eh(i){return i!==null?i:{}}var eu=new rt("tag:yaml.org,2002:set",{kind:"mapping",resolve:Ah,construct:Eh}),ol=js.extend({implicit:[Js,Qs],explicit:[Zs,Vs,$s,eu]}),Cr=Object.prototype.hasOwnProperty,Yi=1,tu=2,ru=3,Gi=4,Zo=1,Mh=2,cs=3,Oh=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Nh=/[\x85\u2028\u2029]/,Ih=/[,\[\]\{\}]/,nu=/^(?:!|!!|![a-z\-]+!)$/i,iu=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function hs(i){return Object.prototype.toString.call(i)}function Kt(i){return i===10||i===13}function Pr(i){return i===9||i===32}function bt(i){return i===9||i===32||i===10||i===13}function yn(i){return i===44||i===91||i===93||i===123||i===125}function Dh(i){var a;return 48<=i&&i<=57?i-48:(a=i|32,97<=a&&a<=102?a-97+10:-1)}function Fh(i){return i===120?2:i===117?4:i===85?8:0}function Bh(i){return 48<=i&&i<=57?i-48:-1}function ds(i){return i===48?"\0":i===97?"\x07":i===98?"\b":i===116||i===9?"	":i===110?`
`:i===118?"\v":i===102?"\f":i===114?"\r":i===101?"\x1B":i===32?" ":i===34?'"':i===47?"/":i===92?"\\":i===78?"":i===95?" ":i===76?"\u2028":i===80?"\u2029":""}function Hh(i){return i<=65535?String.fromCharCode(i):String.fromCharCode((i-65536>>10)+55296,(i-65536&1023)+56320)}var ou=new Array(256),lu=new Array(256);for(var pn=0;pn<256;pn++)ou[pn]=ds(pn)?1:0,lu[pn]=ds(pn);function Wh(i,a){this.input=i,this.filename=a.filename||null,this.schema=a.schema||ol,this.onWarning=a.onWarning||null,this.legacy=a.legacy||!1,this.json=a.json||!1,this.listener=a.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=i.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function au(i,a){var f={name:i.filename,buffer:i.input.slice(0,-1),position:i.position,line:i.line,column:i.position-i.lineStart};return f.snippet=zc(f),new vt(a,f)}function ae(i,a){throw au(i,a)}function Ki(i,a){i.onWarning&&i.onWarning.call(null,au(i,a))}var ps={YAML:function(a,f,v){var p,x,y;a.version!==null&&ae(a,"duplication of %YAML directive"),v.length!==1&&ae(a,"YAML directive accepts exactly one argument"),p=/^([0-9]+)\.([0-9]+)$/.exec(v[0]),p===null&&ae(a,"ill-formed argument of the YAML directive"),x=parseInt(p[1],10),y=parseInt(p[2],10),x!==1&&ae(a,"unacceptable YAML version of the document"),a.version=v[0],a.checkLineBreaks=y<2,y!==1&&y!==2&&Ki(a,"unsupported YAML version of the document")},TAG:function(a,f,v){var p,x;v.length!==2&&ae(a,"TAG directive accepts exactly two arguments"),p=v[0],x=v[1],nu.test(p)||ae(a,"ill-formed tag handle (first argument) of the TAG directive"),Cr.call(a.tagMap,p)&&ae(a,'there is a previously declared suffix for "'+p+'" tag handle'),iu.test(x)||ae(a,"ill-formed tag prefix (second argument) of the TAG directive");try{x=decodeURIComponent(x)}catch{ae(a,"tag prefix is malformed: "+x)}a.tagMap[p]=x}};function wr(i,a,f,v){var p,x,y,S;if(a<f){if(S=i.input.slice(a,f),v)for(p=0,x=S.length;p<x;p+=1)y=S.charCodeAt(p),y===9||32<=y&&y<=1114111||ae(i,"expected valid JSON character");else Oh.test(S)&&ae(i,"the stream contains non-printable characters");i.result+=S}}function vs(i,a,f,v){var p,x,y,S;for(Qe.isObject(f)||ae(i,"cannot merge mappings; the provided source object is unacceptable"),p=Object.keys(f),y=0,S=p.length;y<S;y+=1)x=p[y],Cr.call(a,x)||(a[x]=f[x],v[x]=!0)}function mn(i,a,f,v,p,x,y,S,L){var N,B;if(Array.isArray(p))for(p=Array.prototype.slice.call(p),N=0,B=p.length;N<B;N+=1)Array.isArray(p[N])&&ae(i,"nested arrays are not supported inside keys"),typeof p=="object"&&hs(p[N])==="[object Object]"&&(p[N]="[object Object]");if(typeof p=="object"&&hs(p)==="[object Object]"&&(p="[object Object]"),p=String(p),a===null&&(a={}),v==="tag:yaml.org,2002:merge")if(Array.isArray(x))for(N=0,B=x.length;N<B;N+=1)vs(i,a,x[N],f);else vs(i,a,x,f);else!i.json&&!Cr.call(f,p)&&Cr.call(a,p)&&(i.line=y||i.line,i.lineStart=S||i.lineStart,i.position=L||i.position,ae(i,"duplicated mapping key")),p==="__proto__"?Object.defineProperty(a,p,{configurable:!0,enumerable:!0,writable:!0,value:x}):a[p]=x,delete f[p];return a}function ll(i){var a;a=i.input.charCodeAt(i.position),a===10?i.position++:a===13?(i.position++,i.input.charCodeAt(i.position)===10&&i.position++):ae(i,"a line break is expected"),i.line+=1,i.lineStart=i.position,i.firstTabInLine=-1}function Ue(i,a,f){for(var v=0,p=i.input.charCodeAt(i.position);p!==0;){for(;Pr(p);)p===9&&i.firstTabInLine===-1&&(i.firstTabInLine=i.position),p=i.input.charCodeAt(++i.position);if(a&&p===35)do p=i.input.charCodeAt(++i.position);while(p!==10&&p!==13&&p!==0);if(Kt(p))for(ll(i),p=i.input.charCodeAt(i.position),v++,i.lineIndent=0;p===32;)i.lineIndent++,p=i.input.charCodeAt(++i.position);else break}return f!==-1&&v!==0&&i.lineIndent<f&&Ki(i,"deficient indentation"),v}function Xi(i){var a=i.position,f;return f=i.input.charCodeAt(a),!!((f===45||f===46)&&f===i.input.charCodeAt(a+1)&&f===i.input.charCodeAt(a+2)&&(a+=3,f=i.input.charCodeAt(a),f===0||bt(f)))}function al(i,a){a===1?i.result+=" ":a>1&&(i.result+=Qe.repeat(`
`,a-1))}function Ph(i,a,f){var v,p,x,y,S,L,N,B,_=i.kind,I=i.result,U;if(U=i.input.charCodeAt(i.position),bt(U)||yn(U)||U===35||U===38||U===42||U===33||U===124||U===62||U===39||U===34||U===37||U===64||U===96||(U===63||U===45)&&(p=i.input.charCodeAt(i.position+1),bt(p)||f&&yn(p)))return!1;for(i.kind="scalar",i.result="",x=y=i.position,S=!1;U!==0;){if(U===58){if(p=i.input.charCodeAt(i.position+1),bt(p)||f&&yn(p))break}else if(U===35){if(v=i.input.charCodeAt(i.position-1),bt(v))break}else{if(i.position===i.lineStart&&Xi(i)||f&&yn(U))break;if(Kt(U))if(L=i.line,N=i.lineStart,B=i.lineIndent,Ue(i,!1,-1),i.lineIndent>=a){S=!0,U=i.input.charCodeAt(i.position);continue}else{i.position=y,i.line=L,i.lineStart=N,i.lineIndent=B;break}}S&&(wr(i,x,y,!1),al(i,i.line-L),x=y=i.position,S=!1),Pr(U)||(y=i.position+1),U=i.input.charCodeAt(++i.position)}return wr(i,x,y,!1),i.result?!0:(i.kind=_,i.result=I,!1)}function _h(i,a){var f,v,p;if(f=i.input.charCodeAt(i.position),f!==39)return!1;for(i.kind="scalar",i.result="",i.position++,v=p=i.position;(f=i.input.charCodeAt(i.position))!==0;)if(f===39)if(wr(i,v,i.position,!0),f=i.input.charCodeAt(++i.position),f===39)v=i.position,i.position++,p=i.position;else return!0;else Kt(f)?(wr(i,v,p,!0),al(i,Ue(i,!1,a)),v=p=i.position):i.position===i.lineStart&&Xi(i)?ae(i,"unexpected end of the document within a single quoted scalar"):(i.position++,p=i.position);ae(i,"unexpected end of the stream within a single quoted scalar")}function Rh(i,a){var f,v,p,x,y,S;if(S=i.input.charCodeAt(i.position),S!==34)return!1;for(i.kind="scalar",i.result="",i.position++,f=v=i.position;(S=i.input.charCodeAt(i.position))!==0;){if(S===34)return wr(i,f,i.position,!0),i.position++,!0;if(S===92){if(wr(i,f,i.position,!0),S=i.input.charCodeAt(++i.position),Kt(S))Ue(i,!1,a);else if(S<256&&ou[S])i.result+=lu[S],i.position++;else if((y=Fh(S))>0){for(p=y,x=0;p>0;p--)S=i.input.charCodeAt(++i.position),(y=Dh(S))>=0?x=(x<<4)+y:ae(i,"expected hexadecimal character");i.result+=Hh(x),i.position++}else ae(i,"unknown escape sequence");f=v=i.position}else Kt(S)?(wr(i,f,v,!0),al(i,Ue(i,!1,a)),f=v=i.position):i.position===i.lineStart&&Xi(i)?ae(i,"unexpected end of the document within a double quoted scalar"):(i.position++,v=i.position)}ae(i,"unexpected end of the stream within a double quoted scalar")}function zh(i,a){var f=!0,v,p,x,y=i.tag,S,L=i.anchor,N,B,_,I,U,K=Object.create(null),fe,se,H,M;if(M=i.input.charCodeAt(i.position),M===91)B=93,U=!1,S=[];else if(M===123)B=125,U=!0,S={};else return!1;for(i.anchor!==null&&(i.anchorMap[i.anchor]=S),M=i.input.charCodeAt(++i.position);M!==0;){if(Ue(i,!0,a),M=i.input.charCodeAt(i.position),M===B)return i.position++,i.tag=y,i.anchor=L,i.kind=U?"mapping":"sequence",i.result=S,!0;f?M===44&&ae(i,"expected the node content, but found ','"):ae(i,"missed comma between flow collection entries"),se=fe=H=null,_=I=!1,M===63&&(N=i.input.charCodeAt(i.position+1),bt(N)&&(_=I=!0,i.position++,Ue(i,!0,a))),v=i.line,p=i.lineStart,x=i.position,bn(i,a,Yi,!1,!0),se=i.tag,fe=i.result,Ue(i,!0,a),M=i.input.charCodeAt(i.position),(I||i.line===v)&&M===58&&(_=!0,M=i.input.charCodeAt(++i.position),Ue(i,!0,a),bn(i,a,Yi,!1,!0),H=i.result),U?mn(i,S,K,se,fe,H,v,p,x):_?S.push(mn(i,null,K,se,fe,H,v,p,x)):S.push(fe),Ue(i,!0,a),M=i.input.charCodeAt(i.position),M===44?(f=!0,M=i.input.charCodeAt(++i.position)):f=!1}ae(i,"unexpected end of the stream within a flow collection")}function Uh(i,a){var f,v,p=Zo,x=!1,y=!1,S=a,L=0,N=!1,B,_;if(_=i.input.charCodeAt(i.position),_===124)v=!1;else if(_===62)v=!0;else return!1;for(i.kind="scalar",i.result="";_!==0;)if(_=i.input.charCodeAt(++i.position),_===43||_===45)Zo===p?p=_===43?cs:Mh:ae(i,"repeat of a chomping mode identifier");else if((B=Bh(_))>=0)B===0?ae(i,"bad explicit indentation width of a block scalar; it cannot be less than one"):y?ae(i,"repeat of an indentation width identifier"):(S=a+B-1,y=!0);else break;if(Pr(_)){do _=i.input.charCodeAt(++i.position);while(Pr(_));if(_===35)do _=i.input.charCodeAt(++i.position);while(!Kt(_)&&_!==0)}for(;_!==0;){for(ll(i),i.lineIndent=0,_=i.input.charCodeAt(i.position);(!y||i.lineIndent<S)&&_===32;)i.lineIndent++,_=i.input.charCodeAt(++i.position);if(!y&&i.lineIndent>S&&(S=i.lineIndent),Kt(_)){L++;continue}if(i.lineIndent<S){p===cs?i.result+=Qe.repeat(`
`,x?1+L:L):p===Zo&&x&&(i.result+=`
`);break}for(v?Pr(_)?(N=!0,i.result+=Qe.repeat(`
`,x?1+L:L)):N?(N=!1,i.result+=Qe.repeat(`
`,L+1)):L===0?x&&(i.result+=" "):i.result+=Qe.repeat(`
`,L):i.result+=Qe.repeat(`
`,x?1+L:L),x=!0,y=!0,L=0,f=i.position;!Kt(_)&&_!==0;)_=i.input.charCodeAt(++i.position);wr(i,f,i.position,!1)}return!0}function gs(i,a){var f,v=i.tag,p=i.anchor,x=[],y,S=!1,L;if(i.firstTabInLine!==-1)return!1;for(i.anchor!==null&&(i.anchorMap[i.anchor]=x),L=i.input.charCodeAt(i.position);L!==0&&(i.firstTabInLine!==-1&&(i.position=i.firstTabInLine,ae(i,"tab characters must not be used in indentation")),!(L!==45||(y=i.input.charCodeAt(i.position+1),!bt(y))));){if(S=!0,i.position++,Ue(i,!0,-1)&&i.lineIndent<=a){x.push(null),L=i.input.charCodeAt(i.position);continue}if(f=i.line,bn(i,a,ru,!1,!0),x.push(i.result),Ue(i,!0,-1),L=i.input.charCodeAt(i.position),(i.line===f||i.lineIndent>a)&&L!==0)ae(i,"bad indentation of a sequence entry");else if(i.lineIndent<a)break}return S?(i.tag=v,i.anchor=p,i.kind="sequence",i.result=x,!0):!1}function Yh(i,a,f){var v,p,x,y,S,L,N=i.tag,B=i.anchor,_={},I=Object.create(null),U=null,K=null,fe=null,se=!1,H=!1,M;if(i.firstTabInLine!==-1)return!1;for(i.anchor!==null&&(i.anchorMap[i.anchor]=_),M=i.input.charCodeAt(i.position);M!==0;){if(!se&&i.firstTabInLine!==-1&&(i.position=i.firstTabInLine,ae(i,"tab characters must not be used in indentation")),v=i.input.charCodeAt(i.position+1),x=i.line,(M===63||M===58)&&bt(v))M===63?(se&&(mn(i,_,I,U,K,null,y,S,L),U=K=fe=null),H=!0,se=!0,p=!0):se?(se=!1,p=!0):ae(i,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),i.position+=1,M=v;else{if(y=i.line,S=i.lineStart,L=i.position,!bn(i,f,tu,!1,!0))break;if(i.line===x){for(M=i.input.charCodeAt(i.position);Pr(M);)M=i.input.charCodeAt(++i.position);if(M===58)M=i.input.charCodeAt(++i.position),bt(M)||ae(i,"a whitespace character is expected after the key-value separator within a block mapping"),se&&(mn(i,_,I,U,K,null,y,S,L),U=K=fe=null),H=!0,se=!1,p=!1,U=i.tag,K=i.result;else if(H)ae(i,"can not read an implicit mapping pair; a colon is missed");else return i.tag=N,i.anchor=B,!0}else if(H)ae(i,"can not read a block mapping entry; a multiline key may not be an implicit key");else return i.tag=N,i.anchor=B,!0}if((i.line===x||i.lineIndent>a)&&(se&&(y=i.line,S=i.lineStart,L=i.position),bn(i,a,Gi,!0,p)&&(se?K=i.result:fe=i.result),se||(mn(i,_,I,U,K,fe,y,S,L),U=K=fe=null),Ue(i,!0,-1),M=i.input.charCodeAt(i.position)),(i.line===x||i.lineIndent>a)&&M!==0)ae(i,"bad indentation of a mapping entry");else if(i.lineIndent<a)break}return se&&mn(i,_,I,U,K,null,y,S,L),H&&(i.tag=N,i.anchor=B,i.kind="mapping",i.result=_),H}function Gh(i){var a,f=!1,v=!1,p,x,y;if(y=i.input.charCodeAt(i.position),y!==33)return!1;if(i.tag!==null&&ae(i,"duplication of a tag property"),y=i.input.charCodeAt(++i.position),y===60?(f=!0,y=i.input.charCodeAt(++i.position)):y===33?(v=!0,p="!!",y=i.input.charCodeAt(++i.position)):p="!",a=i.position,f){do y=i.input.charCodeAt(++i.position);while(y!==0&&y!==62);i.position<i.length?(x=i.input.slice(a,i.position),y=i.input.charCodeAt(++i.position)):ae(i,"unexpected end of the stream within a verbatim tag")}else{for(;y!==0&&!bt(y);)y===33&&(v?ae(i,"tag suffix cannot contain exclamation marks"):(p=i.input.slice(a-1,i.position+1),nu.test(p)||ae(i,"named tag handle cannot contain such characters"),v=!0,a=i.position+1)),y=i.input.charCodeAt(++i.position);x=i.input.slice(a,i.position),Ih.test(x)&&ae(i,"tag suffix cannot contain flow indicator characters")}x&&!iu.test(x)&&ae(i,"tag name cannot contain such characters: "+x);try{x=decodeURIComponent(x)}catch{ae(i,"tag name is malformed: "+x)}return f?i.tag=x:Cr.call(i.tagMap,p)?i.tag=i.tagMap[p]+x:p==="!"?i.tag="!"+x:p==="!!"?i.tag="tag:yaml.org,2002:"+x:ae(i,'undeclared tag handle "'+p+'"'),!0}function Kh(i){var a,f;if(f=i.input.charCodeAt(i.position),f!==38)return!1;for(i.anchor!==null&&ae(i,"duplication of an anchor property"),f=i.input.charCodeAt(++i.position),a=i.position;f!==0&&!bt(f)&&!yn(f);)f=i.input.charCodeAt(++i.position);return i.position===a&&ae(i,"name of an anchor node must contain at least one character"),i.anchor=i.input.slice(a,i.position),!0}function jh(i){var a,f,v;if(v=i.input.charCodeAt(i.position),v!==42)return!1;for(v=i.input.charCodeAt(++i.position),a=i.position;v!==0&&!bt(v)&&!yn(v);)v=i.input.charCodeAt(++i.position);return i.position===a&&ae(i,"name of an alias node must contain at least one character"),f=i.input.slice(a,i.position),Cr.call(i.anchorMap,f)||ae(i,'unidentified alias "'+f+'"'),i.result=i.anchorMap[f],Ue(i,!0,-1),!0}function bn(i,a,f,v,p){var x,y,S,L=1,N=!1,B=!1,_,I,U,K,fe,se;if(i.listener!==null&&i.listener("open",i),i.tag=null,i.anchor=null,i.kind=null,i.result=null,x=y=S=Gi===f||ru===f,v&&Ue(i,!0,-1)&&(N=!0,i.lineIndent>a?L=1:i.lineIndent===a?L=0:i.lineIndent<a&&(L=-1)),L===1)for(;Gh(i)||Kh(i);)Ue(i,!0,-1)?(N=!0,S=x,i.lineIndent>a?L=1:i.lineIndent===a?L=0:i.lineIndent<a&&(L=-1)):S=!1;if(S&&(S=N||p),(L===1||Gi===f)&&(Yi===f||tu===f?fe=a:fe=a+1,se=i.position-i.lineStart,L===1?S&&(gs(i,se)||Yh(i,se,fe))||zh(i,fe)?B=!0:(y&&Uh(i,fe)||_h(i,fe)||Rh(i,fe)?B=!0:jh(i)?(B=!0,(i.tag!==null||i.anchor!==null)&&ae(i,"alias node should not have any properties")):Ph(i,fe,Yi===f)&&(B=!0,i.tag===null&&(i.tag="?")),i.anchor!==null&&(i.anchorMap[i.anchor]=i.result)):L===0&&(B=S&&gs(i,se))),i.tag===null)i.anchor!==null&&(i.anchorMap[i.anchor]=i.result);else if(i.tag==="?"){for(i.result!==null&&i.kind!=="scalar"&&ae(i,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+i.kind+'"'),_=0,I=i.implicitTypes.length;_<I;_+=1)if(K=i.implicitTypes[_],K.resolve(i.result)){i.result=K.construct(i.result),i.tag=K.tag,i.anchor!==null&&(i.anchorMap[i.anchor]=i.result);break}}else if(i.tag!=="!"){if(Cr.call(i.typeMap[i.kind||"fallback"],i.tag))K=i.typeMap[i.kind||"fallback"][i.tag];else for(K=null,U=i.typeMap.multi[i.kind||"fallback"],_=0,I=U.length;_<I;_+=1)if(i.tag.slice(0,U[_].tag.length)===U[_].tag){K=U[_];break}K||ae(i,"unknown tag !<"+i.tag+">"),i.result!==null&&K.kind!==i.kind&&ae(i,"unacceptable node kind for !<"+i.tag+'> tag; it should be "'+K.kind+'", not "'+i.kind+'"'),K.resolve(i.result,i.tag)?(i.result=K.construct(i.result,i.tag),i.anchor!==null&&(i.anchorMap[i.anchor]=i.result)):ae(i,"cannot resolve a node with !<"+i.tag+"> explicit tag")}return i.listener!==null&&i.listener("close",i),i.tag!==null||i.anchor!==null||B}function qh(i){var a=i.position,f,v,p,x=!1,y;for(i.version=null,i.checkLineBreaks=i.legacy,i.tagMap=Object.create(null),i.anchorMap=Object.create(null);(y=i.input.charCodeAt(i.position))!==0&&(Ue(i,!0,-1),y=i.input.charCodeAt(i.position),!(i.lineIndent>0||y!==37));){for(x=!0,y=i.input.charCodeAt(++i.position),f=i.position;y!==0&&!bt(y);)y=i.input.charCodeAt(++i.position);for(v=i.input.slice(f,i.position),p=[],v.length<1&&ae(i,"directive name must not be less than one character in length");y!==0;){for(;Pr(y);)y=i.input.charCodeAt(++i.position);if(y===35){do y=i.input.charCodeAt(++i.position);while(y!==0&&!Kt(y));break}if(Kt(y))break;for(f=i.position;y!==0&&!bt(y);)y=i.input.charCodeAt(++i.position);p.push(i.input.slice(f,i.position))}y!==0&&ll(i),Cr.call(ps,v)?ps[v](i,v,p):Ki(i,'unknown document directive "'+v+'"')}if(Ue(i,!0,-1),i.lineIndent===0&&i.input.charCodeAt(i.position)===45&&i.input.charCodeAt(i.position+1)===45&&i.input.charCodeAt(i.position+2)===45?(i.position+=3,Ue(i,!0,-1)):x&&ae(i,"directives end mark is expected"),bn(i,i.lineIndent-1,Gi,!1,!0),Ue(i,!0,-1),i.checkLineBreaks&&Nh.test(i.input.slice(a,i.position))&&Ki(i,"non-ASCII line breaks are interpreted as content"),i.documents.push(i.result),i.position===i.lineStart&&Xi(i)){i.input.charCodeAt(i.position)===46&&(i.position+=3,Ue(i,!0,-1));return}if(i.position<i.length-1)ae(i,"end of the stream or a document separator is expected");else return}function su(i,a){i=String(i),a=a||{},i.length!==0&&(i.charCodeAt(i.length-1)!==10&&i.charCodeAt(i.length-1)!==13&&(i+=`
`),i.charCodeAt(0)===65279&&(i=i.slice(1)));var f=new Wh(i,a),v=i.indexOf("\0");for(v!==-1&&(f.position=v,ae(f,"null byte is not allowed in input")),f.input+="\0";f.input.charCodeAt(f.position)===32;)f.lineIndent+=1,f.position+=1;for(;f.position<f.length-1;)qh(f);return f.documents}function Xh(i,a,f){a!==null&&typeof a=="object"&&typeof f>"u"&&(f=a,a=null);var v=su(i,f);if(typeof a!="function")return v;for(var p=0,x=v.length;p<x;p+=1)a(v[p])}function Jh(i,a){var f=su(i,a);if(f.length!==0){if(f.length===1)return f[0];throw new vt("expected a single document in the stream, but found more")}}var Qh=Xh,Zh=Jh,uu={loadAll:Qh,load:Zh},fu=Object.prototype.toString,cu=Object.prototype.hasOwnProperty,sl=65279,Vh=9,ri=10,$h=13,ed=32,td=33,rd=34,$o=35,nd=37,id=38,od=39,ld=42,hu=44,ad=45,ji=58,sd=61,ud=62,fd=63,cd=64,du=91,pu=93,hd=96,vu=123,dd=124,gu=125,lt={};lt[0]="\\0";lt[7]="\\a";lt[8]="\\b";lt[9]="\\t";lt[10]="\\n";lt[11]="\\v";lt[12]="\\f";lt[13]="\\r";lt[27]="\\e";lt[34]='\\"';lt[92]="\\\\";lt[133]="\\N";lt[160]="\\_";lt[8232]="\\L";lt[8233]="\\P";var pd=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],vd=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function gd(i,a){var f,v,p,x,y,S,L;if(a===null)return{};for(f={},v=Object.keys(a),p=0,x=v.length;p<x;p+=1)y=v[p],S=String(a[y]),y.slice(0,2)==="!!"&&(y="tag:yaml.org,2002:"+y.slice(2)),L=i.compiledTypeMap.fallback[y],L&&cu.call(L.styleAliases,S)&&(S=L.styleAliases[S]),f[y]=S;return f}function yd(i){var a,f,v;if(a=i.toString(16).toUpperCase(),i<=255)f="x",v=2;else if(i<=65535)f="u",v=4;else if(i<=4294967295)f="U",v=8;else throw new vt("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+f+Qe.repeat("0",v-a.length)+a}var md=1,ni=2;function bd(i){this.schema=i.schema||ol,this.indent=Math.max(1,i.indent||2),this.noArrayIndent=i.noArrayIndent||!1,this.skipInvalid=i.skipInvalid||!1,this.flowLevel=Qe.isNothing(i.flowLevel)?-1:i.flowLevel,this.styleMap=gd(this.schema,i.styles||null),this.sortKeys=i.sortKeys||!1,this.lineWidth=i.lineWidth||80,this.noRefs=i.noRefs||!1,this.noCompatMode=i.noCompatMode||!1,this.condenseFlow=i.condenseFlow||!1,this.quotingType=i.quotingType==='"'?ni:md,this.forceQuotes=i.forceQuotes||!1,this.replacer=typeof i.replacer=="function"?i.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function ys(i,a){for(var f=Qe.repeat(" ",a),v=0,p=-1,x="",y,S=i.length;v<S;)p=i.indexOf(`
`,v),p===-1?(y=i.slice(v),v=S):(y=i.slice(v,p+1),v=p+1),y.length&&y!==`
`&&(x+=f),x+=y;return x}function el(i,a){return`
`+Qe.repeat(" ",i.indent*a)}function xd(i,a){var f,v,p;for(f=0,v=i.implicitTypes.length;f<v;f+=1)if(p=i.implicitTypes[f],p.resolve(a))return!0;return!1}function qi(i){return i===ed||i===Vh}function ii(i){return 32<=i&&i<=126||161<=i&&i<=55295&&i!==8232&&i!==8233||57344<=i&&i<=65533&&i!==sl||65536<=i&&i<=1114111}function ms(i){return ii(i)&&i!==sl&&i!==$h&&i!==ri}function bs(i,a,f){var v=ms(i),p=v&&!qi(i);return(f?v:v&&i!==hu&&i!==du&&i!==pu&&i!==vu&&i!==gu)&&i!==$o&&!(a===ji&&!p)||ms(a)&&!qi(a)&&i===$o||a===ji&&p}function wd(i){return ii(i)&&i!==sl&&!qi(i)&&i!==ad&&i!==fd&&i!==ji&&i!==hu&&i!==du&&i!==pu&&i!==vu&&i!==gu&&i!==$o&&i!==id&&i!==ld&&i!==td&&i!==dd&&i!==sd&&i!==ud&&i!==od&&i!==rd&&i!==nd&&i!==cd&&i!==hd}function Cd(i){return!qi(i)&&i!==ji}function ei(i,a){var f=i.charCodeAt(a),v;return f>=55296&&f<=56319&&a+1<i.length&&(v=i.charCodeAt(a+1),v>=56320&&v<=57343)?(f-55296)*1024+v-56320+65536:f}function yu(i){var a=/^\n* /;return a.test(i)}var mu=1,tl=2,bu=3,xu=4,gn=5;function Sd(i,a,f,v,p,x,y,S){var L,N=0,B=null,_=!1,I=!1,U=v!==-1,K=-1,fe=wd(ei(i,0))&&Cd(ei(i,i.length-1));if(a||y)for(L=0;L<i.length;N>=65536?L+=2:L++){if(N=ei(i,L),!ii(N))return gn;fe=fe&&bs(N,B,S),B=N}else{for(L=0;L<i.length;N>=65536?L+=2:L++){if(N=ei(i,L),N===ri)_=!0,U&&(I=I||L-K-1>v&&i[K+1]!==" ",K=L);else if(!ii(N))return gn;fe=fe&&bs(N,B,S),B=N}I=I||U&&L-K-1>v&&i[K+1]!==" "}return!_&&!I?fe&&!y&&!p(i)?mu:x===ni?gn:tl:f>9&&yu(i)?gn:y?x===ni?gn:tl:I?xu:bu}function kd(i,a,f,v,p){i.dump=function(){if(a.length===0)return i.quotingType===ni?'""':"''";if(!i.noCompatMode&&(pd.indexOf(a)!==-1||vd.test(a)))return i.quotingType===ni?'"'+a+'"':"'"+a+"'";var x=i.indent*Math.max(1,f),y=i.lineWidth===-1?-1:Math.max(Math.min(i.lineWidth,40),i.lineWidth-x),S=v||i.flowLevel>-1&&f>=i.flowLevel;function L(N){return xd(i,N)}switch(Sd(a,S,i.indent,y,L,i.quotingType,i.forceQuotes&&!v,p)){case mu:return a;case tl:return"'"+a.replace(/'/g,"''")+"'";case bu:return"|"+xs(a,i.indent)+ws(ys(a,x));case xu:return">"+xs(a,i.indent)+ws(ys(Ld(a,y),x));case gn:return'"'+Td(a)+'"';default:throw new vt("impossible error: invalid scalar style")}}()}function xs(i,a){var f=yu(i)?String(a):"",v=i[i.length-1]===`
`,p=v&&(i[i.length-2]===`
`||i===`
`),x=p?"+":v?"":"-";return f+x+`
`}function ws(i){return i[i.length-1]===`
`?i.slice(0,-1):i}function Ld(i,a){for(var f=/(\n+)([^\n]*)/g,v=function(){var N=i.indexOf(`
`);return N=N!==-1?N:i.length,f.lastIndex=N,Cs(i.slice(0,N),a)}(),p=i[0]===`
`||i[0]===" ",x,y;y=f.exec(i);){var S=y[1],L=y[2];x=L[0]===" ",v+=S+(!p&&!x&&L!==""?`
`:"")+Cs(L,a),p=x}return v}function Cs(i,a){if(i===""||i[0]===" ")return i;for(var f=/ [^ ]/g,v,p=0,x,y=0,S=0,L="";v=f.exec(i);)S=v.index,S-p>a&&(x=y>p?y:S,L+=`
`+i.slice(p,x),p=x+1),y=S;return L+=`
`,i.length-p>a&&y>p?L+=i.slice(p,y)+`
`+i.slice(y+1):L+=i.slice(p),L.slice(1)}function Td(i){for(var a="",f=0,v,p=0;p<i.length;f>=65536?p+=2:p++)f=ei(i,p),v=lt[f],!v&&ii(f)?(a+=i[p],f>=65536&&(a+=i[p+1])):a+=v||yd(f);return a}function Ad(i,a,f){var v="",p=i.tag,x,y,S;for(x=0,y=f.length;x<y;x+=1)S=f[x],i.replacer&&(S=i.replacer.call(f,String(x),S)),(nr(i,a,S,!1,!1)||typeof S>"u"&&nr(i,a,null,!1,!1))&&(v!==""&&(v+=","+(i.condenseFlow?"":" ")),v+=i.dump);i.tag=p,i.dump="["+v+"]"}function Ss(i,a,f,v){var p="",x=i.tag,y,S,L;for(y=0,S=f.length;y<S;y+=1)L=f[y],i.replacer&&(L=i.replacer.call(f,String(y),L)),(nr(i,a+1,L,!0,!0,!1,!0)||typeof L>"u"&&nr(i,a+1,null,!0,!0,!1,!0))&&((!v||p!=="")&&(p+=el(i,a)),i.dump&&ri===i.dump.charCodeAt(0)?p+="-":p+="- ",p+=i.dump);i.tag=x,i.dump=p||"[]"}function Ed(i,a,f){var v="",p=i.tag,x=Object.keys(f),y,S,L,N,B;for(y=0,S=x.length;y<S;y+=1)B="",v!==""&&(B+=", "),i.condenseFlow&&(B+='"'),L=x[y],N=f[L],i.replacer&&(N=i.replacer.call(f,L,N)),nr(i,a,L,!1,!1)&&(i.dump.length>1024&&(B+="? "),B+=i.dump+(i.condenseFlow?'"':"")+":"+(i.condenseFlow?"":" "),nr(i,a,N,!1,!1)&&(B+=i.dump,v+=B));i.tag=p,i.dump="{"+v+"}"}function Md(i,a,f,v){var p="",x=i.tag,y=Object.keys(f),S,L,N,B,_,I;if(i.sortKeys===!0)y.sort();else if(typeof i.sortKeys=="function")y.sort(i.sortKeys);else if(i.sortKeys)throw new vt("sortKeys must be a boolean or a function");for(S=0,L=y.length;S<L;S+=1)I="",(!v||p!=="")&&(I+=el(i,a)),N=y[S],B=f[N],i.replacer&&(B=i.replacer.call(f,N,B)),nr(i,a+1,N,!0,!0,!0)&&(_=i.tag!==null&&i.tag!=="?"||i.dump&&i.dump.length>1024,_&&(i.dump&&ri===i.dump.charCodeAt(0)?I+="?":I+="? "),I+=i.dump,_&&(I+=el(i,a)),nr(i,a+1,B,!0,_)&&(i.dump&&ri===i.dump.charCodeAt(0)?I+=":":I+=": ",I+=i.dump,p+=I));i.tag=x,i.dump=p||"{}"}function ks(i,a,f){var v,p,x,y,S,L;for(p=f?i.explicitTypes:i.implicitTypes,x=0,y=p.length;x<y;x+=1)if(S=p[x],(S.instanceOf||S.predicate)&&(!S.instanceOf||typeof a=="object"&&a instanceof S.instanceOf)&&(!S.predicate||S.predicate(a))){if(f?S.multi&&S.representName?i.tag=S.representName(a):i.tag=S.tag:i.tag="?",S.represent){if(L=i.styleMap[S.tag]||S.defaultStyle,fu.call(S.represent)==="[object Function]")v=S.represent(a,L);else if(cu.call(S.represent,L))v=S.represent[L](a,L);else throw new vt("!<"+S.tag+'> tag resolver accepts not "'+L+'" style');i.dump=v}return!0}return!1}function nr(i,a,f,v,p,x,y){i.tag=null,i.dump=f,ks(i,f,!1)||ks(i,f,!0);var S=fu.call(i.dump),L=v,N;v&&(v=i.flowLevel<0||i.flowLevel>a);var B=S==="[object Object]"||S==="[object Array]",_,I;if(B&&(_=i.duplicates.indexOf(f),I=_!==-1),(i.tag!==null&&i.tag!=="?"||I||i.indent!==2&&a>0)&&(p=!1),I&&i.usedDuplicates[_])i.dump="*ref_"+_;else{if(B&&I&&!i.usedDuplicates[_]&&(i.usedDuplicates[_]=!0),S==="[object Object]")v&&Object.keys(i.dump).length!==0?(Md(i,a,i.dump,p),I&&(i.dump="&ref_"+_+i.dump)):(Ed(i,a,i.dump),I&&(i.dump="&ref_"+_+" "+i.dump));else if(S==="[object Array]")v&&i.dump.length!==0?(i.noArrayIndent&&!y&&a>0?Ss(i,a-1,i.dump,p):Ss(i,a,i.dump,p),I&&(i.dump="&ref_"+_+i.dump)):(Ad(i,a,i.dump),I&&(i.dump="&ref_"+_+" "+i.dump));else if(S==="[object String]")i.tag!=="?"&&kd(i,i.dump,a,x,L);else{if(S==="[object Undefined]")return!1;if(i.skipInvalid)return!1;throw new vt("unacceptable kind of an object to dump "+S)}i.tag!==null&&i.tag!=="?"&&(N=encodeURI(i.tag[0]==="!"?i.tag.slice(1):i.tag).replace(/!/g,"%21"),i.tag[0]==="!"?N="!"+N:N.slice(0,18)==="tag:yaml.org,2002:"?N="!!"+N.slice(18):N="!<"+N+">",i.dump=N+" "+i.dump)}return!0}function Od(i,a){var f=[],v=[],p,x;for(rl(i,f,v),p=0,x=v.length;p<x;p+=1)a.duplicates.push(f[v[p]]);a.usedDuplicates=new Array(x)}function rl(i,a,f){var v,p,x;if(i!==null&&typeof i=="object")if(p=a.indexOf(i),p!==-1)f.indexOf(p)===-1&&f.push(p);else if(a.push(i),Array.isArray(i))for(p=0,x=i.length;p<x;p+=1)rl(i[p],a,f);else for(v=Object.keys(i),p=0,x=v.length;p<x;p+=1)rl(i[v[p]],a,f)}function Nd(i,a){a=a||{};var f=new bd(a);f.noRefs||Od(i,f);var v=i;return f.replacer&&(v=f.replacer.call({"":v},"",v)),nr(f,0,v,!0,!0)?f.dump+`
`:""}var Id=Nd,Dd={dump:Id};function ul(i,a){return function(){throw new Error("Function yaml."+i+" is removed in js-yaml 4. Use yaml."+a+" instead, which is now safe by default.")}}var Fd=rt,Bd=Hs,Hd=Rs,Wd=Ks,Pd=js,_d=ol,Rd=uu.load,zd=uu.loadAll,Ud=Dd.dump,Yd=vt,Gd={binary:Zs,float:Gs,map:_s,null:zs,pairs:$s,set:eu,timestamp:Js,bool:Us,int:Ys,merge:Qs,omap:Vs,seq:Ps,str:Ws},Kd=ul("safeLoad","load"),jd=ul("safeLoadAll","loadAll"),qd=ul("safeDump","dump"),Xd={Type:Fd,Schema:Bd,FAILSAFE_SCHEMA:Hd,JSON_SCHEMA:Wd,CORE_SCHEMA:Pd,DEFAULT_SCHEMA:_d,load:Rd,loadAll:zd,dump:Ud,YAMLException:Yd,types:Gd,safeLoad:Kd,safeLoadAll:jd,safeDump:qd};class vn extends Error{constructor(a,f){super(`${a} at position ${f}`),this.position=f}}const wu=32,Jd=10,Cu=9,Su=13,Qd=160,Zd=8192,Vd=8202,$d=8239,ep=8287,tp=12288;function rp(i){return/^[0-9A-Fa-f]$/.test(i)}function Hr(i){return i>="0"&&i<="9"}function np(i){return i>=" "}function zi(i){return`,:[]/{}()
+`.includes(i)}function Ls(i){return i>="a"&&i<="z"||i>="A"&&i<="Z"||i==="_"||i==="$"}function Ts(i){return i>="a"&&i<="z"||i>="A"&&i<="Z"||i==="_"||i==="$"||i>="0"&&i<="9"}const As=/^(http|https|ftp|mailto|file|data|irc):\/\/$/,Es=/^[A-Za-z0-9-._~:/?#@!$&'()*+;=]$/;function Ms(i){return`,[]/{}
+`.includes(i)}function Os(i){return Ui(i)||ip.test(i)}const ip=/^[[{\w-]$/;function op(i){return i===`
`||i==="\r"||i==="	"||i==="\b"||i==="\f"}function Wr(i,a){const f=i.charCodeAt(a);return f===wu||f===Jd||f===Cu||f===Su}function lp(i,a){const f=i.charCodeAt(a);return f===wu||f===Cu||f===Su}function ap(i,a){const f=i.charCodeAt(a);return f===Qd||f>=Zd&&f<=Vd||f===$d||f===ep||f===tp}function Ui(i){return ku(i)||nl(i)}function ku(i){return i==='"'||i==="“"||i==="”"}function Ns(i){return i==='"'}function nl(i){return i==="'"||i==="‘"||i==="’"||i==="`"||i==="´"}function Is(i){return i==="'"}function $n(i,a){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const v=i.lastIndexOf(a);return v!==-1?i.substring(0,v)+(f?"":i.substring(v+1)):i}function Bt(i,a){let f=i.length;if(!Wr(i,f-1))return i+a;for(;Wr(i,f-1);)f--;return i.substring(0,f)+a+i.substring(f)}function sp(i,a,f){return i.substring(0,a)+i.substring(a+f)}function up(i){return/[,\n][ \t\r]*$/.test(i)}const fp={"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},cp={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function hp(i){let a=0,f="";N(["```","[```","{```"]),x()||W(),N(["```","```]","```}"]);const p=_(",");for(p&&y(),Os(i[a])&&up(f)?(p||(f=Bt(f,",")),H()):p&&(f=$n(f,","));i[a]==="}"||i[a]==="]";)a++,y();if(a>=i.length)return f;A();function x(){y();const j=fe()||se()||M()||oe()||ce()||D(!1)||z();return y(),j}function y(){let j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const le=a;let ue=S(j);do ue=L(),ue&&(ue=S(j));while(ue);return a>le}function S(j){const le=j?Wr:lp;let ue="";for(;;)if(le(i,a))ue+=i[a],a++;else if(ap(i,a))ue+=" ",a++;else break;return ue.length>0?(f+=ue,!0):!1}function L(){if(i[a]==="/"&&i[a+1]==="*"){for(;a<i.length&&!dp(i,a);)a++;return a+=2,!0}if(i[a]==="/"&&i[a+1]==="/"){for(;a<i.length&&i[a]!==`
`;)a++;return!0}return!1}function N(j){if(B(j)){if(Ls(i[a]))for(;a<i.length&&Ts(i[a]);)a++;return y(),!0}return!1}function B(j){for(const le of j){const ue=a+le.length;if(i.slice(a,ue)===le)return a=ue,!0}return!1}function _(j){return i[a]===j?(f+=i[a],a++,!0):!1}function I(j){return i[a]===j?(a++,!0):!1}function U(){return I("\\")}function K(){return y(),i[a]==="."&&i[a+1]==="."&&i[a+2]==="."?(a+=3,y(),I(","),!0):!1}function fe(){if(i[a]==="{"){f+="{",a++,y(),I(",")&&y();let j=!0;for(;a<i.length&&i[a]!=="}";){let le;if(j?(le=!0,j=!1):(le=_(","),le||(f=Bt(f,",")),y()),K(),!(M()||D(!0))){i[a]==="}"||i[a]==="{"||i[a]==="]"||i[a]==="["||i[a]===void 0?f=$n(f,","):w();break}y();const Ne=_(":"),at=a>=i.length;Ne||(Os(i[a])||at?f=Bt(f,":"):Me()),x()||(Ne||at?f+="null":Me())}return i[a]==="}"?(f+="}",a++):f=Bt(f,"}"),!0}return!1}function se(){if(i[a]==="["){f+="[",a++,y(),I(",")&&y();let j=!0;for(;a<i.length&&i[a]!=="]";)if(j?j=!1:_(",")||(f=Bt(f,",")),K(),!x()){f=$n(f,",");break}return i[a]==="]"?(f+="]",a++):f=Bt(f,"]"),!0}return!1}function H(){let j=!0,le=!0;for(;le;)j?j=!1:_(",")||(f=Bt(f,",")),le=x();le||(f=$n(f,",")),f=`[
${f}
]`}function M(){let j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,ue=i[a]==="\\";if(ue&&(a++,ue=!0),Ui(i[a])){const Ne=Ns(i[a])?Ns:Is(i[a])?Is:nl(i[a])?nl:ku,at=a,Ye=f.length;let we='"';for(a++;;){if(a>=i.length){const xe=V(a-1);return!j&&zi(i.charAt(xe))?(a=at,f=f.substring(0,Ye),M(!0)):(we=Bt(we,'"'),f+=we,!0)}if(a===le)return we=Bt(we,'"'),f+=we,!0;if(Ne(i[a])){const xe=a,de=we.length;if(we+='"',a++,f+=we,y(!1),j||a>=i.length||zi(i[a])||Ui(i[a])||Hr(i[a]))return te(),!0;const re=V(xe-1),ge=i.charAt(re);if(ge===",")return a=at,f=f.substring(0,Ye),M(!1,re);if(zi(ge))return a=at,f=f.substring(0,Ye),M(!0);f=f.substring(0,Ye),a=xe+1,we=`${we.substring(0,de)}\\${we.substring(de)}`}else if(j&&Ms(i[a])){if(i[a-1]===":"&&As.test(i.substring(at+1,a+2)))for(;a<i.length&&Es.test(i[a]);)we+=i[a],a++;return we=Bt(we,'"'),f+=we,te(),!0}else if(i[a]==="\\"){const xe=i.charAt(a+1);if(cp[xe]!==void 0)we+=i.slice(a,a+2),a+=2;else if(xe==="u"){let re=2;for(;re<6&&rp(i[a+re]);)re++;re===6?(we+=i.slice(a,a+6),a+=6):a+re>=i.length?a=i.length:Ae()}else we+=xe,a+=2}else{const xe=i.charAt(a);xe==='"'&&i[a-1]!=="\\"?(we+=`\\${xe}`,a++):op(xe)?(we+=fp[xe],a++):(np(xe)||he(xe),we+=xe,a++)}ue&&U()}}return!1}function te(){let j=!1;for(y();i[a]==="+";){j=!0,a++,y(),f=$n(f,'"',!0);const le=f.length;M()?f=sp(f,le,1):f=Bt(f,'"')}return j}function oe(){const j=a;if(i[a]==="-"){if(a++,J())return $(j),!0;if(!Hr(i[a]))return a=j,!1}for(;Hr(i[a]);)a++;if(i[a]==="."){if(a++,J())return $(j),!0;if(!Hr(i[a]))return a=j,!1;for(;Hr(i[a]);)a++}if(i[a]==="e"||i[a]==="E"){if(a++,(i[a]==="-"||i[a]==="+")&&a++,J())return $(j),!0;if(!Hr(i[a]))return a=j,!1;for(;Hr(i[a]);)a++}if(!J())return a=j,!1;if(a>j){const le=i.slice(j,a),ue=/^0\d/.test(le);return f+=ue?`"${le}"`:le,!0}return!1}function ce(){return ve("true","true")||ve("false","false")||ve("null","null")||ve("True","true")||ve("False","false")||ve("None","null")}function ve(j,le){return i.slice(a,a+j.length)===j?(f+=le,a+=j.length,!0):!1}function D(j){const le=a;if(Ls(i[a])){for(;a<i.length&&Ts(i[a]);)a++;let ue=a;for(;Wr(i,ue);)ue++;if(i[ue]==="(")return a=ue+1,x(),i[a]===")"&&(a++,i[a]===";"&&a++),!0}for(;a<i.length&&!Ms(i[a])&&!Ui(i[a])&&(!j||i[a]!==":");)a++;if(i[a-1]===":"&&As.test(i.substring(le,a+2)))for(;a<i.length&&Es.test(i[a]);)a++;if(a>le){for(;Wr(i,a-1)&&a>0;)a--;const ue=i.slice(le,a);return f+=ue==="undefined"?"null":JSON.stringify(ue),i[a]==='"'&&a++,!0}}function z(){if(i[a]==="/"){const j=a;for(a++;a<i.length&&(i[a]!=="/"||i[a-1]==="\\");)a++;return a++,f+=`"${i.substring(j,a)}"`,!0}}function V(j){let le=j;for(;le>0&&Wr(i,le);)le--;return le}function J(){return a>=i.length||zi(i[a])||Wr(i,a)}function $(j){f+=`${i.slice(j,a)}0`}function he(j){throw new vn(`Invalid character ${JSON.stringify(j)}`,a)}function A(){throw new vn(`Unexpected character ${JSON.stringify(i[a])}`,a)}function W(){throw new vn("Unexpected end of json string",i.length)}function w(){throw new vn("Object key expected",a)}function Me(){throw new vn("Colon expected",a)}function Ae(){const j=i.slice(a,a+6);throw new vn(`Invalid unicode character "${j}"`,a)}}function dp(i,a){return i[a]==="*"&&i[a+1]==="/"}class pp{constructor(){this.sidebar=document.querySelector(".sidebar"),this.mobileToggle=document.querySelector(".mobile-toggle"),this.navItems=document.querySelectorAll(".nav-item"),this.currentToolId=null,this.init()}init(){this.mobileToggle.addEventListener("click",()=>this.toggleMobileSidebar()),this.navItems.forEach(a=>{a.addEventListener("click",()=>{const f=a.dataset.tool;this.setActiveTool(f),window.innerWidth<=640&&this.closeMobileSidebar()})}),document.addEventListener("click",a=>{window.innerWidth<=640&&!this.sidebar.contains(a.target)&&!this.mobileToggle.contains(a.target)&&this.sidebar.classList.contains("expanded")&&this.closeMobileSidebar()}),window.addEventListener("resize",()=>{window.innerWidth>640&&this.sidebar.classList.remove("expanded")})}toggleMobileSidebar(){this.sidebar.classList.toggle("expanded")}closeMobileSidebar(){this.sidebar.classList.remove("expanded")}setActiveTool(a){if(this.currentToolId===a)return;this.navItems.forEach(v=>{v.classList.toggle("active",v.dataset.tool===a)}),this.currentToolId=a;const f=new CustomEvent("toolChanged",{detail:{toolId:a}});document.dispatchEvent(f),history.pushState({},"",`#${a}`)}getInitialToolId(){const a=window.location.hash.slice(1);return a&&Array.from(this.navItems).some(f=>f.dataset.tool===a)?a:this.navItems[0].dataset.tool}activateInitialTool(){const a=this.getInitialToolId();this.setActiveTool(a)}}class vp{constructor(){this.container=document.getElementById("json-tool"),this.formatButton=document.getElementById("format-json"),this.stringifyButton=document.getElementById("stringify-json"),this.minifyButton=document.getElementById("minify-json"),this.errorMessage=document.getElementById("json-error"),this.successMessage=document.getElementById("json-success"),this.initEditors(),this.init()}initEditors(){this.inputEditor=CodeMirror(document.getElementById("json-input-editor"),{mode:{name:"javascript",json:!0},theme:"material-darker",lineNumbers:!0,lineWrapping:!0,matchBrackets:!0,autoCloseBrackets:!0,tabSize:2,placeholder:"Paste JSON here..."}),this.outputEditor=CodeMirror(document.getElementById("json-output-editor"),{mode:{name:"javascript",json:!0},theme:"material-darker",lineNumbers:!0,lineWrapping:!0,matchBrackets:!0,tabSize:2,readOnly:!0})}init(){this.formatButton.addEventListener("click",()=>this.formatJson()),this.stringifyButton.addEventListener("click",()=>this.stringifyJson()),this.minifyButton.addEventListener("click",()=>this.minifyJson()),this.inputEditor.on("change",()=>{this.clearMessages();const a=this.inputEditor.getValue();a!==a.trim()&&this.inputEditor.setValue(a.trim())})}parseAndRepair(a){const f=window.jsonrepair(a);return JSON.parse(f)}formatJson(){const a=this.inputEditor.getValue().trim();if(this.clearMessages(),!a){this.outputEditor.setValue("");return}try{const f=this.parseAndRepair(a),v=JSON.stringify(f,null,2);this.outputEditor.setValue(v),this.showSuccess("JSON formatted successfully.")}catch(f){this.showError(`Error: ${f.message}`)}}stringifyJson(){const a=this.inputEditor.getValue().trim();if(this.clearMessages(),!a){this.outputEditor.setValue("");return}try{const f=this.parseAndRepair(a),v=JSON.stringify(JSON.stringify(f));this.outputEditor.setValue(v),this.showSuccess("JSON stringified successfully.")}catch(f){this.showError(`Error: ${f.message}`)}}minifyJson(){const a=this.inputEditor.getValue().trim();if(this.clearMessages(),!a){this.outputEditor.setValue("");return}try{const f=this.parseAndRepair(a),v=JSON.stringify(f);this.outputEditor.setValue(v),this.showSuccess("JSON minified successfully.")}catch(f){this.showError(`Error: ${f.message}`)}}clearMessages(){this.errorMessage.classList.remove("visible"),this.successMessage.classList.remove("visible")}showError(a){this.errorMessage.textContent=a,this.errorMessage.classList.add("visible"),this.successMessage.classList.remove("visible")}showSuccess(a){this.successMessage.textContent=a,this.successMessage.classList.add("visible"),this.errorMessage.classList.remove("visible")}}class gp{constructor(){this.container=document.getElementById("yaml-tool"),this.formatButton=document.getElementById("format-yaml"),this.minifyButton=document.getElementById("minify-yaml"),this.toJsonButton=document.getElementById("to-json-yaml"),this.errorMessage=document.getElementById("yaml-error"),this.successMessage=document.getElementById("yaml-success"),this.initEditors(),this.init()}initEditors(){this.inputEditor=CodeMirror(document.getElementById("yaml-input-editor"),{mode:"yaml",theme:"material-darker",lineNumbers:!0,lineWrapping:!0,matchBrackets:!0,autoCloseBrackets:!0,tabSize:2,placeholder:"Paste Yaml here..."}),this.outputEditor=CodeMirror(document.getElementById("yaml-output-editor"),{mode:"yaml",theme:"material-darker",lineNumbers:!0,lineWrapping:!0,matchBrackets:!0,tabSize:2,readOnly:!0})}init(){this.formatButton.addEventListener("click",()=>this.formatYaml()),this.minifyButton.addEventListener("click",()=>this.minifyYaml()),this.toJsonButton.addEventListener("click",()=>this.convertToJson()),this.inputEditor.on("change",()=>{this.clearMessages();const a=this.inputEditor.getValue();a!==a.trim()&&this.inputEditor.setValue(a.trim())})}parseAndRepair(a){const f=window.jsonrepair(a);return JSON.parse(f)}formatYaml(){const a=this.inputEditor.getValue().trim();if(this.clearMessages(),!a){this.outputEditor.setValue("");return}try{const f=window.jsyaml.load(a);this.outputEditor.setOption("mode","yaml");const v=window.jsyaml.dump(f,{indent:2,lineWidth:-1,noRefs:!0});this.outputEditor.setValue(v),this.showSuccess("YAML formatted successfully.")}catch(f){this.showError(`Error: ${f.message}`)}}minifyYaml(){const a=this.inputEditor.getValue().trim();if(this.clearMessages(),!a){this.outputEditor.setValue("");return}try{const f=window.jsyaml.load(a);this.outputEditor.setOption("mode","yaml");const v=window.jsyaml.dump(f,{indent:0,flowLevel:0,lineWidth:-1,noRefs:!0});this.outputEditor.setValue(v),this.showSuccess("YAML minified successfully.")}catch(f){this.showError(`Error: ${f.message}`)}}convertToJson(){const a=this.inputEditor.getValue().trim();if(this.clearMessages(),!a){this.outputEditor.setValue("");return}try{const f=window.jsyaml.load(a),v=JSON.stringify(f,null,2);this.outputEditor.setOption("mode",{name:"javascript",json:!0}),this.outputEditor.setValue(v),this.showSuccess("Converted to JSON successfully.")}catch(f){this.showError(`Error: ${f.message}`)}}clearMessages(){this.errorMessage.classList.remove("visible"),this.successMessage.classList.remove("visible")}showError(a){this.errorMessage.textContent=a,this.errorMessage.classList.add("visible"),this.successMessage.classList.remove("visible")}showSuccess(a){this.successMessage.textContent=a,this.successMessage.classList.add("visible"),this.errorMessage.classList.remove("visible")}}class yp{constructor(){this.container=document.getElementById("base64-tool"),this.input=document.getElementById("base64-input"),this.output=document.getElementById("base64-output"),this.encodeButton=document.getElementById("encode-button"),this.decodeButton=document.getElementById("decode-button"),this.errorMessage=document.getElementById("base64-error"),this.mode="encode",this.init()}init(){this.encodeButton.addEventListener("click",()=>{this.setMode("encode"),this.processInput()}),this.decodeButton.addEventListener("click",()=>{this.setMode("decode"),this.processInput()});const a=document.getElementById("process-base64");a&&a.addEventListener("click",()=>this.processInput()),this.input.addEventListener("paste",()=>{setTimeout(()=>this.processInput(),100)}),this.input.addEventListener("input",()=>{this.errorMessage.classList.remove("visible")})}setMode(a){this.mode=a,this.encodeButton.classList.toggle("active",a==="encode"),this.decodeButton.classList.toggle("active",a==="decode");const f=document.getElementById("process-base64");f&&(f.textContent=a==="encode"?"Encode":"Decode")}processInput(){const a=this.input.value;if(this.errorMessage.classList.remove("visible"),!a){this.output.value="";return}try{if(this.mode==="encode"){const f=btoa(a);this.output.value=f}else try{const f=atob(a);this.output.value=f}catch(f){throw f.message.includes("not correctly encoded")?new Error("Invalid Base64 string. Please check your input and ensure it contains only valid Base64 characters."):f}}catch(f){this.showError(f.message)}}showError(a){this.errorMessage.textContent=a,this.errorMessage.classList.add("visible")}}const Ds={"json-tool":vp,"yaml-tool":gp,"base64-tool":yp};class mp{constructor(){this.sidebar=null,this.activeToolInstance=null,this.toolInstances={},document.addEventListener("DOMContentLoaded",()=>this.init())}init(){console.log("Initializing DevKit..."),this.sidebar=new pp,document.addEventListener("toolChanged",a=>{this.activateTool(a.detail.toolId)}),this.sidebar.activateInitialTool(),window.addEventListener("popstate",()=>{const a=this.sidebar.getInitialToolId();this.sidebar.setActiveTool(a)})}activateTool(a){document.querySelectorAll(".tool-section").forEach(p=>{p.classList.remove("active")});const v=document.getElementById(a);v&&v.classList.add("active"),!this.toolInstances[a]&&Ds[a]&&(this.toolInstances[a]=new Ds[a]),this.activeToolInstance=this.toolInstances[a]}}new mp;window.CodeMirror=Ec;window.jsyaml=Xd;window.jsonrepair=hp;
