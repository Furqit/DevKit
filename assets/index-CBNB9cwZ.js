(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))p(h);new MutationObserver(h=>{for(const m of h)if(m.type==="childList")for(const g of m.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&p(g)}).observe(document,{childList:!0,subtree:!0});function s(h){const m={};return h.integrity&&(m.integrity=h.integrity),h.referrerPolicy&&(m.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?m.credentials="include":h.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function p(h){if(h.ep)return;h.ep=!0;const m=s(h);fetch(h.href,m)}})();var Yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kc(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var nl={exports:{}},Ss;function Kr(){return Ss||(Ss=1,function(i,a){(function(s,p){i.exports=p()})(Yc,function(){var s=navigator.userAgent,p=navigator.platform,h=/gecko\/\d/i.test(s),m=/MSIE \d/.test(s),g=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(s),C=/Edge\/(\d+)/.exec(s),S=m||g||C,A=S&&(m?document.documentMode||6:+(C||g)[1]),N=!C&&/WebKit\//.test(s),W=N&&/Qt\/\d+\.\d+/.test(s),M=!C&&/Chrome\/(\d+)/.exec(s),P=M&&+M[1],G=/Opera\//.test(s),se=/Apple Computer/.test(navigator.vendor),ue=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(s),H=/PhantomJS/.test(s),I=se&&(/Mobile\/\w+/.test(s)||navigator.maxTouchPoints>2),te=/Android/.test(s),oe=I||te||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(s),ce=I||/Mac/.test(p),ve=/\bCrOS\b/.test(s),F=/win/i.test(p),z=G&&s.match(/Version\/(\d*\.\d*)/);z&&(z=Number(z[1])),z&&z>=15&&(G=!1,N=!0);var V=ce&&(W||G&&(z==null||z<12.11)),J=h||S&&A>=9;function $(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var he=function(e,t){var n=e.className,r=$(t).exec(n);if(r){var o=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(o?r[1]+o:"")}};function E(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function R(e,t){return E(e).appendChild(t)}function w(e,t,n,r){var o=document.createElement(e);if(n&&(o.className=n),r&&(o.style.cssText=r),typeof t=="string")o.appendChild(document.createTextNode(t));else if(t)for(var l=0;l<t.length;++l)o.appendChild(t[l]);return o}function Me(e,t,n,r){var o=w(e,t,n,r);return o.setAttribute("role","presentation"),o}var Ae;document.createRange?Ae=function(e,t,n,r){var o=document.createRange();return o.setEnd(r||e,n),o.setStart(e,t),o}:Ae=function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch{return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};function j(e,t){if(t.nodeType==3&&(t=t.parentNode),e.contains)return e.contains(t);do if(t.nodeType==11&&(t=t.host),t==e)return!0;while(t=t.parentNode)}function le(e){var t=e.ownerDocument||e,n;try{n=e.activeElement}catch{n=t.body||null}for(;n&&n.shadowRoot&&n.shadowRoot.activeElement;)n=n.shadowRoot.activeElement;return n}function fe(e,t){var n=e.className;$(t).test(n)||(e.className+=(n?" ":"")+t)}function Ie(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!$(n[r]).test(t)&&(t+=" "+n[r]);return t}var ht=function(e){e.select()};I?ht=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:S&&(ht=function(e){try{e.select()}catch{}});function Ge(e){return e.display.wrapper.ownerDocument}function we(e){return xe(e.display.wrapper)}function xe(e){return e.getRootNode?e.getRootNode():e.ownerDocument}function de(e){return Ge(e).defaultView}function re(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function ge(e,t,n){t||(t={});for(var r in e)e.hasOwnProperty(r)&&(n!==!1||!t.hasOwnProperty(r))&&(t[r]=e[r]);return t}function Le(e,t,n,r,o){t==null&&(t=e.search(/[^\s\u00a0]/),t==-1&&(t=e.length));for(var l=r||0,u=o||0;;){var f=e.indexOf("	",l);if(f<0||f>=t)return u+(t-l);u+=f-l,u+=n-u%n,l=f+1}}var Ut=function(){this.id=null,this.f=null,this.time=0,this.handler=re(this.onTimeout,this)};Ut.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},Ut.prototype.set=function(e,t){this.f=t;var n=+new Date+e;(!this.id||n<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=n)};function me(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}var it=50,ur={toString:function(){return"CodeMirror.Pass"}},Lt={scroll:!1},zt={origin:"*mouse"},Tt={origin:"+move"};function Gt(e,t,n){for(var r=0,o=0;;){var l=e.indexOf("	",r);l==-1&&(l=e.length);var u=l-r;if(l==e.length||o+u>=t)return r+Math.min(u,t-o);if(o+=l-r,o+=n-o%n,r=l+1,o>=t)return r}}var Zt=[""];function Tn(e){for(;Zt.length<=e;)Zt.push(Ce(Zt)+" ");return Zt[e]}function Ce(e){return e[e.length-1]}function Mr(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function io(e,t,n){for(var r=0,o=n(t);r<e.length&&n(e[r])<=o;)r++;e.splice(r,0,t)}function ci(){}function hi(e,t){var n;return Object.create?n=Object.create(e):(ci.prototype=e,n=new ci),t&&ge(t,n),n}var oo=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function An(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||oo.test(e))}function Vt(e,t){return t?t.source.indexOf("\\w")>-1&&An(e)?!0:t.test(e):An(e)}function di(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var $t=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Pe(e){return e.charCodeAt(0)>=768&&$t.test(e)}function fr(e,t,n){for(;(n<0?t>0:t<e.length)&&Pe(e.charAt(t));)t+=n;return t}function Yt(e,t,n){for(var r=t>n?-1:1;;){if(t==n)return t;var o=(t+n)/2,l=r<0?Math.ceil(o):Math.floor(o);if(l==t)return e(l)?t:n;e(l)?n=l:t=l+r}}function cr(e,t,n,r){if(!e)return r(t,n,"ltr",0);for(var o=!1,l=0;l<e.length;++l){var u=e[l];(u.from<n&&u.to>t||t==n&&u.to==t)&&(r(Math.max(u.from,t),Math.min(u.to,n),u.level==1?"rtl":"ltr",l),o=!0)}o||r(t,n,"ltr")}var Or=null;function hr(e,t,n){var r;Or=null;for(var o=0;o<e.length;++o){var l=e[o];if(l.from<t&&l.to>t)return o;l.to==t&&(l.from!=l.to&&n=="before"?r=o:Or=o),l.from==t&&(l.from!=l.to&&n!="before"?r=o:Or=o)}return r??Or}var lo=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function n(d){return d<=247?e.charAt(d):1424<=d&&d<=1524?"R":1536<=d&&d<=1785?t.charAt(d-1536):1774<=d&&d<=2220?"r":8192<=d&&d<=8203?"w":d==8204?"b":"L"}var r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,l=/[LRr]/,u=/[Lb1n]/,f=/[1n]/;function c(d,y,x){this.level=d,this.from=y,this.to=x}return function(d,y){var x=y=="ltr"?"L":"R";if(d.length==0||y=="ltr"&&!r.test(d))return!1;for(var L=d.length,k=[],O=0;O<L;++O)k.push(n(d.charCodeAt(O)));for(var B=0,U=x;B<L;++B){var Y=k[B];Y=="m"?k[B]=U:U=Y}for(var X=0,K=x;X<L;++X){var Q=k[X];Q=="1"&&K=="r"?k[X]="n":l.test(Q)&&(K=Q,Q=="r"&&(k[X]="R"))}for(var ie=1,ee=k[0];ie<L-1;++ie){var ye=k[ie];ye=="+"&&ee=="1"&&k[ie+1]=="1"?k[ie]="1":ye==","&&ee==k[ie+1]&&(ee=="1"||ee=="n")&&(k[ie]=ee),ee=ye}for(var Ee=0;Ee<L;++Ee){var Xe=k[Ee];if(Xe==",")k[Ee]="N";else if(Xe=="%"){var Ne=void 0;for(Ne=Ee+1;Ne<L&&k[Ne]=="%";++Ne);for(var St=Ee&&k[Ee-1]=="!"||Ne<L&&k[Ne]=="1"?"1":"N",mt=Ee;mt<Ne;++mt)k[mt]=St;Ee=Ne-1}}for(var Re=0,yt=x;Re<L;++Re){var Ze=k[Re];yt=="L"&&Ze=="1"?k[Re]="L":l.test(Ze)&&(yt=Ze)}for(var Ue=0;Ue<L;++Ue)if(o.test(k[Ue])){var _e=void 0;for(_e=Ue+1;_e<L&&o.test(k[_e]);++_e);for(var He=(Ue?k[Ue-1]:x)=="L",bt=(_e<L?k[_e]:x)=="L",yn=He==bt?He?"L":"R":x,Lr=Ue;Lr<_e;++Lr)k[Lr]=yn;Ue=_e-1}for(var tt=[],Jt,Je=0;Je<L;)if(u.test(k[Je])){var tl=Je;for(++Je;Je<L&&u.test(k[Je]);++Je);tt.push(new c(0,tl,Je))}else{var ar=Je,_r=tt.length,Ur=y=="rtl"?1:0;for(++Je;Je<L&&k[Je]!="L";++Je);for(var lt=ar;lt<Je;)if(f.test(k[lt])){ar<lt&&(tt.splice(_r,0,new c(1,ar,lt)),_r+=Ur);var bn=lt;for(++lt;lt<Je&&f.test(k[lt]);++lt);tt.splice(_r,0,new c(2,bn,lt)),_r+=Ur,ar=lt}else++lt;ar<Je&&tt.splice(_r,0,new c(1,ar,Je))}return y=="ltr"&&(tt[0].level==1&&(Jt=d.match(/^\s+/))&&(tt[0].from=Jt[0].length,tt.unshift(new c(0,0,Jt[0].length))),Ce(tt).level==1&&(Jt=d.match(/\s+$/))&&(Ce(tt).to-=Jt[0].length,tt.push(new c(0,L-Jt[0].length,L)))),y=="rtl"?tt.reverse():tt}}();function be(e,t){var n=e.order;return n==null&&(n=e.order=lo(e.text,t)),n}var pi=[],ne=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||pi).concat(n)}};function er(e,t){return e._handlers&&e._handlers[t]||pi}function Ve(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers,o=r&&r[t];if(o){var l=me(o,n);l>-1&&(r[t]=o.slice(0,l).concat(o.slice(l+1)))}}}function De(e,t){var n=er(e,t);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),o=0;o<n.length;++o)n[o].apply(null,r)}function Fe(e,t,n){return typeof t=="string"&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),De(e,n||t.type,e,t),dt(t)||t.codemirrorIgnore}function Mt(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)me(n,t[r])==-1&&n.push(t[r])}function wt(e,t){return er(e,t).length>0}function It(e){e.prototype.on=function(t,n){ne(this,t,n)},e.prototype.off=function(t,n){Ve(this,t,n)}}function $e(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function jr(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function dt(e){return e.defaultPrevented!=null?e.defaultPrevented:e.returnValue==!1}function dr(e){$e(e),jr(e)}function En(e){return e.target||e.srcElement}function Nt(e){var t=e.which;return t==null&&(e.button&1?t=1:e.button&2?t=3:e.button&4&&(t=2)),ce&&e.ctrlKey&&t==1&&(t=3),t}var ao=function(){if(S&&A<9)return!1;var e=w("div");return"draggable"in e||"dragDrop"in e}(),qr;function vi(e){if(qr==null){var t=w("span","​");R(e,w("span",[t,document.createTextNode("x")])),e.firstChild.offsetHeight!=0&&(qr=t.offsetWidth<=1&&t.offsetHeight>2&&!(S&&A<8))}var n=qr?w("span","​"):w("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}var Mn;function pr(e){if(Mn!=null)return Mn;var t=R(e,document.createTextNode("AخA")),n=Ae(t,0,1).getBoundingClientRect(),r=Ae(t,1,2).getBoundingClientRect();return E(e),!n||n.left==n.right?!1:Mn=r.right-n.right<3}var Ot=`

b`.split(/\n/).length!=3?function(e){for(var t=0,n=[],r=e.length;t<=r;){var o=e.indexOf(`
`,t);o==-1&&(o=e.length);var l=e.slice(t,e.charAt(o-1)=="\r"?o-1:o),u=l.indexOf("\r");u!=-1?(n.push(l.slice(0,u)),t+=u+1):(n.push(l),t=o+1)}return n}:function(e){return e.split(/\r\n?|\n/)},vr=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch{return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch{}return!t||t.parentElement()!=e?!1:t.compareEndPoints("StartToEnd",t)!=0},gi=function(){var e=w("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),typeof e.oncopy=="function")}(),Dt=null;function so(e){if(Dt!=null)return Dt;var t=R(e,w("span","x")),n=t.getBoundingClientRect(),r=Ae(t,0,1).getBoundingClientRect();return Dt=Math.abs(n.left-r.left)>1}var Xr={},Ft={};function Bt(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Xr[e]=t}function Ir(e,t){Ft[e]=t}function Jr(e){if(typeof e=="string"&&Ft.hasOwnProperty(e))e=Ft[e];else if(e&&typeof e.name=="string"&&Ft.hasOwnProperty(e.name)){var t=Ft[e.name];typeof t=="string"&&(t={name:t}),e=hi(t,e),e.name=t.name}else{if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Jr("application/xml");if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Jr("application/json")}return typeof e=="string"?{name:e}:e||{name:"null"}}function Qr(e,t){t=Jr(t);var n=Xr[t.name];if(!n)return Qr(e,"text/plain");var r=n(e,t);if(gr.hasOwnProperty(t.name)){var o=gr[t.name];for(var l in o)o.hasOwnProperty(l)&&(r.hasOwnProperty(l)&&(r["_"+l]=r[l]),r[l]=o[l])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var u in t.modeProps)r[u]=t.modeProps[u];return r}var gr={};function Zr(e,t){var n=gr.hasOwnProperty(e)?gr[e]:gr[e]={};ge(t,n)}function Kt(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var o=t[r];o instanceof Array&&(o=o.concat([])),n[r]=o}return n}function On(e,t){for(var n;e.innerMode&&(n=e.innerMode(t),!(!n||n.mode==e));)t=n.state,e=n.mode;return n||{mode:e,state:t}}function Vr(e,t,n){return e.startState?e.startState(t,n):!0}var Be=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};Be.prototype.eol=function(){return this.pos>=this.string.length},Be.prototype.sol=function(){return this.pos==this.lineStart},Be.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Be.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Be.prototype.eat=function(e){var t=this.string.charAt(this.pos),n;if(typeof e=="string"?n=t==e:n=t&&(e.test?e.test(t):e(t)),n)return++this.pos,t},Be.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Be.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},Be.prototype.skipToEnd=function(){this.pos=this.string.length},Be.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Be.prototype.backUp=function(e){this.pos-=e},Be.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Le(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Le(this.string,this.lineStart,this.tabSize):0)},Be.prototype.indentation=function(){return Le(this.string,null,this.tabSize)-(this.lineStart?Le(this.string,this.lineStart,this.tabSize):0)},Be.prototype.match=function(e,t,n){if(typeof e=="string"){var r=function(u){return n?u.toLowerCase():u},o=this.string.substr(this.pos,e.length);if(r(o)==r(e))return t!==!1&&(this.pos+=e.length),!0}else{var l=this.string.slice(this.pos).match(e);return l&&l.index>0?null:(l&&t!==!1&&(this.pos+=l[0].length),l)}},Be.prototype.current=function(){return this.string.slice(this.start,this.pos)},Be.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Be.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Be.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};function Z(e,t){if(t-=e.first,t<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var o=n.children[r],l=o.chunkSize();if(t<l){n=o;break}t-=l}return n.lines[t]}function tr(e,t,n){var r=[],o=t.line;return e.iter(t.line,n.line+1,function(l){var u=l.text;o==n.line&&(u=u.slice(0,n.ch)),o==t.line&&(u=u.slice(t.ch)),r.push(u),++o}),r}function In(e,t,n){var r=[];return e.iter(t,n,function(o){r.push(o.text)}),r}function At(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function v(e){if(e.parent==null)return null;for(var t=e.parent,n=me(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var o=0;r.children[o]!=t;++o)n+=r.children[o].chunkSize();return n+t.first}function b(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var o=e.children[r],l=o.height;if(t<l){e=o;continue e}t-=l,n+=o.chunkSize()}return n}while(!e.lines);for(var u=0;u<e.lines.length;++u){var f=e.lines[u],c=f.height;if(t<c)break;t-=c}return n+u}function D(e,t){return t>=e.first&&t<e.first+e.size}function _(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function T(e,t,n){if(n===void 0&&(n=null),!(this instanceof T))return new T(e,t,n);this.line=e,this.ch=t,this.sticky=n}function q(e,t){return e.line-t.line||e.ch-t.ch}function Se(e,t){return e.sticky==t.sticky&&q(e,t)==0}function Ye(e){return T(e.line,e.ch)}function pt(e,t){return q(e,t)<0?t:e}function $r(e,t){return q(e,t)<0?e:t}function kl(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function pe(e,t){if(t.line<e.first)return T(e.first,0);var n=e.first+e.size-1;return t.line>n?T(n,Z(e,n).text.length):Yu(t,Z(e,t.line).text.length)}function Yu(e,t){var n=e.ch;return n==null||n>t?T(e.line,t):n<0?T(e.line,0):e}function Ll(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=pe(e,t[r]);return n}var mi=function(e,t){this.state=e,this.lookAhead=t},jt=function(e,t,n,r){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};jt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return t!=null&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},jt.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},jt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},jt.fromSaved=function(e,t,n){return t instanceof mi?new jt(e,Kt(e.mode,t.state),n,t.lookAhead):new jt(e,Kt(e.mode,t),n)},jt.prototype.save=function(e){var t=e!==!1?Kt(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new mi(t,this.maxLookAhead):t};function Tl(e,t,n,r){var o=[e.state.modeGen],l={};Nl(e,t.text,e.doc.mode,n,function(d,y){return o.push(d,y)},l,r);for(var u=n.state,f=function(d){n.baseTokens=o;var y=e.state.overlays[d],x=1,L=0;n.state=!0,Nl(e,t.text,y.mode,n,function(k,O){for(var B=x;L<k;){var U=o[x];U>k&&o.splice(x,1,k,o[x+1],U),x+=2,L=Math.min(k,U)}if(O)if(y.opaque)o.splice(B,x-B,k,"overlay "+O),x=B+2;else for(;B<x;B+=2){var Y=o[B+1];o[B+1]=(Y?Y+" ":"")+"overlay "+O}},l),n.state=u,n.baseTokens=null,n.baseTokenPos=1},c=0;c<e.state.overlays.length;++c)f(c);return{styles:o,classes:l.bgClass||l.textClass?l:null}}function Al(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=Nn(e,v(t)),o=t.text.length>e.options.maxHighlightLength&&Kt(e.doc.mode,r.state),l=Tl(e,t,r);o&&(r.state=o),t.stateAfter=r.save(!o),t.styles=l.styles,l.classes?t.styleClasses=l.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function Nn(e,t,n){var r=e.doc,o=e.display;if(!r.mode.startState)return new jt(r,!0,t);var l=Ku(e,t,n),u=l>r.first&&Z(r,l-1).stateAfter,f=u?jt.fromSaved(r,u,l):new jt(r,Vr(r.mode),l);return r.iter(l,t,function(c){uo(e,c.text,f);var d=f.line;c.stateAfter=d==t-1||d%5==0||d>=o.viewFrom&&d<o.viewTo?f.save():null,f.nextLine()}),n&&(r.modeFrontier=f.line),f}function uo(e,t,n,r){var o=e.doc.mode,l=new Be(t,e.options.tabSize,n);for(l.start=l.pos=r||0,t==""&&El(o,n.state);!l.eol();)fo(o,l,n.state),l.start=l.pos}function El(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=On(e,t);if(n.mode.blankLine)return n.mode.blankLine(n.state)}}function fo(e,t,n,r){for(var o=0;o<10;o++){r&&(r[0]=On(e,n).mode);var l=e.token(t,n);if(t.pos>t.start)return l}throw new Error("Mode "+e.name+" failed to advance stream.")}var Ml=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n};function Ol(e,t,n,r){var o=e.doc,l=o.mode,u;t=pe(o,t);var f=Z(o,t.line),c=Nn(e,t.line,n),d=new Be(f.text,e.options.tabSize,c),y;for(r&&(y=[]);(r||d.pos<t.ch)&&!d.eol();)d.start=d.pos,u=fo(l,d,c.state),r&&y.push(new Ml(d,u,Kt(o.mode,c.state)));return r?y:new Ml(d,u,c.state)}function Il(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";t[r]==null?t[r]=n[2]:new RegExp("(?:^|\\s)"+n[2]+"(?:$|\\s)").test(t[r])||(t[r]+=" "+n[2])}return e}function Nl(e,t,n,r,o,l,u){var f=n.flattenSpans;f==null&&(f=e.options.flattenSpans);var c=0,d=null,y=new Be(t,e.options.tabSize,r),x,L=e.options.addModeClass&&[null];for(t==""&&Il(El(n,r.state),l);!y.eol();){if(y.pos>e.options.maxHighlightLength?(f=!1,u&&uo(e,t,r,y.pos),y.pos=t.length,x=null):x=Il(fo(n,y,r.state,L),l),L){var k=L[0].name;k&&(x="m-"+(x?k+" "+x:k))}if(!f||d!=x){for(;c<y.start;)c=Math.min(y.start,c+5e3),o(c,d);d=x}y.start=y.pos}for(;c<y.pos;){var O=Math.min(y.pos,c+5e3);o(O,d),c=O}}function Ku(e,t,n){for(var r,o,l=e.doc,u=n?-1:t-(e.doc.mode.innerMode?1e3:100),f=t;f>u;--f){if(f<=l.first)return l.first;var c=Z(l,f-1),d=c.stateAfter;if(d&&(!n||f+(d instanceof mi?d.lookAhead:0)<=l.modeFrontier))return f;var y=Le(c.text,null,e.options.tabSize);(o==null||r>y)&&(o=f-1,r=y)}return o}function ju(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,r=t-1;r>n;r--){var o=Z(e,r).stateAfter;if(o&&(!(o instanceof mi)||r+o.lookAhead<t)){n=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}}var Dl=!1,rr=!1;function qu(){Dl=!0}function Xu(){rr=!0}function yi(e,t,n){this.marker=e,this.from=t,this.to=n}function Dn(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function Ju(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function Qu(e,t,n){var r=n&&window.WeakSet&&(n.markedSpans||(n.markedSpans=new WeakSet));r&&e.markedSpans&&r.has(e.markedSpans)?e.markedSpans.push(t):(e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],r&&r.add(e.markedSpans)),t.marker.attachLine(e)}function Zu(e,t,n){var r;if(e)for(var o=0;o<e.length;++o){var l=e[o],u=l.marker,f=l.from==null||(u.inclusiveLeft?l.from<=t:l.from<t);if(f||l.from==t&&u.type=="bookmark"&&(!n||!l.marker.insertLeft)){var c=l.to==null||(u.inclusiveRight?l.to>=t:l.to>t);(r||(r=[])).push(new yi(u,l.from,c?null:l.to))}}return r}function Vu(e,t,n){var r;if(e)for(var o=0;o<e.length;++o){var l=e[o],u=l.marker,f=l.to==null||(u.inclusiveRight?l.to>=t:l.to>t);if(f||l.from==t&&u.type=="bookmark"&&(!n||l.marker.insertLeft)){var c=l.from==null||(u.inclusiveLeft?l.from<=t:l.from<t);(r||(r=[])).push(new yi(u,c?null:l.from-t,l.to==null?null:l.to-t))}}return r}function co(e,t){if(t.full)return null;var n=D(e,t.from.line)&&Z(e,t.from.line).markedSpans,r=D(e,t.to.line)&&Z(e,t.to.line).markedSpans;if(!n&&!r)return null;var o=t.from.ch,l=t.to.ch,u=q(t.from,t.to)==0,f=Zu(n,o,u),c=Vu(r,l,u),d=t.text.length==1,y=Ce(t.text).length+(d?o:0);if(f)for(var x=0;x<f.length;++x){var L=f[x];if(L.to==null){var k=Dn(c,L.marker);k?d&&(L.to=k.to==null?null:k.to+y):L.to=o}}if(c)for(var O=0;O<c.length;++O){var B=c[O];if(B.to!=null&&(B.to+=y),B.from==null){var U=Dn(f,B.marker);U||(B.from=y,d&&(f||(f=[])).push(B))}else B.from+=y,d&&(f||(f=[])).push(B)}f&&(f=Fl(f)),c&&c!=f&&(c=Fl(c));var Y=[f];if(!d){var X=t.text.length-2,K;if(X>0&&f)for(var Q=0;Q<f.length;++Q)f[Q].to==null&&(K||(K=[])).push(new yi(f[Q].marker,null,null));for(var ie=0;ie<X;++ie)Y.push(K);Y.push(c)}return Y}function Fl(e){for(var t=0;t<e.length;++t){var n=e[t];n.from!=null&&n.from==n.to&&n.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function $u(e,t,n){var r=null;if(e.iter(t.line,n.line+1,function(k){if(k.markedSpans)for(var O=0;O<k.markedSpans.length;++O){var B=k.markedSpans[O].marker;B.readOnly&&(!r||me(r,B)==-1)&&(r||(r=[])).push(B)}}),!r)return null;for(var o=[{from:t,to:n}],l=0;l<r.length;++l)for(var u=r[l],f=u.find(0),c=0;c<o.length;++c){var d=o[c];if(!(q(d.to,f.from)<0||q(d.from,f.to)>0)){var y=[c,1],x=q(d.from,f.from),L=q(d.to,f.to);(x<0||!u.inclusiveLeft&&!x)&&y.push({from:d.from,to:f.from}),(L>0||!u.inclusiveRight&&!L)&&y.push({from:f.to,to:d.to}),o.splice.apply(o,y),c+=y.length-3}}return o}function Bl(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function Hl(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function bi(e){return e.inclusiveLeft?-1:0}function xi(e){return e.inclusiveRight?1:0}function ho(e,t){var n=e.lines.length-t.lines.length;if(n!=0)return n;var r=e.find(),o=t.find(),l=q(r.from,o.from)||bi(e)-bi(t);if(l)return-l;var u=q(r.to,o.to)||xi(e)-xi(t);return u||t.id-e.id}function Wl(e,t){var n=rr&&e.markedSpans,r;if(n)for(var o=void 0,l=0;l<n.length;++l)o=n[l],o.marker.collapsed&&(t?o.from:o.to)==null&&(!r||ho(r,o.marker)<0)&&(r=o.marker);return r}function Pl(e){return Wl(e,!0)}function wi(e){return Wl(e,!1)}function ef(e,t){var n=rr&&e.markedSpans,r;if(n)for(var o=0;o<n.length;++o){var l=n[o];l.marker.collapsed&&(l.from==null||l.from<t)&&(l.to==null||l.to>t)&&(!r||ho(r,l.marker)<0)&&(r=l.marker)}return r}function Rl(e,t,n,r,o){var l=Z(e,t),u=rr&&l.markedSpans;if(u)for(var f=0;f<u.length;++f){var c=u[f];if(c.marker.collapsed){var d=c.marker.find(0),y=q(d.from,n)||bi(c.marker)-bi(o),x=q(d.to,r)||xi(c.marker)-xi(o);if(!(y>=0&&x<=0||y<=0&&x>=0)&&(y<=0&&(c.marker.inclusiveRight&&o.inclusiveLeft?q(d.to,n)>=0:q(d.to,n)>0)||y>=0&&(c.marker.inclusiveRight&&o.inclusiveLeft?q(d.from,r)<=0:q(d.from,r)<0)))return!0}}}function Ht(e){for(var t;t=Pl(e);)e=t.find(-1,!0).line;return e}function tf(e){for(var t;t=wi(e);)e=t.find(1,!0).line;return e}function rf(e){for(var t,n;t=wi(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function po(e,t){var n=Z(e,t),r=Ht(n);return n==r?t:v(r)}function _l(e,t){if(t>e.lastLine())return t;var n=Z(e,t),r;if(!mr(e,n))return t;for(;r=wi(n);)n=r.find(1,!0).line;return v(n)+1}function mr(e,t){var n=rr&&t.markedSpans;if(n){for(var r=void 0,o=0;o<n.length;++o)if(r=n[o],!!r.marker.collapsed){if(r.from==null)return!0;if(!r.marker.widgetNode&&r.from==0&&r.marker.inclusiveLeft&&vo(e,t,r))return!0}}}function vo(e,t,n){if(n.to==null){var r=n.marker.find(1,!0);return vo(e,r.line,Dn(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var o=void 0,l=0;l<t.markedSpans.length;++l)if(o=t.markedSpans[l],o.marker.collapsed&&!o.marker.widgetNode&&o.from==n.to&&(o.to==null||o.to!=n.from)&&(o.marker.inclusiveLeft||n.marker.inclusiveRight)&&vo(e,t,o))return!0}function nr(e){e=Ht(e);for(var t=0,n=e.parent,r=0;r<n.lines.length;++r){var o=n.lines[r];if(o==e)break;t+=o.height}for(var l=n.parent;l;n=l,l=n.parent)for(var u=0;u<l.children.length;++u){var f=l.children[u];if(f==n)break;t+=f.height}return t}function Ci(e){if(e.height==0)return 0;for(var t=e.text.length,n,r=e;n=Pl(r);){var o=n.find(0,!0);r=o.from.line,t+=o.from.ch-o.to.ch}for(r=e;n=wi(r);){var l=n.find(0,!0);t-=r.text.length-l.from.ch,r=l.to.line,t+=r.text.length-l.to.ch}return t}function go(e){var t=e.display,n=e.doc;t.maxLine=Z(n,n.first),t.maxLineLength=Ci(t.maxLine),t.maxLineChanged=!0,n.iter(function(r){var o=Ci(r);o>t.maxLineLength&&(t.maxLineLength=o,t.maxLine=r)})}var en=function(e,t,n){this.text=e,Hl(this,t),this.height=n?n(this):1};en.prototype.lineNo=function(){return v(this)},It(en);function nf(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),e.order!=null&&(e.order=null),Bl(e),Hl(e,n);var o=r?r(e):1;o!=e.height&&At(e,o)}function of(e){e.parent=null,Bl(e)}var lf={},af={};function Ul(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?af:lf;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function zl(e,t){var n=Me("span",null,null,N?"padding-right: .1px":null),r={pre:Me("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var o=0;o<=(t.rest?t.rest.length:0);o++){var l=o?t.rest[o-1]:t.line,u=void 0;r.pos=0,r.addToken=uf,pr(e.display.measure)&&(u=be(l,e.doc.direction))&&(r.addToken=cf(r.addToken,u)),r.map=[];var f=t!=e.display.externalMeasured&&v(l);hf(l,r,Al(e,l,f)),l.styleClasses&&(l.styleClasses.bgClass&&(r.bgClass=Ie(l.styleClasses.bgClass,r.bgClass||"")),l.styleClasses.textClass&&(r.textClass=Ie(l.styleClasses.textClass,r.textClass||""))),r.map.length==0&&r.map.push(0,0,r.content.appendChild(vi(e.display.measure))),o==0?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(N){var c=r.content.lastChild;(/\bcm-tab\b/.test(c.className)||c.querySelector&&c.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return De(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=Ie(r.pre.className,r.textClass||"")),r}function sf(e){var t=w("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function uf(e,t,n,r,o,l,u){if(t){var f=e.splitSpaces?ff(t,e.trailingSpace):t,c=e.cm.state.specialChars,d=!1,y;if(!c.test(t))e.col+=t.length,y=document.createTextNode(f),e.map.push(e.pos,e.pos+t.length,y),S&&A<9&&(d=!0),e.pos+=t.length;else{y=document.createDocumentFragment();for(var x=0;;){c.lastIndex=x;var L=c.exec(t),k=L?L.index-x:t.length-x;if(k){var O=document.createTextNode(f.slice(x,x+k));S&&A<9?y.appendChild(w("span",[O])):y.appendChild(O),e.map.push(e.pos,e.pos+k,O),e.col+=k,e.pos+=k}if(!L)break;x+=k+1;var B=void 0;if(L[0]=="	"){var U=e.cm.options.tabSize,Y=U-e.col%U;B=y.appendChild(w("span",Tn(Y),"cm-tab")),B.setAttribute("role","presentation"),B.setAttribute("cm-text","	"),e.col+=Y}else L[0]=="\r"||L[0]==`
`?(B=y.appendChild(w("span",L[0]=="\r"?"␍":"␤","cm-invalidchar")),B.setAttribute("cm-text",L[0]),e.col+=1):(B=e.cm.options.specialCharPlaceholder(L[0]),B.setAttribute("cm-text",L[0]),S&&A<9?y.appendChild(w("span",[B])):y.appendChild(B),e.col+=1);e.map.push(e.pos,e.pos+1,B),e.pos++}}if(e.trailingSpace=f.charCodeAt(t.length-1)==32,n||r||o||d||l||u){var X=n||"";r&&(X+=r),o&&(X+=o);var K=w("span",[y],X,l);if(u)for(var Q in u)u.hasOwnProperty(Q)&&Q!="style"&&Q!="class"&&K.setAttribute(Q,u[Q]);return e.content.appendChild(K)}e.content.appendChild(y)}}function ff(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,r="",o=0;o<e.length;o++){var l=e.charAt(o);l==" "&&n&&(o==e.length-1||e.charCodeAt(o+1)==32)&&(l=" "),r+=l,n=l==" "}return r}function cf(e,t){return function(n,r,o,l,u,f,c){o=o?o+" cm-force-border":"cm-force-border";for(var d=n.pos,y=d+r.length;;){for(var x=void 0,L=0;L<t.length&&(x=t[L],!(x.to>d&&x.from<=d));L++);if(x.to>=y)return e(n,r,o,l,u,f,c);e(n,r.slice(0,x.to-d),o,l,null,f,c),l=null,r=r.slice(x.to-d),d=x.to}}}function Gl(e,t,n,r){var o=!r&&n.widgetNode;o&&e.map.push(e.pos,e.pos+t,o),!r&&e.cm.display.input.needsContentAttribute&&(o||(o=e.content.appendChild(document.createElement("span"))),o.setAttribute("cm-marker",n.id)),o&&(e.cm.display.input.setUneditable(o),e.content.appendChild(o)),e.pos+=t,e.trailingSpace=!1}function hf(e,t,n){var r=e.markedSpans,o=e.text,l=0;if(!r){for(var u=1;u<n.length;u+=2)t.addToken(t,o.slice(l,l=n[u]),Ul(n[u+1],t.cm.options));return}for(var f=o.length,c=0,d=1,y="",x,L,k=0,O,B,U,Y,X;;){if(k==c){O=B=U=L="",X=null,Y=null,k=1/0;for(var K=[],Q=void 0,ie=0;ie<r.length;++ie){var ee=r[ie],ye=ee.marker;if(ye.type=="bookmark"&&ee.from==c&&ye.widgetNode)K.push(ye);else if(ee.from<=c&&(ee.to==null||ee.to>c||ye.collapsed&&ee.to==c&&ee.from==c)){if(ee.to!=null&&ee.to!=c&&k>ee.to&&(k=ee.to,B=""),ye.className&&(O+=" "+ye.className),ye.css&&(L=(L?L+";":"")+ye.css),ye.startStyle&&ee.from==c&&(U+=" "+ye.startStyle),ye.endStyle&&ee.to==k&&(Q||(Q=[])).push(ye.endStyle,ee.to),ye.title&&((X||(X={})).title=ye.title),ye.attributes)for(var Ee in ye.attributes)(X||(X={}))[Ee]=ye.attributes[Ee];ye.collapsed&&(!Y||ho(Y.marker,ye)<0)&&(Y=ee)}else ee.from>c&&k>ee.from&&(k=ee.from)}if(Q)for(var Xe=0;Xe<Q.length;Xe+=2)Q[Xe+1]==k&&(B+=" "+Q[Xe]);if(!Y||Y.from==c)for(var Ne=0;Ne<K.length;++Ne)Gl(t,0,K[Ne]);if(Y&&(Y.from||0)==c){if(Gl(t,(Y.to==null?f+1:Y.to)-c,Y.marker,Y.from==null),Y.to==null)return;Y.to==c&&(Y=!1)}}if(c>=f)break;for(var St=Math.min(f,k);;){if(y){var mt=c+y.length;if(!Y){var Re=mt>St?y.slice(0,St-c):y;t.addToken(t,Re,x?x+O:O,U,c+Re.length==k?B:"",L,X)}if(mt>=St){y=y.slice(St-c),c=St;break}c=mt,U=""}y=o.slice(l,l=n[d++]),x=Ul(n[d++],t.cm.options)}}}function Yl(e,t,n){this.line=t,this.rest=rf(t),this.size=this.rest?v(Ce(this.rest))-n+1:1,this.node=this.text=null,this.hidden=mr(e,t)}function Si(e,t,n){for(var r=[],o,l=t;l<n;l=o){var u=new Yl(e.doc,Z(e.doc,l),l);o=l+u.size,r.push(u)}return r}var tn=null;function df(e){tn?tn.ops.push(e):e.ownsGroup=tn={ops:[e],delayedCallbacks:[]}}function pf(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var o=e.ops[r];if(o.cursorActivityHandlers)for(;o.cursorActivityCalled<o.cursorActivityHandlers.length;)o.cursorActivityHandlers[o.cursorActivityCalled++].call(null,o.cm)}}while(n<t.length)}function vf(e,t){var n=e.ownsGroup;if(n)try{pf(n)}finally{tn=null,t(n)}}var Fn=null;function Ke(e,t){var n=er(e,t);if(n.length){var r=Array.prototype.slice.call(arguments,2),o;tn?o=tn.delayedCallbacks:Fn?o=Fn:(o=Fn=[],setTimeout(gf,0));for(var l=function(f){o.push(function(){return n[f].apply(null,r)})},u=0;u<n.length;++u)l(u)}}function gf(){var e=Fn;Fn=null;for(var t=0;t<e.length;++t)e[t]()}function Kl(e,t,n,r){for(var o=0;o<t.changes.length;o++){var l=t.changes[o];l=="text"?yf(e,t):l=="gutter"?ql(e,t,n,r):l=="class"?mo(e,t):l=="widget"&&bf(e,t,r)}t.changes=null}function Bn(e){return e.node==e.text&&(e.node=w("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),S&&A<8&&(e.node.style.zIndex=2)),e.node}function mf(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var r=Bn(t);t.background=r.insertBefore(w("div",null,n),r.firstChild),e.display.input.setUneditable(t.background)}}function jl(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):zl(e,t)}function yf(e,t){var n=t.text.className,r=jl(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,mo(e,t)):n&&(t.text.className=n)}function mo(e,t){mf(e,t),t.line.wrapClass?Bn(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function ql(e,t,n,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var o=Bn(t);t.gutterBackground=w("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),o.insertBefore(t.gutterBackground,t.text)}var l=t.line.gutterMarkers;if(e.options.lineNumbers||l){var u=Bn(t),f=t.gutter=w("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(f.setAttribute("aria-hidden","true"),e.display.input.setUneditable(f),u.insertBefore(f,t.text),t.line.gutterClass&&(f.className+=" "+t.line.gutterClass),e.options.lineNumbers&&(!l||!l["CodeMirror-linenumbers"])&&(t.lineNumber=f.appendChild(w("div",_(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),l)for(var c=0;c<e.display.gutterSpecs.length;++c){var d=e.display.gutterSpecs[c].className,y=l.hasOwnProperty(d)&&l[d];y&&f.appendChild(w("div",[y],"CodeMirror-gutter-elt","left: "+r.gutterLeft[d]+"px; width: "+r.gutterWidth[d]+"px"))}}}function bf(e,t,n){t.alignable&&(t.alignable=null);for(var r=$("CodeMirror-linewidget"),o=t.node.firstChild,l=void 0;o;o=l)l=o.nextSibling,r.test(o.className)&&t.node.removeChild(o);Xl(e,t,n)}function xf(e,t,n,r){var o=jl(e,t);return t.text=t.node=o.pre,o.bgClass&&(t.bgClass=o.bgClass),o.textClass&&(t.textClass=o.textClass),mo(e,t),ql(e,t,n,r),Xl(e,t,r),t.node}function Xl(e,t,n){if(Jl(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)Jl(e,t.rest[r],t,n,!1)}function Jl(e,t,n,r,o){if(t.widgets)for(var l=Bn(n),u=0,f=t.widgets;u<f.length;++u){var c=f[u],d=w("div",[c.node],"CodeMirror-linewidget"+(c.className?" "+c.className:""));c.handleMouseEvents||d.setAttribute("cm-ignore-events","true"),wf(c,d,n,r),e.display.input.setUneditable(d),o&&c.above?l.insertBefore(d,n.gutter||n.text):l.appendChild(d),Ke(c,"redraw")}}function wf(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var o=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(o-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=o+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function Hn(e){if(e.height!=null)return e.height;var t=e.doc.cm;if(!t)return 0;if(!j(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),R(t.display.measure,w("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function ir(e,t){for(var n=En(t);n!=e.wrapper;n=n.parentNode)if(!n||n.nodeType==1&&n.getAttribute("cm-ignore-events")=="true"||n.parentNode==e.sizer&&n!=e.mover)return!0}function ki(e){return e.lineSpace.offsetTop}function yo(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Ql(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=R(e.measure,w("pre","x","CodeMirror-line-like")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return!isNaN(r.left)&&!isNaN(r.right)&&(e.cachedPaddingH=r),r}function qt(e){return it-e.display.nativeBarWidth}function Nr(e){return e.display.scroller.clientWidth-qt(e)-e.display.barWidth}function bo(e){return e.display.scroller.clientHeight-qt(e)-e.display.barHeight}function Cf(e,t,n){var r=e.options.lineWrapping,o=r&&Nr(e);if(!t.measure.heights||r&&t.measure.width!=o){var l=t.measure.heights=[];if(r){t.measure.width=o;for(var u=t.text.firstChild.getClientRects(),f=0;f<u.length-1;f++){var c=u[f],d=u[f+1];Math.abs(c.bottom-d.bottom)>2&&l.push((c.bottom+d.top)/2-n.top)}}l.push(n.bottom-n.top)}}function Zl(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};if(e.rest){for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var o=0;o<e.rest.length;o++)if(v(e.rest[o])>n)return{map:e.measure.maps[o],cache:e.measure.caches[o],before:!0}}}function Sf(e,t){t=Ht(t);var n=v(t),r=e.display.externalMeasured=new Yl(e.doc,t,n);r.lineN=n;var o=r.built=zl(e,r);return r.text=o.pre,R(e.display.lineMeasure,o.pre),r}function Vl(e,t,n,r){return Xt(e,rn(e,t),n,r)}function xo(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Br(e,t)];var n=e.display.externalMeasured;if(n&&t>=n.lineN&&t<n.lineN+n.size)return n}function rn(e,t){var n=v(t),r=xo(e,n);r&&!r.text?r=null:r&&r.changes&&(Kl(e,r,n,Lo(e)),e.curOp.forceUpdate=!0),r||(r=Sf(e,t));var o=Zl(r,t,n);return{line:t,view:r,rect:null,map:o.map,cache:o.cache,before:o.before,hasHeights:!1}}function Xt(e,t,n,r,o){t.before&&(n=-1);var l=n+(r||""),u;return t.cache.hasOwnProperty(l)?u=t.cache[l]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Cf(e,t.view,t.rect),t.hasHeights=!0),u=Lf(e,t,n,r),u.bogus||(t.cache[l]=u)),{left:u.left,right:u.right,top:o?u.rtop:u.top,bottom:o?u.rbottom:u.bottom}}var $l={left:0,right:0,top:0,bottom:0};function ea(e,t,n){for(var r,o,l,u,f,c,d=0;d<e.length;d+=3)if(f=e[d],c=e[d+1],t<f?(o=0,l=1,u="left"):t<c?(o=t-f,l=o+1):(d==e.length-3||t==c&&e[d+3]>t)&&(l=c-f,o=l-1,t>=c&&(u="right")),o!=null){if(r=e[d+2],f==c&&n==(r.insertLeft?"left":"right")&&(u=n),n=="left"&&o==0)for(;d&&e[d-2]==e[d-3]&&e[d-1].insertLeft;)r=e[(d-=3)+2],u="left";if(n=="right"&&o==c-f)for(;d<e.length-3&&e[d+3]==e[d+4]&&!e[d+5].insertLeft;)r=e[(d+=3)+2],u="right";break}return{node:r,start:o,end:l,collapse:u,coverStart:f,coverEnd:c}}function kf(e,t){var n=$l;if(t=="left")for(var r=0;r<e.length&&(n=e[r]).left==n.right;r++);else for(var o=e.length-1;o>=0&&(n=e[o]).left==n.right;o--);return n}function Lf(e,t,n,r){var o=ea(t.map,n,r),l=o.node,u=o.start,f=o.end,c=o.collapse,d;if(l.nodeType==3){for(var y=0;y<4;y++){for(;u&&Pe(t.line.text.charAt(o.coverStart+u));)--u;for(;o.coverStart+f<o.coverEnd&&Pe(t.line.text.charAt(o.coverStart+f));)++f;if(S&&A<9&&u==0&&f==o.coverEnd-o.coverStart?d=l.parentNode.getBoundingClientRect():d=kf(Ae(l,u,f).getClientRects(),r),d.left||d.right||u==0)break;f=u,u=u-1,c="right"}S&&A<11&&(d=Tf(e.display.measure,d))}else{u>0&&(c=r="right");var x;e.options.lineWrapping&&(x=l.getClientRects()).length>1?d=x[r=="right"?x.length-1:0]:d=l.getBoundingClientRect()}if(S&&A<9&&!u&&(!d||!d.left&&!d.right)){var L=l.parentNode.getClientRects()[0];L?d={left:L.left,right:L.left+on(e.display),top:L.top,bottom:L.bottom}:d=$l}for(var k=d.top-t.rect.top,O=d.bottom-t.rect.top,B=(k+O)/2,U=t.view.measure.heights,Y=0;Y<U.length-1&&!(B<U[Y]);Y++);var X=Y?U[Y-1]:0,K=U[Y],Q={left:(c=="right"?d.right:d.left)-t.rect.left,right:(c=="left"?d.left:d.right)-t.rect.left,top:X,bottom:K};return!d.left&&!d.right&&(Q.bogus=!0),e.options.singleCursorHeightPerLine||(Q.rtop=k,Q.rbottom=O),Q}function Tf(e,t){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!so(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}function ta(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function ra(e){e.display.externalMeasure=null,E(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)ta(e.display.view[t])}function Wn(e){ra(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function na(e){return M&&te?-(e.body.getBoundingClientRect().left-parseInt(getComputedStyle(e.body).marginLeft)):e.defaultView.pageXOffset||(e.documentElement||e.body).scrollLeft}function ia(e){return M&&te?-(e.body.getBoundingClientRect().top-parseInt(getComputedStyle(e.body).marginTop)):e.defaultView.pageYOffset||(e.documentElement||e.body).scrollTop}function wo(e){var t=Ht(e),n=t.widgets,r=0;if(n)for(var o=0;o<n.length;++o)n[o].above&&(r+=Hn(n[o]));return r}function Li(e,t,n,r,o){if(!o){var l=wo(t);n.top+=l,n.bottom+=l}if(r=="line")return n;r||(r="local");var u=nr(t);if(r=="local"?u+=ki(e.display):u-=e.display.viewOffset,r=="page"||r=="window"){var f=e.display.lineSpace.getBoundingClientRect();u+=f.top+(r=="window"?0:ia(Ge(e)));var c=f.left+(r=="window"?0:na(Ge(e)));n.left+=c,n.right+=c}return n.top+=u,n.bottom+=u,n}function oa(e,t,n){if(n=="div")return t;var r=t.left,o=t.top;if(n=="page")r-=na(Ge(e)),o-=ia(Ge(e));else if(n=="local"||!n){var l=e.display.sizer.getBoundingClientRect();r+=l.left,o+=l.top}var u=e.display.lineSpace.getBoundingClientRect();return{left:r-u.left,top:o-u.top}}function Ti(e,t,n,r,o){return r||(r=Z(e.doc,t.line)),Li(e,r,Vl(e,r,t.ch,o),n)}function Wt(e,t,n,r,o,l){r=r||Z(e.doc,t.line),o||(o=rn(e,r));function u(O,B){var U=Xt(e,o,O,B?"right":"left",l);return B?U.left=U.right:U.right=U.left,Li(e,r,U,n)}var f=be(r,e.doc.direction),c=t.ch,d=t.sticky;if(c>=r.text.length?(c=r.text.length,d="before"):c<=0&&(c=0,d="after"),!f)return u(d=="before"?c-1:c,d=="before");function y(O,B,U){var Y=f[B],X=Y.level==1;return u(U?O-1:O,X!=U)}var x=hr(f,c,d),L=Or,k=y(c,x,d=="before");return L!=null&&(k.other=y(c,L,d!="before")),k}function la(e,t){var n=0;t=pe(e.doc,t),e.options.lineWrapping||(n=on(e.display)*t.ch);var r=Z(e.doc,t.line),o=nr(r)+ki(e.display);return{left:n,right:n,top:o,bottom:o+r.height}}function Co(e,t,n,r,o){var l=T(e,t,n);return l.xRel=o,r&&(l.outside=r),l}function So(e,t,n){var r=e.doc;if(n+=e.display.viewOffset,n<0)return Co(r.first,0,null,-1,-1);var o=b(r,n),l=r.first+r.size-1;if(o>l)return Co(r.first+r.size-1,Z(r,l).text.length,null,1,1);t<0&&(t=0);for(var u=Z(r,o);;){var f=Af(e,u,o,t,n),c=ef(u,f.ch+(f.xRel>0||f.outside>0?1:0));if(!c)return f;var d=c.find(1);if(d.line==o)return d;u=Z(r,o=d.line)}}function aa(e,t,n,r){r-=wo(t);var o=t.text.length,l=Yt(function(u){return Xt(e,n,u-1).bottom<=r},o,0);return o=Yt(function(u){return Xt(e,n,u).top>r},l,o),{begin:l,end:o}}function sa(e,t,n,r){n||(n=rn(e,t));var o=Li(e,t,Xt(e,n,r),"line").top;return aa(e,t,n,o)}function ko(e,t,n,r){return e.bottom<=n?!1:e.top>n?!0:(r?e.left:e.right)>t}function Af(e,t,n,r,o){o-=nr(t);var l=rn(e,t),u=wo(t),f=0,c=t.text.length,d=!0,y=be(t,e.doc.direction);if(y){var x=(e.options.lineWrapping?Mf:Ef)(e,t,n,l,y,r,o);d=x.level!=1,f=d?x.from:x.to-1,c=d?x.to:x.from-1}var L=null,k=null,O=Yt(function(ie){var ee=Xt(e,l,ie);return ee.top+=u,ee.bottom+=u,ko(ee,r,o,!1)?(ee.top<=o&&ee.left<=r&&(L=ie,k=ee),!0):!1},f,c),B,U,Y=!1;if(k){var X=r-k.left<k.right-r,K=X==d;O=L+(K?0:1),U=K?"after":"before",B=X?k.left:k.right}else{!d&&(O==c||O==f)&&O++,U=O==0?"after":O==t.text.length?"before":Xt(e,l,O-(d?1:0)).bottom+u<=o==d?"after":"before";var Q=Wt(e,T(n,O,U),"line",t,l);B=Q.left,Y=o<Q.top?-1:o>=Q.bottom?1:0}return O=fr(t.text,O,1),Co(n,O,U,Y,r-B)}function Ef(e,t,n,r,o,l,u){var f=Yt(function(x){var L=o[x],k=L.level!=1;return ko(Wt(e,T(n,k?L.to:L.from,k?"before":"after"),"line",t,r),l,u,!0)},0,o.length-1),c=o[f];if(f>0){var d=c.level!=1,y=Wt(e,T(n,d?c.from:c.to,d?"after":"before"),"line",t,r);ko(y,l,u,!0)&&y.top>u&&(c=o[f-1])}return c}function Mf(e,t,n,r,o,l,u){var f=aa(e,t,r,u),c=f.begin,d=f.end;/\s/.test(t.text.charAt(d-1))&&d--;for(var y=null,x=null,L=0;L<o.length;L++){var k=o[L];if(!(k.from>=d||k.to<=c)){var O=k.level!=1,B=Xt(e,r,O?Math.min(d,k.to)-1:Math.max(c,k.from)).right,U=B<l?l-B+1e9:B-l;(!y||x>U)&&(y=k,x=U)}}return y||(y=o[o.length-1]),y.from<c&&(y={from:c,to:y.to,level:y.level}),y.to>d&&(y={from:y.from,to:d,level:y.level}),y}var Dr;function nn(e){if(e.cachedTextHeight!=null)return e.cachedTextHeight;if(Dr==null){Dr=w("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)Dr.appendChild(document.createTextNode("x")),Dr.appendChild(w("br"));Dr.appendChild(document.createTextNode("x"))}R(e.measure,Dr);var n=Dr.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),E(e.measure),n||1}function on(e){if(e.cachedCharWidth!=null)return e.cachedCharWidth;var t=w("span","xxxxxxxxxx"),n=w("pre",[t],"CodeMirror-line-like");R(e.measure,n);var r=t.getBoundingClientRect(),o=(r.right-r.left)/10;return o>2&&(e.cachedCharWidth=o),o||10}function Lo(e){for(var t=e.display,n={},r={},o=t.gutters.clientLeft,l=t.gutters.firstChild,u=0;l;l=l.nextSibling,++u){var f=e.display.gutterSpecs[u].className;n[f]=l.offsetLeft+l.clientLeft+o,r[f]=l.clientWidth}return{fixedPos:To(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function To(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function ua(e){var t=nn(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/on(e.display)-3);return function(o){if(mr(e.doc,o))return 0;var l=0;if(o.widgets)for(var u=0;u<o.widgets.length;u++)o.widgets[u].height&&(l+=o.widgets[u].height);return n?l+(Math.ceil(o.text.length/r)||1)*t:l+t}}function Ao(e){var t=e.doc,n=ua(e);t.iter(function(r){var o=n(r);o!=r.height&&At(r,o)})}function Fr(e,t,n,r){var o=e.display;if(!n&&En(t).getAttribute("cm-not-content")=="true")return null;var l,u,f=o.lineSpace.getBoundingClientRect();try{l=t.clientX-f.left,u=t.clientY-f.top}catch{return null}var c=So(e,l,u),d;if(r&&c.xRel>0&&(d=Z(e.doc,c.line).text).length==c.ch){var y=Le(d,d.length,e.options.tabSize)-d.length;c=T(c.line,Math.max(0,Math.round((l-Ql(e.display).left)/on(e.display))-y))}return c}function Br(e,t){if(t>=e.display.viewTo||(t-=e.display.viewFrom,t<0))return null;for(var n=e.display.view,r=0;r<n.length;r++)if(t-=n[r].size,t<0)return r}function vt(e,t,n,r){t==null&&(t=e.doc.first),n==null&&(n=e.doc.first+e.doc.size),r||(r=0);var o=e.display;if(r&&n<o.viewTo&&(o.updateLineNumbers==null||o.updateLineNumbers>t)&&(o.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=o.viewTo)rr&&po(e.doc,t)<o.viewTo&&br(e);else if(n<=o.viewFrom)rr&&_l(e.doc,n+r)>o.viewFrom?br(e):(o.viewFrom+=r,o.viewTo+=r);else if(t<=o.viewFrom&&n>=o.viewTo)br(e);else if(t<=o.viewFrom){var l=Ai(e,n,n+r,1);l?(o.view=o.view.slice(l.index),o.viewFrom=l.lineN,o.viewTo+=r):br(e)}else if(n>=o.viewTo){var u=Ai(e,t,t,-1);u?(o.view=o.view.slice(0,u.index),o.viewTo=u.lineN):br(e)}else{var f=Ai(e,t,t,-1),c=Ai(e,n,n+r,1);f&&c?(o.view=o.view.slice(0,f.index).concat(Si(e,f.lineN,c.lineN)).concat(o.view.slice(c.index)),o.viewTo+=r):br(e)}var d=o.externalMeasured;d&&(n<d.lineN?d.lineN+=r:t<d.lineN+d.size&&(o.externalMeasured=null))}function yr(e,t,n){e.curOp.viewChanged=!0;var r=e.display,o=e.display.externalMeasured;if(o&&t>=o.lineN&&t<o.lineN+o.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var l=r.view[Br(e,t)];if(l.node!=null){var u=l.changes||(l.changes=[]);me(u,n)==-1&&u.push(n)}}}function br(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Ai(e,t,n,r){var o=Br(e,t),l,u=e.display.view;if(!rr||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var f=e.display.viewFrom,c=0;c<o;c++)f+=u[c].size;if(f!=t){if(r>0){if(o==u.length-1)return null;l=f+u[o].size-t,o++}else l=f-t;t+=l,n+=l}for(;po(e.doc,n)!=n;){if(o==(r<0?0:u.length-1))return null;n+=r*u[o-(r<0?1:0)].size,o+=r}return{index:o,lineN:n}}function Of(e,t,n){var r=e.display,o=r.view;o.length==0||t>=r.viewTo||n<=r.viewFrom?(r.view=Si(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=Si(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(Br(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(Si(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,Br(e,n)))),r.viewTo=n}function fa(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var o=t[r];!o.hidden&&(!o.node||o.changes)&&++n}return n}function Pn(e){e.display.input.showSelection(e.display.input.prepareSelection())}function ca(e,t){t===void 0&&(t=!0);var n=e.doc,r={},o=r.cursors=document.createDocumentFragment(),l=r.selection=document.createDocumentFragment(),u=e.options.$customCursor;u&&(t=!0);for(var f=0;f<n.sel.ranges.length;f++)if(!(!t&&f==n.sel.primIndex)){var c=n.sel.ranges[f];if(!(c.from().line>=e.display.viewTo||c.to().line<e.display.viewFrom)){var d=c.empty();if(u){var y=u(e,c);y&&Eo(e,y,o)}else(d||e.options.showCursorWhenSelecting)&&Eo(e,c.head,o);d||If(e,c,l)}}return r}function Eo(e,t,n){var r=Wt(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),o=n.appendChild(w("div"," ","CodeMirror-cursor"));if(o.style.left=r.left+"px",o.style.top=r.top+"px",o.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(e.getWrapperElement().className)){var l=Ti(e,t,"div",null,null),u=l.right-l.left;o.style.width=(u>0?u:e.defaultCharWidth())+"px"}if(r.other){var f=n.appendChild(w("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));f.style.display="",f.style.left=r.other.left+"px",f.style.top=r.other.top+"px",f.style.height=(r.other.bottom-r.other.top)*.85+"px"}}function Ei(e,t){return e.top-t.top||e.left-t.left}function If(e,t,n){var r=e.display,o=e.doc,l=document.createDocumentFragment(),u=Ql(e.display),f=u.left,c=Math.max(r.sizerWidth,Nr(e)-r.sizer.offsetLeft)-u.right,d=o.direction=="ltr";function y(K,Q,ie,ee){Q<0&&(Q=0),Q=Math.round(Q),ee=Math.round(ee),l.appendChild(w("div",null,"CodeMirror-selected","position: absolute; left: "+K+`px;
                             top: `+Q+"px; width: "+(ie??c-K)+`px;
                             height: `+(ee-Q)+"px"))}function x(K,Q,ie){var ee=Z(o,K),ye=ee.text.length,Ee,Xe;function Ne(Re,yt){return Ti(e,T(K,Re),"div",ee,yt)}function St(Re,yt,Ze){var Ue=sa(e,ee,null,Re),_e=yt=="ltr"==(Ze=="after")?"left":"right",He=Ze=="after"?Ue.begin:Ue.end-(/\s/.test(ee.text.charAt(Ue.end-1))?2:1);return Ne(He,_e)[_e]}var mt=be(ee,o.direction);return cr(mt,Q||0,ie??ye,function(Re,yt,Ze,Ue){var _e=Ze=="ltr",He=Ne(Re,_e?"left":"right"),bt=Ne(yt-1,_e?"right":"left"),yn=Q==null&&Re==0,Lr=ie==null&&yt==ye,tt=Ue==0,Jt=!mt||Ue==mt.length-1;if(bt.top-He.top<=3){var Je=(d?yn:Lr)&&tt,tl=(d?Lr:yn)&&Jt,ar=Je?f:(_e?He:bt).left,_r=tl?c:(_e?bt:He).right;y(ar,He.top,_r-ar,He.bottom)}else{var Ur,lt,bn,rl;_e?(Ur=d&&yn&&tt?f:He.left,lt=d?c:St(Re,Ze,"before"),bn=d?f:St(yt,Ze,"after"),rl=d&&Lr&&Jt?c:bt.right):(Ur=d?St(Re,Ze,"before"):f,lt=!d&&yn&&tt?c:He.right,bn=!d&&Lr&&Jt?f:bt.left,rl=d?St(yt,Ze,"after"):c),y(Ur,He.top,lt-Ur,He.bottom),He.bottom<bt.top&&y(f,He.bottom,null,bt.top),y(bn,bt.top,rl-bn,bt.bottom)}(!Ee||Ei(He,Ee)<0)&&(Ee=He),Ei(bt,Ee)<0&&(Ee=bt),(!Xe||Ei(He,Xe)<0)&&(Xe=He),Ei(bt,Xe)<0&&(Xe=bt)}),{start:Ee,end:Xe}}var L=t.from(),k=t.to();if(L.line==k.line)x(L.line,L.ch,k.ch);else{var O=Z(o,L.line),B=Z(o,k.line),U=Ht(O)==Ht(B),Y=x(L.line,L.ch,U?O.text.length+1:null).end,X=x(k.line,U?0:null,k.ch).start;U&&(Y.top<X.top-2?(y(Y.right,Y.top,null,Y.bottom),y(f,X.top,X.left,X.bottom)):y(Y.right,Y.top,X.left-Y.right,Y.bottom)),Y.bottom<X.top&&y(f,Y.bottom,null,X.top)}n.appendChild(l)}function Mo(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){e.hasFocus()||ln(e),t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function ha(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||Io(e))}function Oo(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&ln(e))},100)}function Io(e,t){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),e.options.readOnly!="nocursor"&&(e.state.focused||(De(e,"focus",e,t),e.state.focused=!0,fe(e.display.wrapper,"CodeMirror-focused"),!e.curOp&&e.display.selForContextMenu!=e.doc.sel&&(e.display.input.reset(),N&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Mo(e))}function ln(e,t){e.state.delayingBlurEvent||(e.state.focused&&(De(e,"blur",e,t),e.state.focused=!1,he(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function Mi(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=Math.max(0,t.scroller.getBoundingClientRect().top),o=t.lineDiv.getBoundingClientRect().top,l=0,u=0;u<t.view.length;u++){var f=t.view[u],c=e.options.lineWrapping,d=void 0,y=0;if(!f.hidden){if(o+=f.line.height,S&&A<8){var x=f.node.offsetTop+f.node.offsetHeight;d=x-n,n=x}else{var L=f.node.getBoundingClientRect();d=L.bottom-L.top,!c&&f.text.firstChild&&(y=f.text.firstChild.getBoundingClientRect().right-L.left-1)}var k=f.line.height-d;if((k>.005||k<-.005)&&(o<r&&(l-=k),At(f.line,d),da(f.line),f.rest))for(var O=0;O<f.rest.length;O++)da(f.rest[O]);if(y>e.display.sizerWidth){var B=Math.ceil(y/on(e.display));B>e.display.maxLineLength&&(e.display.maxLineLength=B,e.display.maxLine=f.line,e.display.maxLineChanged=!0)}}}Math.abs(l)>2&&(t.scroller.scrollTop+=l)}function da(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function Oi(e,t,n){var r=n&&n.top!=null?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-ki(e));var o=n&&n.bottom!=null?n.bottom:r+e.wrapper.clientHeight,l=b(t,r),u=b(t,o);if(n&&n.ensure){var f=n.ensure.from.line,c=n.ensure.to.line;f<l?(l=f,u=b(t,nr(Z(t,f))+e.wrapper.clientHeight)):Math.min(c,t.lastLine())>=u&&(l=b(t,nr(Z(t,c))-e.wrapper.clientHeight),u=c)}return{from:l,to:Math.max(u,l+1)}}function Nf(e,t){if(!Fe(e,"scrollCursorIntoView")){var n=e.display,r=n.sizer.getBoundingClientRect(),o=null,l=n.wrapper.ownerDocument;if(t.top+r.top<0?o=!0:t.bottom+r.top>(l.defaultView.innerHeight||l.documentElement.clientHeight)&&(o=!1),o!=null&&!H){var u=w("div","​",null,`position: absolute;
                         top: `+(t.top-n.viewOffset-ki(e.display))+`px;
                         height: `+(t.bottom-t.top+qt(e)+n.barHeight)+`px;
                         left: `+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(u),u.scrollIntoView(o),e.display.lineSpace.removeChild(u)}}}function Df(e,t,n,r){r==null&&(r=0);var o;!e.options.lineWrapping&&t==n&&(n=t.sticky=="before"?T(t.line,t.ch+1,"before"):t,t=t.ch?T(t.line,t.sticky=="before"?t.ch-1:t.ch,"after"):t);for(var l=0;l<5;l++){var u=!1,f=Wt(e,t),c=!n||n==t?f:Wt(e,n);o={left:Math.min(f.left,c.left),top:Math.min(f.top,c.top)-r,right:Math.max(f.left,c.left),bottom:Math.max(f.bottom,c.bottom)+r};var d=No(e,o),y=e.doc.scrollTop,x=e.doc.scrollLeft;if(d.scrollTop!=null&&(_n(e,d.scrollTop),Math.abs(e.doc.scrollTop-y)>1&&(u=!0)),d.scrollLeft!=null&&(Hr(e,d.scrollLeft),Math.abs(e.doc.scrollLeft-x)>1&&(u=!0)),!u)break}return o}function Ff(e,t){var n=No(e,t);n.scrollTop!=null&&_n(e,n.scrollTop),n.scrollLeft!=null&&Hr(e,n.scrollLeft)}function No(e,t){var n=e.display,r=nn(e.display);t.top<0&&(t.top=0);var o=e.curOp&&e.curOp.scrollTop!=null?e.curOp.scrollTop:n.scroller.scrollTop,l=bo(e),u={};t.bottom-t.top>l&&(t.bottom=t.top+l);var f=e.doc.height+yo(n),c=t.top<r,d=t.bottom>f-r;if(t.top<o)u.scrollTop=c?0:t.top;else if(t.bottom>o+l){var y=Math.min(t.top,(d?f:t.bottom)-l);y!=o&&(u.scrollTop=y)}var x=e.options.fixedGutter?0:n.gutters.offsetWidth,L=e.curOp&&e.curOp.scrollLeft!=null?e.curOp.scrollLeft:n.scroller.scrollLeft-x,k=Nr(e)-n.gutters.offsetWidth,O=t.right-t.left>k;return O&&(t.right=t.left+k),t.left<10?u.scrollLeft=0:t.left<L?u.scrollLeft=Math.max(0,t.left+x-(O?0:10)):t.right>k+L-3&&(u.scrollLeft=t.right+(O?0:10)-k),u}function Do(e,t){t!=null&&(Ii(e),e.curOp.scrollTop=(e.curOp.scrollTop==null?e.doc.scrollTop:e.curOp.scrollTop)+t)}function an(e){Ii(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Rn(e,t,n){(t!=null||n!=null)&&Ii(e),t!=null&&(e.curOp.scrollLeft=t),n!=null&&(e.curOp.scrollTop=n)}function Bf(e,t){Ii(e),e.curOp.scrollToPos=t}function Ii(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=la(e,t.from),r=la(e,t.to);pa(e,n,r,t.margin)}}function pa(e,t,n,r){var o=No(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-r,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+r});Rn(e,o.scrollLeft,o.scrollTop)}function _n(e,t){Math.abs(e.doc.scrollTop-t)<2||(h||Bo(e,{top:t}),va(e,t,!0),h&&Bo(e),Gn(e,100))}function va(e,t,n){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),!(e.display.scroller.scrollTop==t&&!n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function Hr(e,t,n,r){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),!((n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!r)&&(e.doc.scrollLeft=t,xa(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Un(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+yo(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+qt(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}var Wr=function(e,t,n){this.cm=n;var r=this.vert=w("div",[w("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=w("div",[w("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");r.tabIndex=o.tabIndex=-1,e(r),e(o),ne(r,"scroll",function(){r.clientHeight&&t(r.scrollTop,"vertical")}),ne(o,"scroll",function(){o.clientWidth&&t(o.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,S&&A<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Wr.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var o=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+o)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var l=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+l)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(r==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},Wr.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Wr.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Wr.prototype.zeroWidthHack=function(){var e=ce&&!ue?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Ut,this.disableVert=new Ut},Wr.prototype.enableZeroWidthBar=function(e,t,n){e.style.visibility="";function r(){var o=e.getBoundingClientRect(),l=n=="vert"?document.elementFromPoint(o.right-1,(o.top+o.bottom)/2):document.elementFromPoint((o.right+o.left)/2,o.bottom-1);l!=e?e.style.visibility="hidden":t.set(1e3,r)}t.set(1e3,r)},Wr.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var zn=function(){};zn.prototype.update=function(){return{bottom:0,right:0}},zn.prototype.setScrollLeft=function(){},zn.prototype.setScrollTop=function(){},zn.prototype.clear=function(){};function sn(e,t){t||(t=Un(e));var n=e.display.barWidth,r=e.display.barHeight;ga(e,t);for(var o=0;o<4&&n!=e.display.barWidth||r!=e.display.barHeight;o++)n!=e.display.barWidth&&e.options.lineWrapping&&Mi(e),ga(e,Un(e)),n=e.display.barWidth,r=e.display.barHeight}function ga(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}var ma={native:Wr,null:zn};function ya(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&he(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new ma[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),ne(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,n){n=="horizontal"?Hr(e,t):_n(e,t)},e),e.display.scrollbars.addClass&&fe(e.display.wrapper,e.display.scrollbars.addClass)}var Hf=0;function Pr(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Hf,markArrays:null},df(e.curOp)}function Rr(e){var t=e.curOp;t&&vf(t,function(n){for(var r=0;r<n.ops.length;r++)n.ops[r].cm.curOp=null;Wf(n)})}function Wf(e){for(var t=e.ops,n=0;n<t.length;n++)Pf(t[n]);for(var r=0;r<t.length;r++)Rf(t[r]);for(var o=0;o<t.length;o++)_f(t[o]);for(var l=0;l<t.length;l++)Uf(t[l]);for(var u=0;u<t.length;u++)zf(t[u])}function Pf(e){var t=e.cm,n=t.display;Yf(t),e.updateMaxLine&&go(t),e.mustUpdate=e.viewChanged||e.forceUpdate||e.scrollTop!=null||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new Ni(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Rf(e){e.updatedDisplay=e.mustUpdate&&Fo(e.cm,e.update)}function _f(e){var t=e.cm,n=t.display;e.updatedDisplay&&Mi(t),e.barMeasure=Un(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Vl(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+qt(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Nr(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function Uf(e){var t=e.cm;e.adjustWidthTo!=null&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Hr(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==le(we(t));e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&sn(t,e.barMeasure),e.updatedDisplay&&Wo(t,e.barMeasure),e.selectionChanged&&Mo(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&ha(e.cm)}function zf(e){var t=e.cm,n=t.display,r=t.doc;if(e.updatedDisplay&&ba(t,e.update),n.wheelStartX!=null&&(e.scrollTop!=null||e.scrollLeft!=null||e.scrollToPos)&&(n.wheelStartX=n.wheelStartY=null),e.scrollTop!=null&&va(t,e.scrollTop,e.forceScroll),e.scrollLeft!=null&&Hr(t,e.scrollLeft,!0,!0),e.scrollToPos){var o=Df(t,pe(r,e.scrollToPos.from),pe(r,e.scrollToPos.to),e.scrollToPos.margin);Nf(t,o)}var l=e.maybeHiddenMarkers,u=e.maybeUnhiddenMarkers;if(l)for(var f=0;f<l.length;++f)l[f].lines.length||De(l[f],"hide");if(u)for(var c=0;c<u.length;++c)u[c].lines.length&&De(u[c],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&De(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Ct(e,t){if(e.curOp)return t();Pr(e);try{return t()}finally{Rr(e)}}function je(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Pr(e);try{return t.apply(e,arguments)}finally{Rr(e)}}}function ot(e){return function(){if(this.curOp)return e.apply(this,arguments);Pr(this);try{return e.apply(this,arguments)}finally{Rr(this)}}}function qe(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Pr(t);try{return e.apply(this,arguments)}finally{Rr(t)}}}function Gn(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,re(Gf,e))}function Gf(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=Nn(e,t.highlightFrontier),o=[];t.iter(r.line,Math.min(t.first+t.size,e.display.viewTo+500),function(l){if(r.line>=e.display.viewFrom){var u=l.styles,f=l.text.length>e.options.maxHighlightLength?Kt(t.mode,r.state):null,c=Tl(e,l,r,!0);f&&(r.state=f),l.styles=c.styles;var d=l.styleClasses,y=c.classes;y?l.styleClasses=y:d&&(l.styleClasses=null);for(var x=!u||u.length!=l.styles.length||d!=y&&(!d||!y||d.bgClass!=y.bgClass||d.textClass!=y.textClass),L=0;!x&&L<u.length;++L)x=u[L]!=l.styles[L];x&&o.push(r.line),l.stateAfter=r.save(),r.nextLine()}else l.text.length<=e.options.maxHighlightLength&&uo(e,l.text,r),l.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return Gn(e,e.options.workDelay),!0}),t.highlightFrontier=r.line,t.modeFrontier=Math.max(t.modeFrontier,r.line),o.length&&Ct(e,function(){for(var l=0;l<o.length;l++)yr(e,o[l],"text")})}}var Ni=function(e,t,n){var r=e.display;this.viewport=t,this.visible=Oi(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Nr(e),this.force=n,this.dims=Lo(e),this.events=[]};Ni.prototype.signal=function(e,t){wt(e,t)&&this.events.push(arguments)},Ni.prototype.finish=function(){for(var e=0;e<this.events.length;e++)De.apply(null,this.events[e])};function Yf(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=qt(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=qt(e)+"px",t.scrollbarsClipped=!0)}function Kf(e){if(e.hasFocus())return null;var t=le(we(e));if(!t||!j(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var r=de(e).getSelection();r.anchorNode&&r.extend&&j(e.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}function jf(e){if(!(!e||!e.activeElt||e.activeElt==le(xe(e.activeElt)))&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&j(document.body,e.anchorNode)&&j(document.body,e.focusNode))){var t=e.activeElt.ownerDocument,n=t.defaultView.getSelection(),r=t.createRange();r.setEnd(e.anchorNode,e.anchorOffset),r.collapse(!1),n.removeAllRanges(),n.addRange(r),n.extend(e.focusNode,e.focusOffset)}}function Fo(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return br(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(n.updateLineNumbers==null||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&fa(e)==0)return!1;wa(e)&&(br(e),t.dims=Lo(e));var o=r.first+r.size,l=Math.max(t.visible.from-e.options.viewportMargin,r.first),u=Math.min(o,t.visible.to+e.options.viewportMargin);n.viewFrom<l&&l-n.viewFrom<20&&(l=Math.max(r.first,n.viewFrom)),n.viewTo>u&&n.viewTo-u<20&&(u=Math.min(o,n.viewTo)),rr&&(l=po(e.doc,l),u=_l(e.doc,u));var f=l!=n.viewFrom||u!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;Of(e,l,u),n.viewOffset=nr(Z(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var c=fa(e);if(!f&&c==0&&!t.force&&n.renderedView==n.view&&(n.updateLineNumbers==null||n.updateLineNumbers>=n.viewTo))return!1;var d=Kf(e);return c>4&&(n.lineDiv.style.display="none"),qf(e,n.updateLineNumbers,t.dims),c>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,jf(d),E(n.cursorDiv),E(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,f&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,Gn(e,400)),n.updateLineNumbers=null,!0}function ba(e,t){for(var n=t.viewport,r=!0;;r=!1){if(!r||!e.options.lineWrapping||t.oldDisplayWidth==Nr(e)){if(n&&n.top!=null&&(n={top:Math.min(e.doc.height+yo(e.display)-bo(e),n.top)}),t.visible=Oi(e.display,e.doc,n),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break}else r&&(t.visible=Oi(e.display,e.doc,n));if(!Fo(e,t))break;Mi(e);var o=Un(e);Pn(e),sn(e,o),Wo(e,o),t.force=!1}t.signal(e,"update",e),(e.display.viewFrom!=e.display.reportedViewFrom||e.display.viewTo!=e.display.reportedViewTo)&&(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Bo(e,t){var n=new Ni(e,t);if(Fo(e,n)){Mi(e),ba(e,n);var r=Un(e);Pn(e),sn(e,r),Wo(e,r),n.finish()}}function qf(e,t,n){var r=e.display,o=e.options.lineNumbers,l=r.lineDiv,u=l.firstChild;function f(O){var B=O.nextSibling;return N&&ce&&e.display.currentWheelTarget==O?O.style.display="none":O.parentNode.removeChild(O),B}for(var c=r.view,d=r.viewFrom,y=0;y<c.length;y++){var x=c[y];if(!x.hidden)if(!x.node||x.node.parentNode!=l){var L=xf(e,x,d,n);l.insertBefore(L,u)}else{for(;u!=x.node;)u=f(u);var k=o&&t!=null&&t<=d&&x.lineNumber;x.changes&&(me(x.changes,"gutter")>-1&&(k=!1),Kl(e,x,d,n)),k&&(E(x.lineNumber),x.lineNumber.appendChild(document.createTextNode(_(e.options,d)))),u=x.node.nextSibling}d+=x.size}for(;u;)u=f(u)}function Ho(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px",Ke(e,"gutterChanged",e)}function Wo(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+qt(e)+"px"}function xa(e){var t=e.display,n=t.view;if(!(!t.alignWidgets&&(!t.gutters.firstChild||!e.options.fixedGutter))){for(var r=To(t)-t.scroller.scrollLeft+e.doc.scrollLeft,o=t.gutters.offsetWidth,l=r+"px",u=0;u<n.length;u++)if(!n[u].hidden){e.options.fixedGutter&&(n[u].gutter&&(n[u].gutter.style.left=l),n[u].gutterBackground&&(n[u].gutterBackground.style.left=l));var f=n[u].alignable;if(f)for(var c=0;c<f.length;c++)f[c].style.left=l}e.options.fixedGutter&&(t.gutters.style.left=r+o+"px")}}function wa(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=_(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var o=r.measure.appendChild(w("div",[w("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),l=o.firstChild.offsetWidth,u=o.offsetWidth-l;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(l,r.lineGutter.offsetWidth-u)+1,r.lineNumWidth=r.lineNumInnerWidth+u,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",Ho(e.display),!0}return!1}function Po(e,t){for(var n=[],r=!1,o=0;o<e.length;o++){var l=e[o],u=null;if(typeof l!="string"&&(u=l.style,l=l.className),l=="CodeMirror-linenumbers")if(t)r=!0;else continue;n.push({className:l,style:u})}return t&&!r&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function Ca(e){var t=e.gutters,n=e.gutterSpecs;E(t),e.lineGutter=null;for(var r=0;r<n.length;++r){var o=n[r],l=o.className,u=o.style,f=t.appendChild(w("div",null,"CodeMirror-gutter "+l));u&&(f.style.cssText=u),l=="CodeMirror-linenumbers"&&(e.lineGutter=f,f.style.width=(e.lineNumWidth||1)+"px")}t.style.display=n.length?"":"none",Ho(e)}function Yn(e){Ca(e.display),vt(e),xa(e)}function Xf(e,t,n,r){var o=this;this.input=n,o.scrollbarFiller=w("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=w("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=Me("div",null,"CodeMirror-code"),o.selectionDiv=w("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=w("div",null,"CodeMirror-cursors"),o.measure=w("div",null,"CodeMirror-measure"),o.lineMeasure=w("div",null,"CodeMirror-measure"),o.lineSpace=Me("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var l=Me("div",[o.lineSpace],"CodeMirror-lines");o.mover=w("div",[l],null,"position: relative"),o.sizer=w("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=w("div",null,null,"position: absolute; height: "+it+"px; width: 1px;"),o.gutters=w("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=w("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=w("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),M&&P>=105&&(o.wrapper.style.clipPath="inset(0px)"),o.wrapper.setAttribute("translate","no"),S&&A<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),!N&&!(h&&oe)&&(o.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(o.wrapper):e(o.wrapper)),o.viewFrom=o.viewTo=t.first,o.reportedViewFrom=o.reportedViewTo=t.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,o.gutterSpecs=Po(r.gutters,r.lineNumbers),Ca(o),n.init(o)}var Di=0,or=null;S?or=-.53:h?or=15:M?or=-.7:se&&(or=-1/3);function Sa(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return t==null&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),n==null&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:n==null&&(n=e.wheelDelta),{x:t,y:n}}function Jf(e){var t=Sa(e);return t.x*=or,t.y*=or,t}function ka(e,t){M&&P==102&&(e.display.chromeScrollHack==null?e.display.sizer.style.pointerEvents="none":clearTimeout(e.display.chromeScrollHack),e.display.chromeScrollHack=setTimeout(function(){e.display.chromeScrollHack=null,e.display.sizer.style.pointerEvents=""},100));var n=Sa(t),r=n.x,o=n.y,l=or;t.deltaMode===0&&(r=t.deltaX,o=t.deltaY,l=1);var u=e.display,f=u.scroller,c=f.scrollWidth>f.clientWidth,d=f.scrollHeight>f.clientHeight;if(r&&c||o&&d){if(o&&ce&&N){e:for(var y=t.target,x=u.view;y!=f;y=y.parentNode)for(var L=0;L<x.length;L++)if(x[L].node==y){e.display.currentWheelTarget=y;break e}}if(r&&!h&&!G&&l!=null){o&&d&&_n(e,Math.max(0,f.scrollTop+o*l)),Hr(e,Math.max(0,f.scrollLeft+r*l)),(!o||o&&d)&&$e(t),u.wheelStartX=null;return}if(o&&l!=null){var k=o*l,O=e.doc.scrollTop,B=O+u.wrapper.clientHeight;k<0?O=Math.max(0,O+k-50):B=Math.min(e.doc.height,B+k+50),Bo(e,{top:O,bottom:B})}Di<20&&t.deltaMode!==0&&(u.wheelStartX==null?(u.wheelStartX=f.scrollLeft,u.wheelStartY=f.scrollTop,u.wheelDX=r,u.wheelDY=o,setTimeout(function(){if(u.wheelStartX!=null){var U=f.scrollLeft-u.wheelStartX,Y=f.scrollTop-u.wheelStartY,X=Y&&u.wheelDY&&Y/u.wheelDY||U&&u.wheelDX&&U/u.wheelDX;u.wheelStartX=u.wheelStartY=null,X&&(or=(or*Di+X)/(Di+1),++Di)}},200)):(u.wheelDX+=r,u.wheelDY+=o))}}var Et=function(e,t){this.ranges=e,this.primIndex=t};Et.prototype.primary=function(){return this.ranges[this.primIndex]},Et.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(!Se(n.anchor,r.anchor)||!Se(n.head,r.head))return!1}return!0},Et.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new ke(Ye(this.ranges[t].anchor),Ye(this.ranges[t].head));return new Et(e,this.primIndex)},Et.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},Et.prototype.contains=function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(q(t,r.from())>=0&&q(e,r.to())<=0)return n}return-1};var ke=function(e,t){this.anchor=e,this.head=t};ke.prototype.from=function(){return $r(this.anchor,this.head)},ke.prototype.to=function(){return pt(this.anchor,this.head)},ke.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function Pt(e,t,n){var r=e&&e.options.selectionsMayTouch,o=t[n];t.sort(function(L,k){return q(L.from(),k.from())}),n=me(t,o);for(var l=1;l<t.length;l++){var u=t[l],f=t[l-1],c=q(f.to(),u.from());if(r&&!u.empty()?c>0:c>=0){var d=$r(f.from(),u.from()),y=pt(f.to(),u.to()),x=f.empty()?u.from()==u.head:f.from()==f.head;l<=n&&--n,t.splice(--l,2,new ke(x?y:d,x?d:y))}}return new Et(t,n)}function xr(e,t){return new Et([new ke(e,t||e)],0)}function wr(e){return e.text?T(e.from.line+e.text.length-1,Ce(e.text).length+(e.text.length==1?e.from.ch:0)):e.to}function La(e,t){if(q(e,t.from)<0)return e;if(q(e,t.to)<=0)return wr(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=wr(t).ch-t.to.ch),T(n,r)}function Ro(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var o=e.sel.ranges[r];n.push(new ke(La(o.anchor,t),La(o.head,t)))}return Pt(e.cm,n,e.sel.primIndex)}function Ta(e,t,n){return e.line==t.line?T(n.line,e.ch-t.ch+n.ch):T(n.line+(e.line-t.line),e.ch)}function Qf(e,t,n){for(var r=[],o=T(e.first,0),l=o,u=0;u<t.length;u++){var f=t[u],c=Ta(f.from,o,l),d=Ta(wr(f),o,l);if(o=f.to,l=d,n=="around"){var y=e.sel.ranges[u],x=q(y.head,y.anchor)<0;r[u]=new ke(x?d:c,x?c:d)}else r[u]=new ke(c,c)}return new Et(r,e.sel.primIndex)}function _o(e){e.doc.mode=Qr(e.options,e.doc.modeOption),Kn(e)}function Kn(e){e.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,Gn(e,100),e.state.modeGen++,e.curOp&&vt(e)}function Aa(e,t){return t.from.ch==0&&t.to.ch==0&&Ce(t.text)==""&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Uo(e,t,n,r){function o(X){return n?n[X]:null}function l(X,K,Q){nf(X,K,Q,r),Ke(X,"change",X,t)}function u(X,K){for(var Q=[],ie=X;ie<K;++ie)Q.push(new en(d[ie],o(ie),r));return Q}var f=t.from,c=t.to,d=t.text,y=Z(e,f.line),x=Z(e,c.line),L=Ce(d),k=o(d.length-1),O=c.line-f.line;if(t.full)e.insert(0,u(0,d.length)),e.remove(d.length,e.size-d.length);else if(Aa(e,t)){var B=u(0,d.length-1);l(x,x.text,k),O&&e.remove(f.line,O),B.length&&e.insert(f.line,B)}else if(y==x)if(d.length==1)l(y,y.text.slice(0,f.ch)+L+y.text.slice(c.ch),k);else{var U=u(1,d.length-1);U.push(new en(L+y.text.slice(c.ch),k,r)),l(y,y.text.slice(0,f.ch)+d[0],o(0)),e.insert(f.line+1,U)}else if(d.length==1)l(y,y.text.slice(0,f.ch)+d[0]+x.text.slice(c.ch),o(0)),e.remove(f.line+1,O);else{l(y,y.text.slice(0,f.ch)+d[0],o(0)),l(x,L+x.text.slice(c.ch),k);var Y=u(1,d.length-1);O>1&&e.remove(f.line+1,O-1),e.insert(f.line+1,Y)}Ke(e,"change",e,t)}function Cr(e,t,n){function r(o,l,u){if(o.linked)for(var f=0;f<o.linked.length;++f){var c=o.linked[f];if(c.doc!=l){var d=u&&c.sharedHist;n&&!d||(t(c.doc,d),r(c.doc,o,d))}}}r(e,null,!0)}function Ea(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,Ao(e),_o(e),Ma(e),e.options.direction=t.direction,e.options.lineWrapping||go(e),e.options.mode=t.modeOption,vt(e)}function Ma(e){(e.doc.direction=="rtl"?fe:he)(e.display.lineDiv,"CodeMirror-rtl")}function Zf(e){Ct(e,function(){Ma(e),vt(e)})}function Fi(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}function zo(e,t){var n={from:Ye(t.from),to:wr(t),text:tr(e,t.from,t.to)};return Na(e,n,t.from.line,t.to.line+1),Cr(e,function(r){return Na(r,n,t.from.line,t.to.line+1)},!0),n}function Oa(e){for(;e.length;){var t=Ce(e);if(t.ranges)e.pop();else break}}function Vf(e,t){if(t)return Oa(e.done),Ce(e.done);if(e.done.length&&!Ce(e.done).ranges)return Ce(e.done);if(e.done.length>1&&!e.done[e.done.length-2].ranges)return e.done.pop(),Ce(e.done)}function Ia(e,t,n,r){var o=e.history;o.undone.length=0;var l=+new Date,u,f;if((o.lastOp==r||o.lastOrigin==t.origin&&t.origin&&(t.origin.charAt(0)=="+"&&o.lastModTime>l-(e.cm?e.cm.options.historyEventDelay:500)||t.origin.charAt(0)=="*"))&&(u=Vf(o,o.lastOp==r)))f=Ce(u.changes),q(t.from,t.to)==0&&q(t.from,f.to)==0?f.to=wr(t):u.changes.push(zo(e,t));else{var c=Ce(o.done);for((!c||!c.ranges)&&Bi(e.sel,o.done),u={changes:[zo(e,t)],generation:o.generation},o.done.push(u);o.done.length>o.undoDepth;)o.done.shift(),o.done[0].ranges||o.done.shift()}o.done.push(n),o.generation=++o.maxGeneration,o.lastModTime=o.lastSelTime=l,o.lastOp=o.lastSelOp=r,o.lastOrigin=o.lastSelOrigin=t.origin,f||De(e,"historyAdded")}function $f(e,t,n,r){var o=t.charAt(0);return o=="*"||o=="+"&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function ec(e,t,n,r){var o=e.history,l=r&&r.origin;n==o.lastSelOp||l&&o.lastSelOrigin==l&&(o.lastModTime==o.lastSelTime&&o.lastOrigin==l||$f(e,l,Ce(o.done),t))?o.done[o.done.length-1]=t:Bi(t,o.done),o.lastSelTime=+new Date,o.lastSelOrigin=l,o.lastSelOp=n,r&&r.clearRedo!==!1&&Oa(o.undone)}function Bi(e,t){var n=Ce(t);n&&n.ranges&&n.equals(e)||t.push(e)}function Na(e,t,n,r){var o=t["spans_"+e.id],l=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),function(u){u.markedSpans&&((o||(o=t["spans_"+e.id]={}))[l]=u.markedSpans),++l})}function tc(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function rc(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=[],o=0;o<t.text.length;++o)r.push(tc(n[o]));return r}function Da(e,t){var n=rc(e,t),r=co(e,t);if(!n)return r;if(!r)return n;for(var o=0;o<n.length;++o){var l=n[o],u=r[o];if(l&&u)e:for(var f=0;f<u.length;++f){for(var c=u[f],d=0;d<l.length;++d)if(l[d].marker==c.marker)continue e;l.push(c)}else u&&(n[o]=u)}return n}function un(e,t,n){for(var r=[],o=0;o<e.length;++o){var l=e[o];if(l.ranges){r.push(n?Et.prototype.deepCopy.call(l):l);continue}var u=l.changes,f=[];r.push({changes:f});for(var c=0;c<u.length;++c){var d=u[c],y=void 0;if(f.push({from:d.from,to:d.to,text:d.text}),t)for(var x in d)(y=x.match(/^spans_(\d+)$/))&&me(t,Number(y[1]))>-1&&(Ce(f)[x]=d[x],delete d[x])}}return r}function Go(e,t,n,r){if(r){var o=e.anchor;if(n){var l=q(t,o)<0;l!=q(n,o)<0?(o=t,t=n):l!=q(t,n)<0&&(t=n)}return new ke(o,t)}else return new ke(n||t,t)}function Hi(e,t,n,r,o){o==null&&(o=e.cm&&(e.cm.display.shift||e.extend)),et(e,new Et([Go(e.sel.primary(),t,n,o)],0),r)}function Fa(e,t,n){for(var r=[],o=e.cm&&(e.cm.display.shift||e.extend),l=0;l<e.sel.ranges.length;l++)r[l]=Go(e.sel.ranges[l],t[l],null,o);var u=Pt(e.cm,r,e.sel.primIndex);et(e,u,n)}function Yo(e,t,n,r){var o=e.sel.ranges.slice(0);o[t]=n,et(e,Pt(e.cm,o,e.sel.primIndex),r)}function Ba(e,t,n,r){et(e,xr(t,n),r)}function nc(e,t,n){var r={ranges:t.ranges,update:function(o){this.ranges=[];for(var l=0;l<o.length;l++)this.ranges[l]=new ke(pe(e,o[l].anchor),pe(e,o[l].head))},origin:n&&n.origin};return De(e,"beforeSelectionChange",e,r),e.cm&&De(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?Pt(e.cm,r.ranges,r.ranges.length-1):t}function Ha(e,t,n){var r=e.history.done,o=Ce(r);o&&o.ranges?(r[r.length-1]=t,Wi(e,t,n)):et(e,t,n)}function et(e,t,n){Wi(e,t,n),ec(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function Wi(e,t,n){(wt(e,"beforeSelectionChange")||e.cm&&wt(e.cm,"beforeSelectionChange"))&&(t=nc(e,t,n));var r=n&&n.bias||(q(t.primary().head,e.sel.primary().head)<0?-1:1);Wa(e,Ra(e,t,r,!0)),!(n&&n.scroll===!1)&&e.cm&&e.cm.getOption("readOnly")!="nocursor"&&an(e.cm)}function Wa(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,Mt(e.cm)),Ke(e,"cursorActivity",e))}function Pa(e){Wa(e,Ra(e,e.sel,null,!1))}function Ra(e,t,n,r){for(var o,l=0;l<t.ranges.length;l++){var u=t.ranges[l],f=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[l],c=Pi(e,u.anchor,f&&f.anchor,n,r),d=u.head==u.anchor?c:Pi(e,u.head,f&&f.head,n,r);(o||c!=u.anchor||d!=u.head)&&(o||(o=t.ranges.slice(0,l)),o[l]=new ke(c,d))}return o?Pt(e.cm,o,t.primIndex):t}function fn(e,t,n,r,o){var l=Z(e,t.line);if(l.markedSpans)for(var u=0;u<l.markedSpans.length;++u){var f=l.markedSpans[u],c=f.marker,d="selectLeft"in c?!c.selectLeft:c.inclusiveLeft,y="selectRight"in c?!c.selectRight:c.inclusiveRight;if((f.from==null||(d?f.from<=t.ch:f.from<t.ch))&&(f.to==null||(y?f.to>=t.ch:f.to>t.ch))){if(o&&(De(c,"beforeCursorEnter"),c.explicitlyCleared))if(l.markedSpans){--u;continue}else break;if(!c.atomic)continue;if(n){var x=c.find(r<0?1:-1),L=void 0;if((r<0?y:d)&&(x=_a(e,x,-r,x&&x.line==t.line?l:null)),x&&x.line==t.line&&(L=q(x,n))&&(r<0?L<0:L>0))return fn(e,x,t,r,o)}var k=c.find(r<0?-1:1);return(r<0?d:y)&&(k=_a(e,k,r,k.line==t.line?l:null)),k?fn(e,k,t,r,o):null}}return t}function Pi(e,t,n,r,o){var l=r||1,u=fn(e,t,n,l,o)||!o&&fn(e,t,n,l,!0)||fn(e,t,n,-l,o)||!o&&fn(e,t,n,-l,!0);return u||(e.cantEdit=!0,T(e.first,0))}function _a(e,t,n,r){return n<0&&t.ch==0?t.line>e.first?pe(e,T(t.line-1)):null:n>0&&t.ch==(r||Z(e,t.line)).text.length?t.line<e.first+e.size-1?T(t.line+1,0):null:new T(t.line,t.ch+n)}function Ua(e){e.setSelection(T(e.firstLine(),0),T(e.lastLine()),Lt)}function za(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(o,l,u,f){o&&(r.from=pe(e,o)),l&&(r.to=pe(e,l)),u&&(r.text=u),f!==void 0&&(r.origin=f)}),De(e,"beforeChange",e,r),e.cm&&De(e.cm,"beforeChange",e.cm,r),r.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:r.from,to:r.to,text:r.text,origin:r.origin}}function cn(e,t,n){if(e.cm){if(!e.cm.curOp)return je(e.cm,cn)(e,t,n);if(e.cm.state.suppressEdits)return}if(!((wt(e,"beforeChange")||e.cm&&wt(e.cm,"beforeChange"))&&(t=za(e,t,!0),!t))){var r=Dl&&!n&&$u(e,t.from,t.to);if(r)for(var o=r.length-1;o>=0;--o)Ga(e,{from:r[o].from,to:r[o].to,text:o?[""]:t.text,origin:t.origin});else Ga(e,t)}}function Ga(e,t){if(!(t.text.length==1&&t.text[0]==""&&q(t.from,t.to)==0)){var n=Ro(e,t);Ia(e,t,n,e.cm?e.cm.curOp.id:NaN),jn(e,t,n,co(e,t));var r=[];Cr(e,function(o,l){!l&&me(r,o.history)==-1&&(qa(o.history,t),r.push(o.history)),jn(o,t,null,co(o,t))})}}function Ri(e,t,n){var r=e.cm&&e.cm.state.suppressEdits;if(!(r&&!n)){for(var o=e.history,l,u=e.sel,f=t=="undo"?o.done:o.undone,c=t=="undo"?o.undone:o.done,d=0;d<f.length&&(l=f[d],!(n?l.ranges&&!l.equals(e.sel):!l.ranges));d++);if(d!=f.length){for(o.lastOrigin=o.lastSelOrigin=null;;)if(l=f.pop(),l.ranges){if(Bi(l,c),n&&!l.equals(e.sel)){et(e,l,{clearRedo:!1});return}u=l}else if(r){f.push(l);return}else break;var y=[];Bi(u,c),c.push({changes:y,generation:o.generation}),o.generation=l.generation||++o.maxGeneration;for(var x=wt(e,"beforeChange")||e.cm&&wt(e.cm,"beforeChange"),L=function(B){var U=l.changes[B];if(U.origin=t,x&&!za(e,U,!1))return f.length=0,{};y.push(zo(e,U));var Y=B?Ro(e,U):Ce(f);jn(e,U,Y,Da(e,U)),!B&&e.cm&&e.cm.scrollIntoView({from:U.from,to:wr(U)});var X=[];Cr(e,function(K,Q){!Q&&me(X,K.history)==-1&&(qa(K.history,U),X.push(K.history)),jn(K,U,null,Da(K,U))})},k=l.changes.length-1;k>=0;--k){var O=L(k);if(O)return O.v}}}}function Ya(e,t){if(t!=0&&(e.first+=t,e.sel=new Et(Mr(e.sel.ranges,function(o){return new ke(T(o.anchor.line+t,o.anchor.ch),T(o.head.line+t,o.head.ch))}),e.sel.primIndex),e.cm)){vt(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)yr(e.cm,r,"gutter")}}function jn(e,t,n,r){if(e.cm&&!e.cm.curOp)return je(e.cm,jn)(e,t,n,r);if(t.to.line<e.first){Ya(e,t.text.length-1-(t.to.line-t.from.line));return}if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var o=t.text.length-1-(e.first-t.from.line);Ya(e,o),t={from:T(e.first,0),to:T(t.to.line+o,t.to.ch),text:[Ce(t.text)],origin:t.origin}}var l=e.lastLine();t.to.line>l&&(t={from:t.from,to:T(l,Z(e,l).text.length),text:[t.text[0]],origin:t.origin}),t.removed=tr(e,t.from,t.to),n||(n=Ro(e,t)),e.cm?ic(e.cm,t,r):Uo(e,t,r),Wi(e,n,Lt),e.cantEdit&&Pi(e,T(e.firstLine(),0))&&(e.cantEdit=!1)}}function ic(e,t,n){var r=e.doc,o=e.display,l=t.from,u=t.to,f=!1,c=l.line;e.options.lineWrapping||(c=v(Ht(Z(r,l.line))),r.iter(c,u.line+1,function(k){if(k==o.maxLine)return f=!0,!0})),r.sel.contains(t.from,t.to)>-1&&Mt(e),Uo(r,t,n,ua(e)),e.options.lineWrapping||(r.iter(c,l.line+t.text.length,function(k){var O=Ci(k);O>o.maxLineLength&&(o.maxLine=k,o.maxLineLength=O,o.maxLineChanged=!0,f=!1)}),f&&(e.curOp.updateMaxLine=!0)),ju(r,l.line),Gn(e,400);var d=t.text.length-(u.line-l.line)-1;t.full?vt(e):l.line==u.line&&t.text.length==1&&!Aa(e.doc,t)?yr(e,l.line,"text"):vt(e,l.line,u.line+1,d);var y=wt(e,"changes"),x=wt(e,"change");if(x||y){var L={from:l,to:u,text:t.text,removed:t.removed,origin:t.origin};x&&Ke(e,"change",e,L),y&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(L)}e.display.selForContextMenu=null}function hn(e,t,n,r,o){var l;r||(r=n),q(r,n)<0&&(l=[r,n],n=l[0],r=l[1]),typeof t=="string"&&(t=e.splitLines(t)),cn(e,{from:n,to:r,text:t,origin:o})}function Ka(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function ja(e,t,n,r){for(var o=0;o<e.length;++o){var l=e[o],u=!0;if(l.ranges){l.copied||(l=e[o]=l.deepCopy(),l.copied=!0);for(var f=0;f<l.ranges.length;f++)Ka(l.ranges[f].anchor,t,n,r),Ka(l.ranges[f].head,t,n,r);continue}for(var c=0;c<l.changes.length;++c){var d=l.changes[c];if(n<d.from.line)d.from=T(d.from.line+r,d.from.ch),d.to=T(d.to.line+r,d.to.ch);else if(t<=d.to.line){u=!1;break}}u||(e.splice(0,o+1),o=0)}}function qa(e,t){var n=t.from.line,r=t.to.line,o=t.text.length-(r-n)-1;ja(e.done,n,r,o),ja(e.undone,n,r,o)}function qn(e,t,n,r){var o=t,l=t;return typeof t=="number"?l=Z(e,kl(e,t)):o=v(t),o==null?null:(r(l,o)&&e.cm&&yr(e.cm,o,n),l)}function Xn(e){this.lines=e,this.parent=null;for(var t=0,n=0;n<e.length;++n)e[n].parent=this,t+=e[n].height;this.height=t}Xn.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;n<r;++n){var o=this.lines[n];this.height-=o.height,of(o),Ke(o,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;e<r;++e)if(n(this.lines[e]))return!0}};function Jn(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var o=e[r];t+=o.chunkSize(),n+=o.height,o.parent=this}this.size=t,this.height=n,this.parent=null}Jn.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],o=r.chunkSize();if(e<o){var l=Math.min(t,o-e),u=r.height;if(r.removeInner(e,l),this.height-=u-r.height,o==l&&(this.children.splice(n--,1),r.parent=null),(t-=l)==0)break;e=0}else e-=o}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Xn))){var f=[];this.collapse(f),this.children=[new Xn(f)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var o=this.children[r],l=o.chunkSize();if(e<=l){if(o.insertInner(e,t,n),o.lines&&o.lines.length>50){for(var u=o.lines.length%25+25,f=u;f<o.lines.length;){var c=new Xn(o.lines.slice(f,f+=25));o.height-=c.height,this.children.splice(++r,0,c),c.parent=this}o.lines=o.lines.slice(0,u),this.maybeSpill()}break}e-=l}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new Jn(t);if(e.parent){e.size-=n.size,e.height-=n.height;var o=me(e.parent.children,e);e.parent.children.splice(o+1,0,n)}else{var r=new Jn(e.children);r.parent=e,e.children=[r,n],e=r}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var o=this.children[r],l=o.chunkSize();if(e<l){var u=Math.min(t,l-e);if(o.iterN(e,u,n))return!0;if((t-=u)==0)break;e=0}else e-=l}}};var Qn=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=e,this.node=t};Qn.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,r=v(n);if(!(r==null||!t)){for(var o=0;o<t.length;++o)t[o]==this&&t.splice(o--,1);t.length||(n.widgets=null);var l=Hn(this);At(n,Math.max(0,n.height-l)),e&&(Ct(e,function(){Xa(e,n,-l),yr(e,r,"widget")}),Ke(e,"lineWidgetCleared",e,this,r))}},Qn.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,r=this.line;this.height=null;var o=Hn(this)-t;o&&(mr(this.doc,r)||At(r,r.height+o),n&&Ct(n,function(){n.curOp.forceUpdate=!0,Xa(n,r,o),Ke(n,"lineWidgetChanged",n,e,v(r))}))},It(Qn);function Xa(e,t,n){nr(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Do(e,n)}function oc(e,t,n,r){var o=new Qn(e,n,r),l=e.cm;return l&&o.noHScroll&&(l.display.alignWidgets=!0),qn(e,t,"widget",function(u){var f=u.widgets||(u.widgets=[]);if(o.insertAt==null?f.push(o):f.splice(Math.min(f.length,Math.max(0,o.insertAt)),0,o),o.line=u,l&&!mr(e,u)){var c=nr(u)<e.scrollTop;At(u,u.height+Hn(o)),c&&Do(l,o.height),l.curOp.forceUpdate=!0}return!0}),l&&Ke(l,"lineWidgetAdded",l,o,typeof t=="number"?t:v(t)),o}var Ja=0,Sr=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++Ja};Sr.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Pr(e),wt(this,"clear")){var n=this.find();n&&Ke(this,"clear",n.from,n.to)}for(var r=null,o=null,l=0;l<this.lines.length;++l){var u=this.lines[l],f=Dn(u.markedSpans,this);e&&!this.collapsed?yr(e,v(u),"text"):e&&(f.to!=null&&(o=v(u)),f.from!=null&&(r=v(u))),u.markedSpans=Ju(u.markedSpans,f),f.from==null&&this.collapsed&&!mr(this.doc,u)&&e&&At(u,nn(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var c=0;c<this.lines.length;++c){var d=Ht(this.lines[c]),y=Ci(d);y>e.display.maxLineLength&&(e.display.maxLine=d,e.display.maxLineLength=y,e.display.maxLineChanged=!0)}r!=null&&e&&this.collapsed&&vt(e,r,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Pa(e.doc)),e&&Ke(e,"markerCleared",e,this,r,o),t&&Rr(e),this.parent&&this.parent.clear()}},Sr.prototype.find=function(e,t){e==null&&this.type=="bookmark"&&(e=1);for(var n,r,o=0;o<this.lines.length;++o){var l=this.lines[o],u=Dn(l.markedSpans,this);if(u.from!=null&&(n=T(t?l:v(l),u.from),e==-1))return n;if(u.to!=null&&(r=T(t?l:v(l),u.to),e==1))return r}return n&&{from:n,to:r}},Sr.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,r=this.doc.cm;!t||!r||Ct(r,function(){var o=t.line,l=v(t.line),u=xo(r,l);if(u&&(ta(u),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!mr(n.doc,o)&&n.height!=null){var f=n.height;n.height=null;var c=Hn(n)-f;c&&At(o,o.height+c)}Ke(r,"markerChanged",r,e)})},Sr.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(!t.maybeHiddenMarkers||me(t.maybeHiddenMarkers,this)==-1)&&(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},Sr.prototype.detachLine=function(e){if(this.lines.splice(me(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},It(Sr);function dn(e,t,n,r,o){if(r&&r.shared)return lc(e,t,n,r,o);if(e.cm&&!e.cm.curOp)return je(e.cm,dn)(e,t,n,r,o);var l=new Sr(e,o),u=q(t,n);if(r&&ge(r,l,!1),u>0||u==0&&l.clearWhenEmpty!==!1)return l;if(l.replacedWith&&(l.collapsed=!0,l.widgetNode=Me("span",[l.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||l.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(l.widgetNode.insertLeft=!0)),l.collapsed){if(Rl(e,t.line,t,n,l)||t.line!=n.line&&Rl(e,n.line,t,n,l))throw new Error("Inserting collapsed marker partially overlapping an existing one");Xu()}l.addToHistory&&Ia(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var f=t.line,c=e.cm,d;if(e.iter(f,n.line+1,function(x){c&&l.collapsed&&!c.options.lineWrapping&&Ht(x)==c.display.maxLine&&(d=!0),l.collapsed&&f!=t.line&&At(x,0),Qu(x,new yi(l,f==t.line?t.ch:null,f==n.line?n.ch:null),e.cm&&e.cm.curOp),++f}),l.collapsed&&e.iter(t.line,n.line+1,function(x){mr(e,x)&&At(x,0)}),l.clearOnEnter&&ne(l,"beforeCursorEnter",function(){return l.clear()}),l.readOnly&&(qu(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),l.collapsed&&(l.id=++Ja,l.atomic=!0),c){if(d&&(c.curOp.updateMaxLine=!0),l.collapsed)vt(c,t.line,n.line+1);else if(l.className||l.startStyle||l.endStyle||l.css||l.attributes||l.title)for(var y=t.line;y<=n.line;y++)yr(c,y,"text");l.atomic&&Pa(c.doc),Ke(c,"markerAdded",c,l)}return l}var Zn=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};Zn.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();Ke(this,"clear")}},Zn.prototype.find=function(e,t){return this.primary.find(e,t)},It(Zn);function lc(e,t,n,r,o){r=ge(r),r.shared=!1;var l=[dn(e,t,n,r,o)],u=l[0],f=r.widgetNode;return Cr(e,function(c){f&&(r.widgetNode=f.cloneNode(!0)),l.push(dn(c,pe(c,t),pe(c,n),r,o));for(var d=0;d<c.linked.length;++d)if(c.linked[d].isParent)return;u=Ce(l)}),new Zn(l,u)}function Qa(e){return e.findMarks(T(e.first,0),e.clipPos(T(e.lastLine())),function(t){return t.parent})}function ac(e,t){for(var n=0;n<t.length;n++){var r=t[n],o=r.find(),l=e.clipPos(o.from),u=e.clipPos(o.to);if(q(l,u)){var f=dn(e,l,u,r.primary,r.primary.type);r.markers.push(f),f.parent=r}}}function sc(e){for(var t=function(r){var o=e[r],l=[o.primary.doc];Cr(o.primary.doc,function(c){return l.push(c)});for(var u=0;u<o.markers.length;u++){var f=o.markers[u];me(l,f.doc)==-1&&(f.parent=null,o.markers.splice(u--,1))}},n=0;n<e.length;n++)t(n)}var uc=0,gt=function(e,t,n,r,o){if(!(this instanceof gt))return new gt(e,t,n,r,o);n==null&&(n=0),Jn.call(this,[new Xn([new en("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var l=T(n,0);this.sel=xr(l),this.history=new Fi(null),this.id=++uc,this.modeOption=t,this.lineSep=r,this.direction=o=="rtl"?"rtl":"ltr",this.extend=!1,typeof e=="string"&&(e=this.splitLines(e)),Uo(this,{from:l,to:l,text:e}),et(this,xr(l),Lt)};gt.prototype=hi(Jn.prototype,{constructor:gt,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=In(this,this.first,this.first+this.size);return e===!1?t:t.join(e||this.lineSeparator())},setValue:qe(function(e){var t=T(this.first,0),n=this.first+this.size-1;cn(this,{from:t,to:T(n,Z(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Rn(this.cm,0,0),et(this,xr(t),Lt)}),replaceRange:function(e,t,n,r){t=pe(this,t),n=n?pe(this,n):t,hn(this,e,t,n,r)},getRange:function(e,t,n){var r=tr(this,pe(this,e),pe(this,t));return n===!1?r:n===""?r.join(""):r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(D(this,e))return Z(this,e)},getLineNumber:function(e){return v(e)},getLineHandleVisualStart:function(e){return typeof e=="number"&&(e=Z(this,e)),Ht(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return pe(this,e)},getCursor:function(e){var t=this.sel.primary(),n;return e==null||e=="head"?n=t.head:e=="anchor"?n=t.anchor:e=="end"||e=="to"||e===!1?n=t.to():n=t.from(),n},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:qe(function(e,t,n){Ba(this,pe(this,typeof e=="number"?T(e,t||0):e),null,n)}),setSelection:qe(function(e,t,n){Ba(this,pe(this,e),pe(this,t||e),n)}),extendSelection:qe(function(e,t,n){Hi(this,pe(this,e),t&&pe(this,t),n)}),extendSelections:qe(function(e,t){Fa(this,Ll(this,e),t)}),extendSelectionsBy:qe(function(e,t){var n=Mr(this.sel.ranges,e);Fa(this,Ll(this,n),t)}),setSelections:qe(function(e,t,n){if(e.length){for(var r=[],o=0;o<e.length;o++)r[o]=new ke(pe(this,e[o].anchor),pe(this,e[o].head||e[o].anchor));t==null&&(t=Math.min(e.length-1,this.sel.primIndex)),et(this,Pt(this.cm,r,t),n)}}),addSelection:qe(function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new ke(pe(this,e),pe(this,t||e))),et(this,Pt(this.cm,r,r.length-1),n)}),getSelection:function(e){for(var t=this.sel.ranges,n,r=0;r<t.length;r++){var o=tr(this,t[r].from(),t[r].to());n=n?n.concat(o):o}return e===!1?n:n.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var o=tr(this,n[r].from(),n[r].to());e!==!1&&(o=o.join(e||this.lineSeparator())),t[r]=o}return t},replaceSelection:function(e,t,n){for(var r=[],o=0;o<this.sel.ranges.length;o++)r[o]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:qe(function(e,t,n){for(var r=[],o=this.sel,l=0;l<o.ranges.length;l++){var u=o.ranges[l];r[l]={from:u.from(),to:u.to(),text:this.splitLines(e[l]),origin:n}}for(var f=t&&t!="end"&&Qf(this,r,t),c=r.length-1;c>=0;c--)cn(this,r[c]);f?Ha(this,f):this.cm&&an(this.cm)}),undo:qe(function(){Ri(this,"undo")}),redo:qe(function(){Ri(this,"redo")}),undoSelection:qe(function(){Ri(this,"undo",!0)}),redoSelection:qe(function(){Ri(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var o=0;o<e.undone.length;o++)e.undone[o].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){var e=this;this.history=new Fi(this.history),Cr(this,function(t){return t.history=e.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:un(this.history.done),undone:un(this.history.undone)}},setHistory:function(e){var t=this.history=new Fi(this.history);t.done=un(e.done.slice(0),null,!0),t.undone=un(e.undone.slice(0),null,!0)},setGutterMarker:qe(function(e,t,n){return qn(this,e,"gutter",function(r){var o=r.gutterMarkers||(r.gutterMarkers={});return o[t]=n,!n&&di(o)&&(r.gutterMarkers=null),!0})}),clearGutter:qe(function(e){var t=this;this.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&qn(t,n,"gutter",function(){return n.gutterMarkers[e]=null,di(n.gutterMarkers)&&(n.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if(typeof e=="number"){if(!D(this,e)||(t=e,e=Z(this,e),!e))return null}else if(t=v(e),t==null)return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:qe(function(e,t,n){return qn(this,e,t=="gutter"?"gutter":"class",function(r){var o=t=="text"?"textClass":t=="background"?"bgClass":t=="gutter"?"gutterClass":"wrapClass";if(!r[o])r[o]=n;else{if($(n).test(r[o]))return!1;r[o]+=" "+n}return!0})}),removeLineClass:qe(function(e,t,n){return qn(this,e,t=="gutter"?"gutter":"class",function(r){var o=t=="text"?"textClass":t=="background"?"bgClass":t=="gutter"?"gutterClass":"wrapClass",l=r[o];if(l)if(n==null)r[o]=null;else{var u=l.match($(n));if(!u)return!1;var f=u.index+u[0].length;r[o]=l.slice(0,u.index)+(!u.index||f==l.length?"":" ")+l.slice(f)||null}else return!1;return!0})}),addLineWidget:qe(function(e,t,n){return oc(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return dn(this,pe(this,e),pe(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(t.nodeType==null?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=pe(this,e),dn(this,e,e,n,"bookmark")},findMarksAt:function(e){e=pe(this,e);var t=[],n=Z(this,e.line).markedSpans;if(n)for(var r=0;r<n.length;++r){var o=n[r];(o.from==null||o.from<=e.ch)&&(o.to==null||o.to>=e.ch)&&t.push(o.marker.parent||o.marker)}return t},findMarks:function(e,t,n){e=pe(this,e),t=pe(this,t);var r=[],o=e.line;return this.iter(e.line,t.line+1,function(l){var u=l.markedSpans;if(u)for(var f=0;f<u.length;f++){var c=u[f];!(c.to!=null&&o==e.line&&e.ch>=c.to||c.from==null&&o!=e.line||c.from!=null&&o==t.line&&c.from>=t.ch)&&(!n||n(c.marker))&&r.push(c.marker.parent||c.marker)}++o}),r},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)n[r].from!=null&&e.push(n[r].marker)}),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter(function(o){var l=o.text.length+r;if(l>e)return t=e,!0;e-=l,++n}),pe(this,T(n,t))},indexFromPos:function(e){e=pe(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,function(r){t+=r.text.length+n}),t},copy:function(e){var t=new gt(In(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;e.from!=null&&e.from>t&&(t=e.from),e.to!=null&&e.to<n&&(n=e.to);var r=new gt(In(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],ac(r,Qa(this)),r},unlinkDoc:function(e){if(e instanceof Oe&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t){var n=this.linked[t];if(n.doc==e){this.linked.splice(t,1),e.unlinkDoc(this),sc(Qa(this));break}}if(e.history==this.history){var r=[e.id];Cr(e,function(o){return r.push(o.id)},!0),e.history=new Fi(null),e.history.done=un(this.history.done,r),e.history.undone=un(this.history.undone,r)}},iterLinkedDocs:function(e){Cr(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Ot(e)},lineSeparator:function(){return this.lineSep||`
`},setDirection:qe(function(e){e!="rtl"&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(t){return t.order=null}),this.cm&&Zf(this.cm))})}),gt.prototype.eachLine=gt.prototype.iter;var Za=0;function fc(e){var t=this;if(Va(t),!(Fe(t,e)||ir(t.display,e))){$e(e),S&&(Za=+new Date);var n=Fr(t,e,!0),r=e.dataTransfer.files;if(!(!n||t.isReadOnly()))if(r&&r.length&&window.FileReader&&window.File)for(var o=r.length,l=Array(o),u=0,f=function(){++u==o&&je(t,function(){n=pe(t.doc,n);var k={from:n,to:n,text:t.doc.splitLines(l.filter(function(O){return O!=null}).join(t.doc.lineSeparator())),origin:"paste"};cn(t.doc,k),Ha(t.doc,xr(pe(t.doc,n),pe(t.doc,wr(k))))})()},c=function(k,O){if(t.options.allowDropFileTypes&&me(t.options.allowDropFileTypes,k.type)==-1){f();return}var B=new FileReader;B.onerror=function(){return f()},B.onload=function(){var U=B.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(U)){f();return}l[O]=U,f()},B.readAsText(k)},d=0;d<r.length;d++)c(r[d],d);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1){t.state.draggingText(e),setTimeout(function(){return t.display.input.focus()},20);return}try{var y=e.dataTransfer.getData("Text");if(y){var x;if(t.state.draggingText&&!t.state.draggingText.copy&&(x=t.listSelections()),Wi(t.doc,xr(n,n)),x)for(var L=0;L<x.length;++L)hn(t.doc,"",x[L].anchor,x[L].head,"drag");t.replaceSelection(y,"around","paste"),t.display.input.focus()}}catch{}}}}function cc(e,t){if(S&&(!e.state.draggingText||+new Date-Za<100)){dr(t);return}if(!(Fe(e,t)||ir(e.display,t))&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!se)){var n=w("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",G&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),G&&n.parentNode.removeChild(n)}}function hc(e,t){var n=Fr(e,t);if(n){var r=document.createDocumentFragment();Eo(e,n,r),e.display.dragCursor||(e.display.dragCursor=w("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),R(e.display.dragCursor,r)}}function Va(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function $a(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),n=[],r=0;r<t.length;r++){var o=t[r].CodeMirror;o&&n.push(o)}n.length&&n[0].operation(function(){for(var l=0;l<n.length;l++)e(n[l])})}}var es=!1;function dc(){es||(pc(),es=!0)}function pc(){var e;ne(window,"resize",function(){e==null&&(e=setTimeout(function(){e=null,$a(vc)},100))}),ne(window,"blur",function(){return $a(ln)})}function vc(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var kr={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Vn=0;Vn<10;Vn++)kr[Vn+48]=kr[Vn+96]=String(Vn);for(var _i=65;_i<=90;_i++)kr[_i]=String.fromCharCode(_i);for(var $n=1;$n<=12;$n++)kr[$n+111]=kr[$n+63235]="F"+$n;var lr={};lr.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},lr.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},lr.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},lr.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},lr.default=ce?lr.macDefault:lr.pcDefault;function gc(e){var t=e.split(/-(?!$)/);e=t[t.length-1];for(var n,r,o,l,u=0;u<t.length-1;u++){var f=t[u];if(/^(cmd|meta|m)$/i.test(f))l=!0;else if(/^a(lt)?$/i.test(f))n=!0;else if(/^(c|ctrl|control)$/i.test(f))r=!0;else if(/^s(hift)?$/i.test(f))o=!0;else throw new Error("Unrecognized modifier name: "+f)}return n&&(e="Alt-"+e),r&&(e="Ctrl-"+e),l&&(e="Cmd-"+e),o&&(e="Shift-"+e),e}function mc(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if(r=="..."){delete e[n];continue}for(var o=Mr(n.split(" "),gc),l=0;l<o.length;l++){var u=void 0,f=void 0;l==o.length-1?(f=o.join(" "),u=r):(f=o.slice(0,l+1).join(" "),u="...");var c=t[f];if(!c)t[f]=u;else if(c!=u)throw new Error("Inconsistent bindings for "+f)}delete e[n]}for(var d in t)e[d]=t[d];return e}function pn(e,t,n,r){t=Ui(t);var o=t.call?t.call(e,r):t[e];if(o===!1)return"nothing";if(o==="...")return"multi";if(o!=null&&n(o))return"handled";if(t.fallthrough){if(Object.prototype.toString.call(t.fallthrough)!="[object Array]")return pn(e,t.fallthrough,n,r);for(var l=0;l<t.fallthrough.length;l++){var u=pn(e,t.fallthrough[l],n,r);if(u)return u}}}function ts(e){var t=typeof e=="string"?e:kr[e.keyCode];return t=="Ctrl"||t=="Alt"||t=="Shift"||t=="Mod"}function rs(e,t,n){var r=e;return t.altKey&&r!="Alt"&&(e="Alt-"+e),(V?t.metaKey:t.ctrlKey)&&r!="Ctrl"&&(e="Ctrl-"+e),(V?t.ctrlKey:t.metaKey)&&r!="Mod"&&(e="Cmd-"+e),!n&&t.shiftKey&&r!="Shift"&&(e="Shift-"+e),e}function ns(e,t){if(G&&e.keyCode==34&&e.char)return!1;var n=kr[e.keyCode];return n==null||e.altGraphKey?!1:(e.keyCode==3&&e.code&&(n=e.code),rs(n,e,t))}function Ui(e){return typeof e=="string"?lr[e]:e}function vn(e,t){for(var n=e.doc.sel.ranges,r=[],o=0;o<n.length;o++){for(var l=t(n[o]);r.length&&q(l.from,Ce(r).to)<=0;){var u=r.pop();if(q(u.from,l.from)<0){l.from=u.from;break}}r.push(l)}Ct(e,function(){for(var f=r.length-1;f>=0;f--)hn(e.doc,"",r[f].from,r[f].to,"+delete");an(e)})}function Ko(e,t,n){var r=fr(e.text,t+n,n);return r<0||r>e.text.length?null:r}function jo(e,t,n){var r=Ko(e,t.ch,n);return r==null?null:new T(t.line,r,n<0?"after":"before")}function qo(e,t,n,r,o){if(e){t.doc.direction=="rtl"&&(o=-o);var l=be(n,t.doc.direction);if(l){var u=o<0?Ce(l):l[0],f=o<0==(u.level==1),c=f?"after":"before",d;if(u.level>0||t.doc.direction=="rtl"){var y=rn(t,n);d=o<0?n.text.length-1:0;var x=Xt(t,y,d).top;d=Yt(function(L){return Xt(t,y,L).top==x},o<0==(u.level==1)?u.from:u.to-1,d),c=="before"&&(d=Ko(n,d,1))}else d=o<0?u.to:u.from;return new T(r,d,c)}}return new T(r,o<0?n.text.length:0,o<0?"before":"after")}function yc(e,t,n,r){var o=be(t,e.doc.direction);if(!o)return jo(t,n,r);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var l=hr(o,n.ch,n.sticky),u=o[l];if(e.doc.direction=="ltr"&&u.level%2==0&&(r>0?u.to>n.ch:u.from<n.ch))return jo(t,n,r);var f=function(Y,X){return Ko(t,Y instanceof T?Y.ch:Y,X)},c,d=function(Y){return e.options.lineWrapping?(c=c||rn(e,t),sa(e,t,c,Y)):{begin:0,end:t.text.length}},y=d(n.sticky=="before"?f(n,-1):n.ch);if(e.doc.direction=="rtl"||u.level==1){var x=u.level==1==r<0,L=f(n,x?1:-1);if(L!=null&&(x?L<=u.to&&L<=y.end:L>=u.from&&L>=y.begin)){var k=x?"before":"after";return new T(n.line,L,k)}}var O=function(Y,X,K){for(var Q=function(Ee,Xe){return Xe?new T(n.line,f(Ee,1),"before"):new T(n.line,Ee,"after")};Y>=0&&Y<o.length;Y+=X){var ie=o[Y],ee=X>0==(ie.level!=1),ye=ee?K.begin:f(K.end,-1);if(ie.from<=ye&&ye<ie.to||(ye=ee?ie.from:f(ie.to,-1),K.begin<=ye&&ye<K.end))return Q(ye,ee)}},B=O(l+r,r,y);if(B)return B;var U=r>0?y.end:f(y.begin,-1);return U!=null&&!(r>0&&U==t.text.length)&&(B=O(r>0?0:o.length-1,r,d(U)),B)?B:null}var ei={selectAll:Ua,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Lt)},killLine:function(e){return vn(e,function(t){if(t.empty()){var n=Z(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:T(t.head.line+1,0)}:{from:t.head,to:T(t.head.line,n)}}else return{from:t.from(),to:t.to()}})},deleteLine:function(e){return vn(e,function(t){return{from:T(t.from().line,0),to:pe(e.doc,T(t.to().line+1,0))}})},delLineLeft:function(e){return vn(e,function(t){return{from:T(t.from().line,0),to:t.from()}})},delWrappedLineLeft:function(e){return vn(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return{from:r,to:t.from()}})},delWrappedLineRight:function(e){return vn(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(T(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(T(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return is(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return os(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return bc(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},Tt)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},Tt)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?os(e,t.head):r},Tt)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("	")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,o=0;o<n.length;o++){var l=n[o].from(),u=Le(e.getLine(l.line),l.ch,r);t.push(Tn(r-u%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Ct(e,function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++)if(t[r].empty()){var o=t[r].head,l=Z(e.doc,o.line).text;if(l){if(o.ch==l.length&&(o=new T(o.line,o.ch-1)),o.ch>0)o=new T(o.line,o.ch+1),e.replaceRange(l.charAt(o.ch-1)+l.charAt(o.ch-2),T(o.line,o.ch-2),o,"+transpose");else if(o.line>e.doc.first){var u=Z(e.doc,o.line-1).text;u&&(o=new T(o.line,1),e.replaceRange(l.charAt(0)+e.doc.lineSeparator()+u.charAt(u.length-1),T(o.line-1,u.length-1),o,"+transpose"))}}n.push(new ke(o,o))}e.setSelections(n)})},newlineAndIndent:function(e){return Ct(e,function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);an(e)})},openLine:function(e){return e.replaceSelection(`
`,"start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function is(e,t){var n=Z(e.doc,t),r=Ht(n);return r!=n&&(t=v(r)),qo(!0,e,r,t,1)}function bc(e,t){var n=Z(e.doc,t),r=tf(n);return r!=n&&(t=v(r)),qo(!0,e,n,t,-1)}function os(e,t){var n=is(e,t.line),r=Z(e.doc,n.line),o=be(r,e.doc.direction);if(!o||o[0].level==0){var l=Math.max(n.ch,r.text.search(/\S/)),u=t.line==n.line&&t.ch<=l&&t.ch;return T(n.line,u?0:l,n.sticky)}return n}function zi(e,t,n){if(typeof t=="string"&&(t=ei[t],!t))return!1;e.display.input.ensurePolled();var r=e.display.shift,o=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),o=t(e)!=ur}finally{e.display.shift=r,e.state.suppressEdits=!1}return o}function xc(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var o=pn(t,e.state.keyMaps[r],n,e);if(o)return o}return e.options.extraKeys&&pn(t,e.options.extraKeys,n,e)||pn(t,e.options.keyMap,n,e)}var wc=new Ut;function ti(e,t,n,r){var o=e.state.keySeq;if(o){if(ts(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:wc.set(50,function(){e.state.keySeq==o&&(e.state.keySeq=null,e.display.input.reset())}),ls(e,o+" "+t,n,r))return!0}return ls(e,t,n,r)}function ls(e,t,n,r){var o=xc(e,t,r);return o=="multi"&&(e.state.keySeq=t),o=="handled"&&Ke(e,"keyHandled",e,t,n),(o=="handled"||o=="multi")&&($e(n),Mo(e)),!!o}function as(e,t){var n=ns(t,!0);return n?t.shiftKey&&!e.state.keySeq?ti(e,"Shift-"+n,t,function(r){return zi(e,r,!0)})||ti(e,n,t,function(r){if(typeof r=="string"?/^go[A-Z]/.test(r):r.motion)return zi(e,r)}):ti(e,n,t,function(r){return zi(e,r)}):!1}function Cc(e,t,n){return ti(e,"'"+n+"'",t,function(r){return zi(e,r,!0)})}var Xo=null;function ss(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField())&&(t.curOp.focus=le(we(t)),!Fe(t,e))){S&&A<11&&e.keyCode==27&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=n==16||e.shiftKey;var r=as(t,e);G&&(Xo=r?n:null,!r&&n==88&&!gi&&(ce?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),h&&!ce&&!r&&n==46&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),n==18&&!/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)&&Sc(t)}}function Sc(e){var t=e.display.lineDiv;fe(t,"CodeMirror-crosshair");function n(r){(r.keyCode==18||!r.altKey)&&(he(t,"CodeMirror-crosshair"),Ve(document,"keyup",n),Ve(document,"mouseover",n))}ne(document,"keyup",n),ne(document,"mouseover",n)}function us(e){e.keyCode==16&&(this.doc.sel.shift=!1),Fe(this,e)}function fs(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField())&&!(ir(t.display,e)||Fe(t,e)||e.ctrlKey&&!e.altKey||ce&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(G&&n==Xo){Xo=null,$e(e);return}if(!(G&&(!e.which||e.which<10)&&as(t,e))){var o=String.fromCharCode(r??n);o!="\b"&&(Cc(t,e,o)||t.display.input.onKeyPress(e))}}}var kc=400,Jo=function(e,t,n){this.time=e,this.pos=t,this.button=n};Jo.prototype.compare=function(e,t,n){return this.time+kc>e&&q(t,this.pos)==0&&n==this.button};var ri,ni;function Lc(e,t){var n=+new Date;return ni&&ni.compare(n,e,t)?(ri=ni=null,"triple"):ri&&ri.compare(n,e,t)?(ni=new Jo(n,e,t),ri=null,"double"):(ri=new Jo(n,e,t),ni=null,"single")}function cs(e){var t=this,n=t.display;if(!(Fe(t,e)||n.activeTouch&&n.input.supportsTouch())){if(n.input.ensurePolled(),n.shift=e.shiftKey,ir(n,e)){N||(n.scroller.draggable=!1,setTimeout(function(){return n.scroller.draggable=!0},100));return}if(!Qo(t,e)){var r=Fr(t,e),o=Nt(e),l=r?Lc(r,o):"single";de(t).focus(),o==1&&t.state.selectingText&&t.state.selectingText(e),!(r&&Tc(t,o,r,l,e))&&(o==1?r?Ec(t,r,l,e):En(e)==n.scroller&&$e(e):o==2?(r&&Hi(t.doc,r),setTimeout(function(){return n.input.focus()},20)):o==3&&(J?t.display.input.onContextMenu(e):Oo(t)))}}}function Tc(e,t,n,r,o){var l="Click";return r=="double"?l="Double"+l:r=="triple"&&(l="Triple"+l),l=(t==1?"Left":t==2?"Middle":"Right")+l,ti(e,rs(l,o),o,function(u){if(typeof u=="string"&&(u=ei[u]),!u)return!1;var f=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),f=u(e,n)!=ur}finally{e.state.suppressEdits=!1}return f})}function Ac(e,t,n){var r=e.getOption("configureMouse"),o=r?r(e,t,n):{};if(o.unit==null){var l=ve?n.shiftKey&&n.metaKey:n.altKey;o.unit=l?"rectangle":t=="single"?"char":t=="double"?"word":"line"}return(o.extend==null||e.doc.extend)&&(o.extend=e.doc.extend||n.shiftKey),o.addNew==null&&(o.addNew=ce?n.metaKey:n.ctrlKey),o.moveOnDrag==null&&(o.moveOnDrag=!(ce?n.altKey:n.ctrlKey)),o}function Ec(e,t,n,r){S?setTimeout(re(ha,e),0):e.curOp.focus=le(we(e));var o=Ac(e,n,r),l=e.doc.sel,u;e.options.dragDrop&&ao&&!e.isReadOnly()&&n=="single"&&(u=l.contains(t))>-1&&(q((u=l.ranges[u]).from(),t)<0||t.xRel>0)&&(q(u.to(),t)>0||t.xRel<0)?Mc(e,r,t,o):Oc(e,r,t,o)}function Mc(e,t,n,r){var o=e.display,l=!1,u=je(e,function(d){N&&(o.scroller.draggable=!1),e.state.draggingText=!1,e.state.delayingBlurEvent&&(e.hasFocus()?e.state.delayingBlurEvent=!1:Oo(e)),Ve(o.wrapper.ownerDocument,"mouseup",u),Ve(o.wrapper.ownerDocument,"mousemove",f),Ve(o.scroller,"dragstart",c),Ve(o.scroller,"drop",u),l||($e(d),r.addNew||Hi(e.doc,n,null,null,r.extend),N&&!se||S&&A==9?setTimeout(function(){o.wrapper.ownerDocument.body.focus({preventScroll:!0}),o.input.focus()},20):o.input.focus())}),f=function(d){l=l||Math.abs(t.clientX-d.clientX)+Math.abs(t.clientY-d.clientY)>=10},c=function(){return l=!0};N&&(o.scroller.draggable=!0),e.state.draggingText=u,u.copy=!r.moveOnDrag,ne(o.wrapper.ownerDocument,"mouseup",u),ne(o.wrapper.ownerDocument,"mousemove",f),ne(o.scroller,"dragstart",c),ne(o.scroller,"drop",u),e.state.delayingBlurEvent=!0,setTimeout(function(){return o.input.focus()},20),o.scroller.dragDrop&&o.scroller.dragDrop()}function hs(e,t,n){if(n=="char")return new ke(t,t);if(n=="word")return e.findWordAt(t);if(n=="line")return new ke(T(t.line,0),pe(e.doc,T(t.line+1,0)));var r=n(e,t);return new ke(r.from,r.to)}function Oc(e,t,n,r){S&&Oo(e);var o=e.display,l=e.doc;$e(t);var u,f,c=l.sel,d=c.ranges;if(r.addNew&&!r.extend?(f=l.sel.contains(n),f>-1?u=d[f]:u=new ke(n,n)):(u=l.sel.primary(),f=l.sel.primIndex),r.unit=="rectangle")r.addNew||(u=new ke(n,n)),n=Fr(e,t,!0,!0),f=-1;else{var y=hs(e,n,r.unit);r.extend?u=Go(u,y.anchor,y.head,r.extend):u=y}r.addNew?f==-1?(f=d.length,et(l,Pt(e,d.concat([u]),f),{scroll:!1,origin:"*mouse"})):d.length>1&&d[f].empty()&&r.unit=="char"&&!r.extend?(et(l,Pt(e,d.slice(0,f).concat(d.slice(f+1)),0),{scroll:!1,origin:"*mouse"}),c=l.sel):Yo(l,f,u,zt):(f=0,et(l,new Et([u],0),zt),c=l.sel);var x=n;function L(K){if(q(x,K)!=0)if(x=K,r.unit=="rectangle"){for(var Q=[],ie=e.options.tabSize,ee=Le(Z(l,n.line).text,n.ch,ie),ye=Le(Z(l,K.line).text,K.ch,ie),Ee=Math.min(ee,ye),Xe=Math.max(ee,ye),Ne=Math.min(n.line,K.line),St=Math.min(e.lastLine(),Math.max(n.line,K.line));Ne<=St;Ne++){var mt=Z(l,Ne).text,Re=Gt(mt,Ee,ie);Ee==Xe?Q.push(new ke(T(Ne,Re),T(Ne,Re))):mt.length>Re&&Q.push(new ke(T(Ne,Re),T(Ne,Gt(mt,Xe,ie))))}Q.length||Q.push(new ke(n,n)),et(l,Pt(e,c.ranges.slice(0,f).concat(Q),f),{origin:"*mouse",scroll:!1}),e.scrollIntoView(K)}else{var yt=u,Ze=hs(e,K,r.unit),Ue=yt.anchor,_e;q(Ze.anchor,Ue)>0?(_e=Ze.head,Ue=$r(yt.from(),Ze.anchor)):(_e=Ze.anchor,Ue=pt(yt.to(),Ze.head));var He=c.ranges.slice(0);He[f]=Ic(e,new ke(pe(l,Ue),_e)),et(l,Pt(e,He,f),zt)}}var k=o.wrapper.getBoundingClientRect(),O=0;function B(K){var Q=++O,ie=Fr(e,K,!0,r.unit=="rectangle");if(ie)if(q(ie,x)!=0){e.curOp.focus=le(we(e)),L(ie);var ee=Oi(o,l);(ie.line>=ee.to||ie.line<ee.from)&&setTimeout(je(e,function(){O==Q&&B(K)}),150)}else{var ye=K.clientY<k.top?-20:K.clientY>k.bottom?20:0;ye&&setTimeout(je(e,function(){O==Q&&(o.scroller.scrollTop+=ye,B(K))}),50)}}function U(K){e.state.selectingText=!1,O=1/0,K&&($e(K),o.input.focus()),Ve(o.wrapper.ownerDocument,"mousemove",Y),Ve(o.wrapper.ownerDocument,"mouseup",X),l.history.lastSelOrigin=null}var Y=je(e,function(K){K.buttons===0||!Nt(K)?U(K):B(K)}),X=je(e,U);e.state.selectingText=X,ne(o.wrapper.ownerDocument,"mousemove",Y),ne(o.wrapper.ownerDocument,"mouseup",X)}function Ic(e,t){var n=t.anchor,r=t.head,o=Z(e.doc,n.line);if(q(n,r)==0&&n.sticky==r.sticky)return t;var l=be(o);if(!l)return t;var u=hr(l,n.ch,n.sticky),f=l[u];if(f.from!=n.ch&&f.to!=n.ch)return t;var c=u+(f.from==n.ch==(f.level!=1)?0:1);if(c==0||c==l.length)return t;var d;if(r.line!=n.line)d=(r.line-n.line)*(e.doc.direction=="ltr"?1:-1)>0;else{var y=hr(l,r.ch,r.sticky),x=y-u||(r.ch-n.ch)*(f.level==1?-1:1);y==c-1||y==c?d=x<0:d=x>0}var L=l[c+(d?-1:0)],k=d==(L.level==1),O=k?L.from:L.to,B=k?"after":"before";return n.ch==O&&n.sticky==B?t:new ke(new T(n.line,O,B),r)}function ds(e,t,n,r){var o,l;if(t.touches)o=t.touches[0].clientX,l=t.touches[0].clientY;else try{o=t.clientX,l=t.clientY}catch{return!1}if(o>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&$e(t);var u=e.display,f=u.lineDiv.getBoundingClientRect();if(l>f.bottom||!wt(e,n))return dt(t);l-=f.top-u.viewOffset;for(var c=0;c<e.display.gutterSpecs.length;++c){var d=u.gutters.childNodes[c];if(d&&d.getBoundingClientRect().right>=o){var y=b(e.doc,l),x=e.display.gutterSpecs[c];return De(e,n,e,y,x.className,t),dt(t)}}}function Qo(e,t){return ds(e,t,"gutterClick",!0)}function ps(e,t){ir(e.display,t)||Nc(e,t)||Fe(e,t,"contextmenu")||J||e.display.input.onContextMenu(t)}function Nc(e,t){return wt(e,"gutterContextMenu")?ds(e,t,"gutterContextMenu",!1):!1}function vs(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Wn(e)}var gn={toString:function(){return"CodeMirror.Init"}},gs={},Gi={};function Dc(e){var t=e.optionHandlers;function n(r,o,l,u){e.defaults[r]=o,l&&(t[r]=u?function(f,c,d){d!=gn&&l(f,c,d)}:l)}e.defineOption=n,e.Init=gn,n("value","",function(r,o){return r.setValue(o)},!0),n("mode",null,function(r,o){r.doc.modeOption=o,_o(r)},!0),n("indentUnit",2,_o,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,function(r){Kn(r),Wn(r),vt(r)},!0),n("lineSeparator",null,function(r,o){if(r.doc.lineSep=o,!!o){var l=[],u=r.doc.first;r.doc.iter(function(c){for(var d=0;;){var y=c.text.indexOf(o,d);if(y==-1)break;d=y+o.length,l.push(T(u,y))}u++});for(var f=l.length-1;f>=0;f--)hn(r.doc,o,l[f],T(l[f].line,l[f].ch+o.length))}}),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(r,o,l){r.state.specialChars=new RegExp(o.source+(o.test("	")?"":"|	"),"g"),l!=gn&&r.refresh()}),n("specialCharPlaceholder",sf,function(r){return r.refresh()},!0),n("electricChars",!0),n("inputStyle",oe?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),n("spellcheck",!1,function(r,o){return r.getInputField().spellcheck=o},!0),n("autocorrect",!1,function(r,o){return r.getInputField().autocorrect=o},!0),n("autocapitalize",!1,function(r,o){return r.getInputField().autocapitalize=o},!0),n("rtlMoveVisually",!F),n("wholeLineUpdateBefore",!0),n("theme","default",function(r){vs(r),Yn(r)},!0),n("keyMap","default",function(r,o,l){var u=Ui(o),f=l!=gn&&Ui(l);f&&f.detach&&f.detach(r,u),u.attach&&u.attach(r,f||null)}),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,Bc,!0),n("gutters",[],function(r,o){r.display.gutterSpecs=Po(o,r.options.lineNumbers),Yn(r)},!0),n("fixedGutter",!0,function(r,o){r.display.gutters.style.left=o?To(r.display)+"px":"0",r.refresh()},!0),n("coverGutterNextToScrollbar",!1,function(r){return sn(r)},!0),n("scrollbarStyle","native",function(r){ya(r),sn(r),r.display.scrollbars.setScrollTop(r.doc.scrollTop),r.display.scrollbars.setScrollLeft(r.doc.scrollLeft)},!0),n("lineNumbers",!1,function(r,o){r.display.gutterSpecs=Po(r.options.gutters,o),Yn(r)},!0),n("firstLineNumber",1,Yn,!0),n("lineNumberFormatter",function(r){return r},Yn,!0),n("showCursorWhenSelecting",!1,Pn,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,function(r,o){o=="nocursor"&&(ln(r),r.display.input.blur()),r.display.input.readOnlyChanged(o)}),n("screenReaderLabel",null,function(r,o){o=o===""?null:o,r.display.input.screenReaderLabelChanged(o)}),n("disableInput",!1,function(r,o){o||r.display.input.reset()},!0),n("dragDrop",!0,Fc),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,Pn,!0),n("singleCursorHeightPerLine",!0,Pn,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,Kn,!0),n("addModeClass",!1,Kn,!0),n("pollInterval",100),n("undoDepth",200,function(r,o){return r.doc.history.undoDepth=o}),n("historyEventDelay",1250),n("viewportMargin",10,function(r){return r.refresh()},!0),n("maxHighlightLength",1e4,Kn,!0),n("moveInputWithCursor",!0,function(r,o){o||r.display.input.resetPosition()}),n("tabindex",null,function(r,o){return r.display.input.getField().tabIndex=o||""}),n("autofocus",null),n("direction","ltr",function(r,o){return r.doc.setDirection(o)},!0),n("phrases",null)}function Fc(e,t,n){var r=n&&n!=gn;if(!t!=!r){var o=e.display.dragFunctions,l=t?ne:Ve;l(e.display.scroller,"dragstart",o.start),l(e.display.scroller,"dragenter",o.enter),l(e.display.scroller,"dragover",o.over),l(e.display.scroller,"dragleave",o.leave),l(e.display.scroller,"drop",o.drop)}}function Bc(e){e.options.lineWrapping?(fe(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(he(e.display.wrapper,"CodeMirror-wrap"),go(e)),Ao(e),vt(e),Wn(e),setTimeout(function(){return sn(e)},100)}function Oe(e,t){var n=this;if(!(this instanceof Oe))return new Oe(e,t);this.options=t=t?ge(t):{},ge(gs,t,!1);var r=t.value;typeof r=="string"?r=new gt(r,t.mode,null,t.lineSeparator,t.direction):t.mode&&(r.modeOption=t.mode),this.doc=r;var o=new Oe.inputStyles[t.inputStyle](this),l=this.display=new Xf(e,r,o,t);l.wrapper.CodeMirror=this,vs(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),ya(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Ut,keySeq:null,specialChars:null},t.autofocus&&!oe&&l.input.focus(),S&&A<11&&setTimeout(function(){return n.display.input.reset(!0)},20),Hc(this),dc(),Pr(this),this.curOp.forceUpdate=!0,Ea(this,r),t.autofocus&&!oe||this.hasFocus()?setTimeout(function(){n.hasFocus()&&!n.state.focused&&Io(n)},20):ln(this);for(var u in Gi)Gi.hasOwnProperty(u)&&Gi[u](this,t[u],gn);wa(this),t.finishInit&&t.finishInit(this);for(var f=0;f<Zo.length;++f)Zo[f](this);Rr(this),N&&t.lineWrapping&&getComputedStyle(l.lineDiv).textRendering=="optimizelegibility"&&(l.lineDiv.style.textRendering="auto")}Oe.defaults=gs,Oe.optionHandlers=Gi;function Hc(e){var t=e.display;ne(t.scroller,"mousedown",je(e,cs)),S&&A<11?ne(t.scroller,"dblclick",je(e,function(c){if(!Fe(e,c)){var d=Fr(e,c);if(!(!d||Qo(e,c)||ir(e.display,c))){$e(c);var y=e.findWordAt(d);Hi(e.doc,y.anchor,y.head)}}})):ne(t.scroller,"dblclick",function(c){return Fe(e,c)||$e(c)}),ne(t.scroller,"contextmenu",function(c){return ps(e,c)}),ne(t.input.getField(),"contextmenu",function(c){t.scroller.contains(c.target)||ps(e,c)});var n,r={end:0};function o(){t.activeTouch&&(n=setTimeout(function(){return t.activeTouch=null},1e3),r=t.activeTouch,r.end=+new Date)}function l(c){if(c.touches.length!=1)return!1;var d=c.touches[0];return d.radiusX<=1&&d.radiusY<=1}function u(c,d){if(d.left==null)return!0;var y=d.left-c.left,x=d.top-c.top;return y*y+x*x>20*20}ne(t.scroller,"touchstart",function(c){if(!Fe(e,c)&&!l(c)&&!Qo(e,c)){t.input.ensurePolled(),clearTimeout(n);var d=+new Date;t.activeTouch={start:d,moved:!1,prev:d-r.end<=300?r:null},c.touches.length==1&&(t.activeTouch.left=c.touches[0].pageX,t.activeTouch.top=c.touches[0].pageY)}}),ne(t.scroller,"touchmove",function(){t.activeTouch&&(t.activeTouch.moved=!0)}),ne(t.scroller,"touchend",function(c){var d=t.activeTouch;if(d&&!ir(t,c)&&d.left!=null&&!d.moved&&new Date-d.start<300){var y=e.coordsChar(t.activeTouch,"page"),x;!d.prev||u(d,d.prev)?x=new ke(y,y):!d.prev.prev||u(d,d.prev.prev)?x=e.findWordAt(y):x=new ke(T(y.line,0),pe(e.doc,T(y.line+1,0))),e.setSelection(x.anchor,x.head),e.focus(),$e(c)}o()}),ne(t.scroller,"touchcancel",o),ne(t.scroller,"scroll",function(){t.scroller.clientHeight&&(_n(e,t.scroller.scrollTop),Hr(e,t.scroller.scrollLeft,!0),De(e,"scroll",e))}),ne(t.scroller,"mousewheel",function(c){return ka(e,c)}),ne(t.scroller,"DOMMouseScroll",function(c){return ka(e,c)}),ne(t.wrapper,"scroll",function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0}),t.dragFunctions={enter:function(c){Fe(e,c)||dr(c)},over:function(c){Fe(e,c)||(hc(e,c),dr(c))},start:function(c){return cc(e,c)},drop:je(e,fc),leave:function(c){Fe(e,c)||Va(e)}};var f=t.input.getField();ne(f,"keyup",function(c){return us.call(e,c)}),ne(f,"keydown",je(e,ss)),ne(f,"keypress",je(e,fs)),ne(f,"focus",function(c){return Io(e,c)}),ne(f,"blur",function(c){return ln(e,c)})}var Zo=[];Oe.defineInitHook=function(e){return Zo.push(e)};function ii(e,t,n,r){var o=e.doc,l;n==null&&(n="add"),n=="smart"&&(o.mode.indent?l=Nn(e,t).state:n="prev");var u=e.options.tabSize,f=Z(o,t),c=Le(f.text,null,u);f.stateAfter&&(f.stateAfter=null);var d=f.text.match(/^\s*/)[0],y;if(!r&&!/\S/.test(f.text))y=0,n="not";else if(n=="smart"&&(y=o.mode.indent(l,f.text.slice(d.length),f.text),y==ur||y>150)){if(!r)return;n="prev"}n=="prev"?t>o.first?y=Le(Z(o,t-1).text,null,u):y=0:n=="add"?y=c+e.options.indentUnit:n=="subtract"?y=c-e.options.indentUnit:typeof n=="number"&&(y=c+n),y=Math.max(0,y);var x="",L=0;if(e.options.indentWithTabs)for(var k=Math.floor(y/u);k;--k)L+=u,x+="	";if(L<y&&(x+=Tn(y-L)),x!=d)return hn(o,x,T(t,0),T(t,d.length),"+input"),f.stateAfter=null,!0;for(var O=0;O<o.sel.ranges.length;O++){var B=o.sel.ranges[O];if(B.head.line==t&&B.head.ch<d.length){var U=T(t,d.length);Yo(o,O,new ke(U,U));break}}}var Rt=null;function Yi(e){Rt=e}function Vo(e,t,n,r,o){var l=e.doc;e.display.shift=!1,r||(r=l.sel);var u=+new Date-200,f=o=="paste"||e.state.pasteIncoming>u,c=Ot(t),d=null;if(f&&r.ranges.length>1)if(Rt&&Rt.text.join(`
`)==t){if(r.ranges.length%Rt.text.length==0){d=[];for(var y=0;y<Rt.text.length;y++)d.push(l.splitLines(Rt.text[y]))}}else c.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(d=Mr(c,function(Y){return[Y]}));for(var x=e.curOp.updateInput,L=r.ranges.length-1;L>=0;L--){var k=r.ranges[L],O=k.from(),B=k.to();k.empty()&&(n&&n>0?O=T(O.line,O.ch-n):e.state.overwrite&&!f?B=T(B.line,Math.min(Z(l,B.line).text.length,B.ch+Ce(c).length)):f&&Rt&&Rt.lineWise&&Rt.text.join(`
`)==c.join(`
`)&&(O=B=T(O.line,0)));var U={from:O,to:B,text:d?d[L%d.length]:c,origin:o||(f?"paste":e.state.cutIncoming>u?"cut":"+input")};cn(e.doc,U),Ke(e,"inputRead",e,U)}t&&!f&&ys(e,t),an(e),e.curOp.updateInput<2&&(e.curOp.updateInput=x),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function ms(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),!t.isReadOnly()&&!t.options.disableInput&&t.hasFocus()&&Ct(t,function(){return Vo(t,n,0,null,"paste")}),!0}function ys(e,t){if(!(!e.options.electricChars||!e.options.smartIndent))for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var o=n.ranges[r];if(!(o.head.ch>100||r&&n.ranges[r-1].head.line==o.head.line)){var l=e.getModeAt(o.head),u=!1;if(l.electricChars){for(var f=0;f<l.electricChars.length;f++)if(t.indexOf(l.electricChars.charAt(f))>-1){u=ii(e,o.head.line,"smart");break}}else l.electricInput&&l.electricInput.test(Z(e.doc,o.head.line).text.slice(0,o.head.ch))&&(u=ii(e,o.head.line,"smart"));u&&Ke(e,"electricInput",e,o.head.line)}}}function bs(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var o=e.doc.sel.ranges[r].head.line,l={anchor:T(o,0),head:T(o+1,0)};n.push(l),t.push(e.getRange(l.anchor,l.head))}return{text:t,ranges:n}}function $o(e,t,n,r){e.setAttribute("autocorrect",n?"on":"off"),e.setAttribute("autocapitalize",r?"on":"off"),e.setAttribute("spellcheck",!!t)}function xs(){var e=w("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),t=w("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return N?e.style.width="1000px":e.setAttribute("wrap","off"),I&&(e.style.border="1px solid black"),t}function Wc(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){de(this).focus(),this.display.input.focus()},setOption:function(r,o){var l=this.options,u=l[r];l[r]==o&&r!="mode"||(l[r]=o,t.hasOwnProperty(r)&&je(this,t[r])(this,o,u),De(this,"optionChange",this,r))},getOption:function(r){return this.options[r]},getDoc:function(){return this.doc},addKeyMap:function(r,o){this.state.keyMaps[o?"push":"unshift"](Ui(r))},removeKeyMap:function(r){for(var o=this.state.keyMaps,l=0;l<o.length;++l)if(o[l]==r||o[l].name==r)return o.splice(l,1),!0},addOverlay:ot(function(r,o){var l=r.token?r:e.getMode(this.options,r);if(l.startState)throw new Error("Overlays may not be stateful.");io(this.state.overlays,{mode:l,modeSpec:r,opaque:o&&o.opaque,priority:o&&o.priority||0},function(u){return u.priority}),this.state.modeGen++,vt(this)}),removeOverlay:ot(function(r){for(var o=this.state.overlays,l=0;l<o.length;++l){var u=o[l].modeSpec;if(u==r||typeof r=="string"&&u.name==r){o.splice(l,1),this.state.modeGen++,vt(this);return}}}),indentLine:ot(function(r,o,l){typeof o!="string"&&typeof o!="number"&&(o==null?o=this.options.smartIndent?"smart":"prev":o=o?"add":"subtract"),D(this.doc,r)&&ii(this,r,o,l)}),indentSelection:ot(function(r){for(var o=this.doc.sel.ranges,l=-1,u=0;u<o.length;u++){var f=o[u];if(f.empty())f.head.line>l&&(ii(this,f.head.line,r,!0),l=f.head.line,u==this.doc.sel.primIndex&&an(this));else{var c=f.from(),d=f.to(),y=Math.max(l,c.line);l=Math.min(this.lastLine(),d.line-(d.ch?0:1))+1;for(var x=y;x<l;++x)ii(this,x,r);var L=this.doc.sel.ranges;c.ch==0&&o.length==L.length&&L[u].from().ch>0&&Yo(this.doc,u,new ke(c,L[u].to()),Lt)}}}),getTokenAt:function(r,o){return Ol(this,r,o)},getLineTokens:function(r,o){return Ol(this,T(r),o,!0)},getTokenTypeAt:function(r){r=pe(this.doc,r);var o=Al(this,Z(this.doc,r.line)),l=0,u=(o.length-1)/2,f=r.ch,c;if(f==0)c=o[2];else for(;;){var d=l+u>>1;if((d?o[d*2-1]:0)>=f)u=d;else if(o[d*2+1]<f)l=d+1;else{c=o[d*2+2];break}}var y=c?c.indexOf("overlay "):-1;return y<0?c:y==0?null:c.slice(0,y-1)},getModeAt:function(r){var o=this.doc.mode;return o.innerMode?e.innerMode(o,this.getTokenAt(r).state).mode:o},getHelper:function(r,o){return this.getHelpers(r,o)[0]},getHelpers:function(r,o){var l=[];if(!n.hasOwnProperty(o))return l;var u=n[o],f=this.getModeAt(r);if(typeof f[o]=="string")u[f[o]]&&l.push(u[f[o]]);else if(f[o])for(var c=0;c<f[o].length;c++){var d=u[f[o][c]];d&&l.push(d)}else f.helperType&&u[f.helperType]?l.push(u[f.helperType]):u[f.name]&&l.push(u[f.name]);for(var y=0;y<u._global.length;y++){var x=u._global[y];x.pred(f,this)&&me(l,x.val)==-1&&l.push(x.val)}return l},getStateAfter:function(r,o){var l=this.doc;return r=kl(l,r??l.first+l.size-1),Nn(this,r+1,o).state},cursorCoords:function(r,o){var l,u=this.doc.sel.primary();return r==null?l=u.head:typeof r=="object"?l=pe(this.doc,r):l=r?u.from():u.to(),Wt(this,l,o||"page")},charCoords:function(r,o){return Ti(this,pe(this.doc,r),o||"page")},coordsChar:function(r,o){return r=oa(this,r,o||"page"),So(this,r.left,r.top)},lineAtHeight:function(r,o){return r=oa(this,{top:r,left:0},o||"page").top,b(this.doc,r+this.display.viewOffset)},heightAtLine:function(r,o,l){var u=!1,f;if(typeof r=="number"){var c=this.doc.first+this.doc.size-1;r<this.doc.first?r=this.doc.first:r>c&&(r=c,u=!0),f=Z(this.doc,r)}else f=r;return Li(this,f,{top:0,left:0},o||"page",l||u).top+(u?this.doc.height-nr(f):0)},defaultTextHeight:function(){return nn(this.display)},defaultCharWidth:function(){return on(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(r,o,l,u,f){var c=this.display;r=Wt(this,pe(this.doc,r));var d=r.bottom,y=r.left;if(o.style.position="absolute",o.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(o),c.sizer.appendChild(o),u=="over")d=r.top;else if(u=="above"||u=="near"){var x=Math.max(c.wrapper.clientHeight,this.doc.height),L=Math.max(c.sizer.clientWidth,c.lineSpace.clientWidth);(u=="above"||r.bottom+o.offsetHeight>x)&&r.top>o.offsetHeight?d=r.top-o.offsetHeight:r.bottom+o.offsetHeight<=x&&(d=r.bottom),y+o.offsetWidth>L&&(y=L-o.offsetWidth)}o.style.top=d+"px",o.style.left=o.style.right="",f=="right"?(y=c.sizer.clientWidth-o.offsetWidth,o.style.right="0px"):(f=="left"?y=0:f=="middle"&&(y=(c.sizer.clientWidth-o.offsetWidth)/2),o.style.left=y+"px"),l&&Ff(this,{left:y,top:d,right:y+o.offsetWidth,bottom:d+o.offsetHeight})},triggerOnKeyDown:ot(ss),triggerOnKeyPress:ot(fs),triggerOnKeyUp:us,triggerOnMouseDown:ot(cs),execCommand:function(r){if(ei.hasOwnProperty(r))return ei[r].call(null,this)},triggerElectric:ot(function(r){ys(this,r)}),findPosH:function(r,o,l,u){var f=1;o<0&&(f=-1,o=-o);for(var c=pe(this.doc,r),d=0;d<o&&(c=el(this.doc,c,f,l,u),!c.hitSide);++d);return c},moveH:ot(function(r,o){var l=this;this.extendSelectionsBy(function(u){return l.display.shift||l.doc.extend||u.empty()?el(l.doc,u.head,r,o,l.options.rtlMoveVisually):r<0?u.from():u.to()},Tt)}),deleteH:ot(function(r,o){var l=this.doc.sel,u=this.doc;l.somethingSelected()?u.replaceSelection("",null,"+delete"):vn(this,function(f){var c=el(u,f.head,r,o,!1);return r<0?{from:c,to:f.head}:{from:f.head,to:c}})}),findPosV:function(r,o,l,u){var f=1,c=u;o<0&&(f=-1,o=-o);for(var d=pe(this.doc,r),y=0;y<o;++y){var x=Wt(this,d,"div");if(c==null?c=x.left:x.left=c,d=ws(this,x,f,l),d.hitSide)break}return d},moveV:ot(function(r,o){var l=this,u=this.doc,f=[],c=!this.display.shift&&!u.extend&&u.sel.somethingSelected();if(u.extendSelectionsBy(function(y){if(c)return r<0?y.from():y.to();var x=Wt(l,y.head,"div");y.goalColumn!=null&&(x.left=y.goalColumn),f.push(x.left);var L=ws(l,x,r,o);return o=="page"&&y==u.sel.primary()&&Do(l,Ti(l,L,"div").top-x.top),L},Tt),f.length)for(var d=0;d<u.sel.ranges.length;d++)u.sel.ranges[d].goalColumn=f[d]}),findWordAt:function(r){var o=this.doc,l=Z(o,r.line).text,u=r.ch,f=r.ch;if(l){var c=this.getHelper(r,"wordChars");(r.sticky=="before"||f==l.length)&&u?--u:++f;for(var d=l.charAt(u),y=Vt(d,c)?function(x){return Vt(x,c)}:/\s/.test(d)?function(x){return/\s/.test(x)}:function(x){return!/\s/.test(x)&&!Vt(x)};u>0&&y(l.charAt(u-1));)--u;for(;f<l.length&&y(l.charAt(f));)++f}return new ke(T(r.line,u),T(r.line,f))},toggleOverwrite:function(r){r!=null&&r==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?fe(this.display.cursorDiv,"CodeMirror-overwrite"):he(this.display.cursorDiv,"CodeMirror-overwrite"),De(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==le(we(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:ot(function(r,o){Rn(this,r,o)}),getScrollInfo:function(){var r=this.display.scroller;return{left:r.scrollLeft,top:r.scrollTop,height:r.scrollHeight-qt(this)-this.display.barHeight,width:r.scrollWidth-qt(this)-this.display.barWidth,clientHeight:bo(this),clientWidth:Nr(this)}},scrollIntoView:ot(function(r,o){r==null?(r={from:this.doc.sel.primary().head,to:null},o==null&&(o=this.options.cursorScrollMargin)):typeof r=="number"?r={from:T(r,0),to:null}:r.from==null&&(r={from:r,to:null}),r.to||(r.to=r.from),r.margin=o||0,r.from.line!=null?Bf(this,r):pa(this,r.from,r.to,r.margin)}),setSize:ot(function(r,o){var l=this,u=function(c){return typeof c=="number"||/^\d+$/.test(String(c))?c+"px":c};r!=null&&(this.display.wrapper.style.width=u(r)),o!=null&&(this.display.wrapper.style.height=u(o)),this.options.lineWrapping&&ra(this);var f=this.display.viewFrom;this.doc.iter(f,this.display.viewTo,function(c){if(c.widgets){for(var d=0;d<c.widgets.length;d++)if(c.widgets[d].noHScroll){yr(l,f,"widget");break}}++f}),this.curOp.forceUpdate=!0,De(this,"refresh",this)}),operation:function(r){return Ct(this,r)},startOperation:function(){return Pr(this)},endOperation:function(){return Rr(this)},refresh:ot(function(){var r=this.display.cachedTextHeight;vt(this),this.curOp.forceUpdate=!0,Wn(this),Rn(this,this.doc.scrollLeft,this.doc.scrollTop),Ho(this.display),(r==null||Math.abs(r-nn(this.display))>.5||this.options.lineWrapping)&&Ao(this),De(this,"refresh",this)}),swapDoc:ot(function(r){var o=this.doc;return o.cm=null,this.state.selectingText&&this.state.selectingText(),Ea(this,r),Wn(this),this.display.input.reset(),Rn(this,r.scrollLeft,r.scrollTop),this.curOp.forceScroll=!0,Ke(this,"swapDoc",this,o),o}),phrase:function(r){var o=this.options.phrases;return o&&Object.prototype.hasOwnProperty.call(o,r)?o[r]:r},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},It(e),e.registerHelper=function(r,o,l){n.hasOwnProperty(r)||(n[r]=e[r]={_global:[]}),n[r][o]=l},e.registerGlobalHelper=function(r,o,l,u){e.registerHelper(r,o,u),n[r]._global.push({pred:l,val:u})}}function el(e,t,n,r,o){var l=t,u=n,f=Z(e,t.line),c=o&&e.direction=="rtl"?-n:n;function d(){var X=t.line+c;return X<e.first||X>=e.first+e.size?!1:(t=new T(X,t.ch,t.sticky),f=Z(e,X))}function y(X){var K;if(r=="codepoint"){var Q=f.text.charCodeAt(t.ch+(n>0?0:-1));if(isNaN(Q))K=null;else{var ie=n>0?Q>=55296&&Q<56320:Q>=56320&&Q<57343;K=new T(t.line,Math.max(0,Math.min(f.text.length,t.ch+n*(ie?2:1))),-n)}}else o?K=yc(e.cm,f,t,n):K=jo(f,t,n);if(K==null)if(!X&&d())t=qo(o,e.cm,f,t.line,c);else return!1;else t=K;return!0}if(r=="char"||r=="codepoint")y();else if(r=="column")y(!0);else if(r=="word"||r=="group")for(var x=null,L=r=="group",k=e.cm&&e.cm.getHelper(t,"wordChars"),O=!0;!(n<0&&!y(!O));O=!1){var B=f.text.charAt(t.ch)||`
`,U=Vt(B,k)?"w":L&&B==`
`?"n":!L||/\s/.test(B)?null:"p";if(L&&!O&&!U&&(U="s"),x&&x!=U){n<0&&(n=1,y(),t.sticky="after");break}if(U&&(x=U),n>0&&!y(!O))break}var Y=Pi(e,t,l,u,!0);return Se(l,Y)&&(Y.hitSide=!0),Y}function ws(e,t,n,r){var o=e.doc,l=t.left,u;if(r=="page"){var f=Math.min(e.display.wrapper.clientHeight,de(e).innerHeight||o(e).documentElement.clientHeight),c=Math.max(f-.5*nn(e.display),3);u=(n>0?t.bottom:t.top)+n*c}else r=="line"&&(u=n>0?t.bottom+3:t.top-3);for(var d;d=So(e,l,u),!!d.outside;){if(n<0?u<=0:u>=o.height){d.hitSide=!0;break}u+=n*5}return d}var Te=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Ut,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Te.prototype.init=function(e){var t=this,n=this,r=n.cm,o=n.div=e.lineDiv;o.contentEditable=!0,$o(o,r.options.spellcheck,r.options.autocorrect,r.options.autocapitalize);function l(f){for(var c=f.target;c;c=c.parentNode){if(c==o)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(c.className))break}return!1}ne(o,"paste",function(f){!l(f)||Fe(r,f)||ms(f,r)||A<=11&&setTimeout(je(r,function(){return t.updateFromDOM()}),20)}),ne(o,"compositionstart",function(f){t.composing={data:f.data,done:!1}}),ne(o,"compositionupdate",function(f){t.composing||(t.composing={data:f.data,done:!1})}),ne(o,"compositionend",function(f){t.composing&&(f.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)}),ne(o,"touchstart",function(){return n.forceCompositionEnd()}),ne(o,"input",function(){t.composing||t.readFromDOMSoon()});function u(f){if(!(!l(f)||Fe(r,f))){if(r.somethingSelected())Yi({lineWise:!1,text:r.getSelections()}),f.type=="cut"&&r.replaceSelection("",null,"cut");else if(r.options.lineWiseCopyCut){var c=bs(r);Yi({lineWise:!0,text:c.text}),f.type=="cut"&&r.operation(function(){r.setSelections(c.ranges,0,Lt),r.replaceSelection("",null,"cut")})}else return;if(f.clipboardData){f.clipboardData.clearData();var d=Rt.text.join(`
`);if(f.clipboardData.setData("Text",d),f.clipboardData.getData("Text")==d){f.preventDefault();return}}var y=xs(),x=y.firstChild;$o(x),r.display.lineSpace.insertBefore(y,r.display.lineSpace.firstChild),x.value=Rt.text.join(`
`);var L=le(xe(o));ht(x),setTimeout(function(){r.display.lineSpace.removeChild(y),L.focus(),L==o&&n.showPrimarySelection()},50)}}ne(o,"copy",u),ne(o,"cut",u)},Te.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},Te.prototype.prepareSelection=function(){var e=ca(this.cm,!1);return e.focus=le(xe(this.div))==this.div,e},Te.prototype.showSelection=function(e,t){!e||!this.cm.display.view.length||((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Te.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Te.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,n=t.doc.sel.primary(),r=n.from(),o=n.to();if(t.display.viewTo==t.display.viewFrom||r.line>=t.display.viewTo||o.line<t.display.viewFrom){e.removeAllRanges();return}var l=Ki(t,e.anchorNode,e.anchorOffset),u=Ki(t,e.focusNode,e.focusOffset);if(!(l&&!l.bad&&u&&!u.bad&&q($r(l,u),r)==0&&q(pt(l,u),o)==0)){var f=t.display.view,c=r.line>=t.display.viewFrom&&Cs(t,r)||{node:f[0].measure.map[2],offset:0},d=o.line<t.display.viewTo&&Cs(t,o);if(!d){var y=f[f.length-1].measure,x=y.maps?y.maps[y.maps.length-1]:y.map;d={node:x[x.length-1],offset:x[x.length-2]-x[x.length-3]}}if(!c||!d){e.removeAllRanges();return}var L=e.rangeCount&&e.getRangeAt(0),k;try{k=Ae(c.node,c.offset,d.offset,d.node)}catch{}k&&(!h&&t.state.focused?(e.collapse(c.node,c.offset),k.collapsed||(e.removeAllRanges(),e.addRange(k))):(e.removeAllRanges(),e.addRange(k)),L&&e.anchorNode==null?e.addRange(L):h&&this.startGracePeriod()),this.rememberSelection()}},Te.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},Te.prototype.showMultipleSelections=function(e){R(this.cm.display.cursorDiv,e.cursors),R(this.cm.display.selectionDiv,e.selection)},Te.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Te.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return j(this.div,t)},Te.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||le(xe(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Te.prototype.blur=function(){this.div.blur()},Te.prototype.getField=function(){return this.div},Te.prototype.supportsTouch=function(){return!0},Te.prototype.receivedFocus=function(){var e=this,t=this;this.selectionInEditor()?setTimeout(function(){return e.pollSelection()},20):Ct(this.cm,function(){return t.cm.curOp.selectionChanged=!0});function n(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,n))}this.polling.set(this.cm.options.pollInterval,n)},Te.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Te.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var e=this.getSelection(),t=this.cm;if(te&&M&&this.cm.display.gutterSpecs.length&&Pc(e.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var n=Ki(t,e.anchorNode,e.anchorOffset),r=Ki(t,e.focusNode,e.focusOffset);n&&r&&Ct(t,function(){et(t.doc,xr(n,r),Lt),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)})}}},Te.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e=this.cm,t=e.display,n=e.doc.sel.primary(),r=n.from(),o=n.to();if(r.ch==0&&r.line>e.firstLine()&&(r=T(r.line-1,Z(e.doc,r.line-1).length)),o.ch==Z(e.doc,o.line).text.length&&o.line<e.lastLine()&&(o=T(o.line+1,0)),r.line<t.viewFrom||o.line>t.viewTo-1)return!1;var l,u,f;r.line==t.viewFrom||(l=Br(e,r.line))==0?(u=v(t.view[0].line),f=t.view[0].node):(u=v(t.view[l].line),f=t.view[l-1].node.nextSibling);var c=Br(e,o.line),d,y;if(c==t.view.length-1?(d=t.viewTo-1,y=t.lineDiv.lastChild):(d=v(t.view[c+1].line)-1,y=t.view[c+1].node.previousSibling),!f)return!1;for(var x=e.doc.splitLines(Rc(e,f,y,u,d)),L=tr(e.doc,T(u,0),T(d,Z(e.doc,d).text.length));x.length>1&&L.length>1;)if(Ce(x)==Ce(L))x.pop(),L.pop(),d--;else if(x[0]==L[0])x.shift(),L.shift(),u++;else break;for(var k=0,O=0,B=x[0],U=L[0],Y=Math.min(B.length,U.length);k<Y&&B.charCodeAt(k)==U.charCodeAt(k);)++k;for(var X=Ce(x),K=Ce(L),Q=Math.min(X.length-(x.length==1?k:0),K.length-(L.length==1?k:0));O<Q&&X.charCodeAt(X.length-O-1)==K.charCodeAt(K.length-O-1);)++O;if(x.length==1&&L.length==1&&u==r.line)for(;k&&k>r.ch&&X.charCodeAt(X.length-O-1)==K.charCodeAt(K.length-O-1);)k--,O++;x[x.length-1]=X.slice(0,X.length-O).replace(/^\u200b+/,""),x[0]=x[0].slice(k).replace(/\u200b+$/,"");var ie=T(u,k),ee=T(d,L.length?Ce(L).length-O:0);if(x.length>1||x[0]||q(ie,ee))return hn(e.doc,x,ie,ee,"+input"),!0},Te.prototype.ensurePolled=function(){this.forceCompositionEnd()},Te.prototype.reset=function(){this.forceCompositionEnd()},Te.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Te.prototype.readFromDOMSoon=function(){var e=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing)if(e.composing.done)e.composing=null;else return;e.updateFromDOM()},80))},Te.prototype.updateFromDOM=function(){var e=this;(this.cm.isReadOnly()||!this.pollContent())&&Ct(this.cm,function(){return vt(e.cm)})},Te.prototype.setUneditable=function(e){e.contentEditable="false"},Te.prototype.onKeyPress=function(e){e.charCode==0||this.composing||(e.preventDefault(),this.cm.isReadOnly()||je(this.cm,Vo)(this.cm,String.fromCharCode(e.charCode==null?e.keyCode:e.charCode),0))},Te.prototype.readOnlyChanged=function(e){this.div.contentEditable=String(e!="nocursor")},Te.prototype.onContextMenu=function(){},Te.prototype.resetPosition=function(){},Te.prototype.needsContentAttribute=!0;function Cs(e,t){var n=xo(e,t.line);if(!n||n.hidden)return null;var r=Z(e.doc,t.line),o=Zl(n,r,t.line),l=be(r,e.doc.direction),u="left";if(l){var f=hr(l,t.ch);u=f%2?"right":"left"}var c=ea(o.map,t.ch,u);return c.offset=c.collapse=="right"?c.end:c.start,c}function Pc(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function mn(e,t){return t&&(e.bad=!0),e}function Rc(e,t,n,r,o){var l="",u=!1,f=e.doc.lineSeparator(),c=!1;function d(k){return function(O){return O.id==k}}function y(){u&&(l+=f,c&&(l+=f),u=c=!1)}function x(k){k&&(y(),l+=k)}function L(k){if(k.nodeType==1){var O=k.getAttribute("cm-text");if(O){x(O);return}var B=k.getAttribute("cm-marker"),U;if(B){var Y=e.findMarks(T(r,0),T(o+1,0),d(+B));Y.length&&(U=Y[0].find(0))&&x(tr(e.doc,U.from,U.to).join(f));return}if(k.getAttribute("contenteditable")=="false")return;var X=/^(pre|div|p|li|table|br)$/i.test(k.nodeName);if(!/^br$/i.test(k.nodeName)&&k.textContent.length==0)return;X&&y();for(var K=0;K<k.childNodes.length;K++)L(k.childNodes[K]);/^(pre|p)$/i.test(k.nodeName)&&(c=!0),X&&(u=!0)}else k.nodeType==3&&x(k.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;L(t),t!=n;)t=t.nextSibling,c=!1;return l}function Ki(e,t,n){var r;if(t==e.display.lineDiv){if(r=e.display.lineDiv.childNodes[n],!r)return mn(e.clipPos(T(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var o=0;o<e.display.view.length;o++){var l=e.display.view[o];if(l.node==r)return _c(l,t,n)}}function _c(e,t,n){var r=e.text.firstChild,o=!1;if(!t||!j(r,t))return mn(T(v(e.line),0),!0);if(t==r&&(o=!0,t=r.childNodes[n],n=0,!t)){var l=e.rest?Ce(e.rest):e.line;return mn(T(v(l),l.text.length),o)}var u=t.nodeType==3?t:null,f=t;for(!u&&t.childNodes.length==1&&t.firstChild.nodeType==3&&(u=t.firstChild,n&&(n=u.nodeValue.length));f.parentNode!=r;)f=f.parentNode;var c=e.measure,d=c.maps;function y(U,Y,X){for(var K=-1;K<(d?d.length:0);K++)for(var Q=K<0?c.map:d[K],ie=0;ie<Q.length;ie+=3){var ee=Q[ie+2];if(ee==U||ee==Y){var ye=v(K<0?e.line:e.rest[K]),Ee=Q[ie]+X;return(X<0||ee!=U)&&(Ee=Q[ie+(X?1:0)]),T(ye,Ee)}}}var x=y(u,f,n);if(x)return mn(x,o);for(var L=f.nextSibling,k=u?u.nodeValue.length-n:0;L;L=L.nextSibling){if(x=y(L,L.firstChild,0),x)return mn(T(x.line,x.ch-k),o);k+=L.textContent.length}for(var O=f.previousSibling,B=n;O;O=O.previousSibling){if(x=y(O,O.firstChild,-1),x)return mn(T(x.line,x.ch+B),o);B+=O.textContent.length}}var We=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new Ut,this.hasSelection=!1,this.composing=null,this.resetting=!1};We.prototype.init=function(e){var t=this,n=this,r=this.cm;this.createField(e);var o=this.textarea;e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),I&&(o.style.width="0px"),ne(o,"input",function(){S&&A>=9&&t.hasSelection&&(t.hasSelection=null),n.poll()}),ne(o,"paste",function(u){Fe(r,u)||ms(u,r)||(r.state.pasteIncoming=+new Date,n.fastPoll())});function l(u){if(!Fe(r,u)){if(r.somethingSelected())Yi({lineWise:!1,text:r.getSelections()});else if(r.options.lineWiseCopyCut){var f=bs(r);Yi({lineWise:!0,text:f.text}),u.type=="cut"?r.setSelections(f.ranges,null,Lt):(n.prevInput="",o.value=f.text.join(`
`),ht(o))}else return;u.type=="cut"&&(r.state.cutIncoming=+new Date)}}ne(o,"cut",l),ne(o,"copy",l),ne(e.scroller,"paste",function(u){if(!(ir(e,u)||Fe(r,u))){if(!o.dispatchEvent){r.state.pasteIncoming=+new Date,n.focus();return}var f=new Event("paste");f.clipboardData=u.clipboardData,o.dispatchEvent(f)}}),ne(e.lineSpace,"selectstart",function(u){ir(e,u)||$e(u)}),ne(o,"compositionstart",function(){var u=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:u,range:r.markText(u,r.getCursor("to"),{className:"CodeMirror-composing"})}}),ne(o,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},We.prototype.createField=function(e){this.wrapper=xs(),this.textarea=this.wrapper.firstChild;var t=this.cm.options;$o(this.textarea,t.spellcheck,t.autocorrect,t.autocapitalize)},We.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},We.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,r=ca(e);if(e.options.moveInputWithCursor){var o=Wt(e,n.sel.primary().head,"div"),l=t.wrapper.getBoundingClientRect(),u=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,o.top+u.top-l.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,o.left+u.left-l.left))}return r},We.prototype.showSelection=function(e){var t=this.cm,n=t.display;R(n.cursorDiv,e.cursors),R(n.selectionDiv,e.selection),e.teTop!=null&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},We.prototype.reset=function(e){if(!(this.contextMenuPending||this.composing&&e)){var t=this.cm;if(this.resetting=!0,t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&ht(this.textarea),S&&A>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value="",S&&A>=9&&(this.hasSelection=null));this.resetting=!1}},We.prototype.getField=function(){return this.textarea},We.prototype.supportsTouch=function(){return!1},We.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!oe||le(xe(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},We.prototype.blur=function(){this.textarea.blur()},We.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},We.prototype.receivedFocus=function(){this.slowPoll()},We.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},We.prototype.fastPoll=function(){var e=!1,t=this;t.pollingFast=!0;function n(){var r=t.poll();!r&&!e?(e=!0,t.polling.set(60,n)):(t.pollingFast=!1,t.slowPoll())}t.polling.set(20,n)},We.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||this.resetting||!t.state.focused||vr(n)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var o=n.value;if(o==r&&!t.somethingSelected())return!1;if(S&&A>=9&&this.hasSelection===o||ce&&/[\uf700-\uf7ff]/.test(o))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var l=o.charCodeAt(0);if(l==8203&&!r&&(r="​"),l==8666)return this.reset(),this.cm.execCommand("undo")}for(var u=0,f=Math.min(r.length,o.length);u<f&&r.charCodeAt(u)==o.charCodeAt(u);)++u;return Ct(t,function(){Vo(t,o.slice(u),r.length-u,null,e.composing?"*compose":null),o.length>1e3||o.indexOf(`
`)>-1?n.value=e.prevInput="":e.prevInput=o,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},We.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},We.prototype.onKeyPress=function(){S&&A>=9&&(this.hasSelection=null),this.fastPoll()},We.prototype.onContextMenu=function(e){var t=this,n=t.cm,r=n.display,o=t.textarea;t.contextMenuPending&&t.contextMenuPending();var l=Fr(n,e),u=r.scroller.scrollTop;if(!l||G)return;var f=n.options.resetSelectionOnContextMenu;f&&n.doc.sel.contains(l)==-1&&je(n,et)(n.doc,xr(l),Lt);var c=o.style.cssText,d=t.wrapper.style.cssText,y=t.wrapper.offsetParent.getBoundingClientRect();t.wrapper.style.cssText="position: static",o.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(e.clientY-y.top-5)+"px; left: "+(e.clientX-y.left-5)+`px;
      z-index: 1000; background: `+(S?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var x;N&&(x=o.ownerDocument.defaultView.scrollY),r.input.focus(),N&&o.ownerDocument.defaultView.scrollTo(null,x),r.input.reset(),n.somethingSelected()||(o.value=t.prevInput=" "),t.contextMenuPending=k,r.selForContextMenu=n.doc.sel,clearTimeout(r.detectingSelectAll);function L(){if(o.selectionStart!=null){var B=n.somethingSelected(),U="​"+(B?o.value:"");o.value="⇚",o.value=U,t.prevInput=B?"":"​",o.selectionStart=1,o.selectionEnd=U.length,r.selForContextMenu=n.doc.sel}}function k(){if(t.contextMenuPending==k&&(t.contextMenuPending=!1,t.wrapper.style.cssText=d,o.style.cssText=c,S&&A<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=u),o.selectionStart!=null)){(!S||S&&A<9)&&L();var B=0,U=function(){r.selForContextMenu==n.doc.sel&&o.selectionStart==0&&o.selectionEnd>0&&t.prevInput=="​"?je(n,Ua)(n):B++<10?r.detectingSelectAll=setTimeout(U,500):(r.selForContextMenu=null,r.input.reset())};r.detectingSelectAll=setTimeout(U,200)}}if(S&&A>=9&&L(),J){dr(e);var O=function(){Ve(window,"mouseup",O),setTimeout(k,20)};ne(window,"mouseup",O)}else setTimeout(k,50)},We.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled=e=="nocursor",this.textarea.readOnly=!!e},We.prototype.setUneditable=function(){},We.prototype.needsContentAttribute=!1;function Uc(e,t){if(t=t?ge(t):{},t.value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),t.autofocus==null){var n=le(xe(e));t.autofocus=n==e||e.getAttribute("autofocus")!=null&&n==document.body}function r(){e.value=f.getValue()}var o;if(e.form&&(ne(e.form,"submit",r),!t.leaveSubmitMethodAlone)){var l=e.form;o=l.submit;try{var u=l.submit=function(){r(),l.submit=o,l.submit(),l.submit=u}}catch{}}t.finishInit=function(c){c.save=r,c.getTextArea=function(){return e},c.toTextArea=function(){c.toTextArea=isNaN,r(),e.parentNode.removeChild(c.getWrapperElement()),e.style.display="",e.form&&(Ve(e.form,"submit",r),!t.leaveSubmitMethodAlone&&typeof e.form.submit=="function"&&(e.form.submit=o))}},e.style.display="none";var f=Oe(function(c){return e.parentNode.insertBefore(c,e.nextSibling)},t);return f}function zc(e){e.off=Ve,e.on=ne,e.wheelEventPixels=Jf,e.Doc=gt,e.splitLines=Ot,e.countColumn=Le,e.findColumn=Gt,e.isWordChar=An,e.Pass=ur,e.signal=De,e.Line=en,e.changeEnd=wr,e.scrollbarModel=ma,e.Pos=T,e.cmpPos=q,e.modes=Xr,e.mimeModes=Ft,e.resolveMode=Jr,e.getMode=Qr,e.modeExtensions=gr,e.extendMode=Zr,e.copyState=Kt,e.startState=Vr,e.innerMode=On,e.commands=ei,e.keyMap=lr,e.keyName=ns,e.isModifierKey=ts,e.lookupKey=pn,e.normalizeKeyMap=mc,e.StringStream=Be,e.SharedTextMarker=Zn,e.TextMarker=Sr,e.LineWidget=Qn,e.e_preventDefault=$e,e.e_stopPropagation=jr,e.e_stop=dr,e.addClass=fe,e.contains=j,e.rmClass=he,e.keyNames=kr}Dc(Oe),Wc(Oe);var Gc="iter insert remove copy getEditor constructor".split(" ");for(var ji in gt.prototype)gt.prototype.hasOwnProperty(ji)&&me(Gc,ji)<0&&(Oe.prototype[ji]=function(e){return function(){return e.apply(this.doc,arguments)}}(gt.prototype[ji]));return It(gt),Oe.inputStyles={textarea:We,contenteditable:Te},Oe.defineMode=function(e){!Oe.defaults.mode&&e!="null"&&(Oe.defaults.mode=e),Bt.apply(this,arguments)},Oe.defineMIME=Ir,Oe.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),Oe.defineMIME("text/plain","null"),Oe.defineExtension=function(e,t){Oe.prototype[e]=t},Oe.defineDocExtension=function(e,t){gt.prototype[e]=t},Oe.fromTextArea=Uc,zc(Oe),Oe.version="5.65.19",Oe})}(nl)),nl.exports}var jc=Kr();const qc=Kc(jc);(function(i,a){(function(s){s(Kr())})(function(s){s.defineMode("javascript",function(p,h){var m=p.indentUnit,g=h.statementIndent,C=h.jsonld,S=h.json||C,A=h.trackScope!==!1,N=h.typescript,W=h.wordCharacters||/[\w$\xa1-\uffff]/,M=function(){function v(Ye){return{type:Ye,style:"keyword"}}var b=v("keyword a"),D=v("keyword b"),_=v("keyword c"),T=v("keyword d"),q=v("operator"),Se={type:"atom",style:"atom"};return{if:v("if"),while:b,with:b,else:D,do:D,try:D,finally:D,return:T,break:T,continue:T,new:v("new"),delete:_,void:_,throw:_,debugger:v("debugger"),var:v("var"),const:v("var"),let:v("var"),function:v("function"),catch:v("catch"),for:v("for"),switch:v("switch"),case:v("case"),default:v("default"),in:q,typeof:q,instanceof:q,true:Se,false:Se,null:Se,undefined:Se,NaN:Se,Infinity:Se,this:v("this"),class:v("class"),super:v("atom"),yield:_,export:v("export"),import:v("import"),extends:_,await:_}}(),P=/[+\-*&%=<>!?|~^@]/,G=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function se(v){for(var b=!1,D,_=!1;(D=v.next())!=null;){if(!b){if(D=="/"&&!_)return;D=="["?_=!0:_&&D=="]"&&(_=!1)}b=!b&&D=="\\"}}var ue,H;function I(v,b,D){return ue=v,H=D,b}function te(v,b){var D=v.next();if(D=='"'||D=="'")return b.tokenize=oe(D),b.tokenize(v,b);if(D=="."&&v.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return I("number","number");if(D=="."&&v.match(".."))return I("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(D))return I(D);if(D=="="&&v.eat(">"))return I("=>","operator");if(D=="0"&&v.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return I("number","number");if(/\d/.test(D))return v.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),I("number","number");if(D=="/")return v.eat("*")?(b.tokenize=ce,ce(v,b)):v.eat("/")?(v.skipToEnd(),I("comment","comment")):At(v,b,1)?(se(v),v.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),I("regexp","string-2")):(v.eat("="),I("operator","operator",v.current()));if(D=="`")return b.tokenize=ve,ve(v,b);if(D=="#"&&v.peek()=="!")return v.skipToEnd(),I("meta","meta");if(D=="#"&&v.eatWhile(W))return I("variable","property");if(D=="<"&&v.match("!--")||D=="-"&&v.match("->")&&!/\S/.test(v.string.slice(0,v.start)))return v.skipToEnd(),I("comment","comment");if(P.test(D))return(D!=">"||!b.lexical||b.lexical.type!=">")&&(v.eat("=")?(D=="!"||D=="=")&&v.eat("="):/[<>*+\-|&?]/.test(D)&&(v.eat(D),D==">"&&v.eat(D))),D=="?"&&v.eat(".")?I("."):I("operator","operator",v.current());if(W.test(D)){v.eatWhile(W);var _=v.current();if(b.lastType!="."){if(M.propertyIsEnumerable(_)){var T=M[_];return I(T.type,T.style,_)}if(_=="async"&&v.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return I("async","keyword",_)}return I("variable","variable",_)}}function oe(v){return function(b,D){var _=!1,T;if(C&&b.peek()=="@"&&b.match(G))return D.tokenize=te,I("jsonld-keyword","meta");for(;(T=b.next())!=null&&!(T==v&&!_);)_=!_&&T=="\\";return _||(D.tokenize=te),I("string","string")}}function ce(v,b){for(var D=!1,_;_=v.next();){if(_=="/"&&D){b.tokenize=te;break}D=_=="*"}return I("comment","comment")}function ve(v,b){for(var D=!1,_;(_=v.next())!=null;){if(!D&&(_=="`"||_=="$"&&v.eat("{"))){b.tokenize=te;break}D=!D&&_=="\\"}return I("quasi","string-2",v.current())}var F="([{}])";function z(v,b){b.fatArrowAt&&(b.fatArrowAt=null);var D=v.string.indexOf("=>",v.start);if(!(D<0)){if(N){var _=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(v.string.slice(v.start,D));_&&(D=_.index)}for(var T=0,q=!1,Se=D-1;Se>=0;--Se){var Ye=v.string.charAt(Se),pt=F.indexOf(Ye);if(pt>=0&&pt<3){if(!T){++Se;break}if(--T==0){Ye=="("&&(q=!0);break}}else if(pt>=3&&pt<6)++T;else if(W.test(Ye))q=!0;else if(/["'\/`]/.test(Ye))for(;;--Se){if(Se==0)return;var $r=v.string.charAt(Se-1);if($r==Ye&&v.string.charAt(Se-2)!="\\"){Se--;break}}else if(q&&!T){++Se;break}}q&&!T&&(b.fatArrowAt=Se)}}var V={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function J(v,b,D,_,T,q){this.indented=v,this.column=b,this.type=D,this.prev=T,this.info=q,_!=null&&(this.align=_)}function $(v,b){if(!A)return!1;for(var D=v.localVars;D;D=D.next)if(D.name==b)return!0;for(var _=v.context;_;_=_.prev)for(var D=_.vars;D;D=D.next)if(D.name==b)return!0}function he(v,b,D,_,T){var q=v.cc;for(E.state=v,E.stream=T,E.marked=null,E.cc=q,E.style=b,v.lexical.hasOwnProperty("align")||(v.lexical.align=!0);;){var Se=q.length?q.pop():S?me:Le;if(Se(D,_)){for(;q.length&&q[q.length-1].lex;)q.pop()();return E.marked?E.marked:D=="variable"&&$(v,_)?"variable-2":b}}}var E={state:null,marked:null,cc:null};function R(){for(var v=arguments.length-1;v>=0;v--)E.cc.push(arguments[v])}function w(){return R.apply(null,arguments),!0}function Me(v,b){for(var D=b;D;D=D.next)if(D.name==v)return!0;return!1}function Ae(v){var b=E.state;if(E.marked="def",!!A){if(b.context){if(b.lexical.info=="var"&&b.context&&b.context.block){var D=j(v,b.context);if(D!=null){b.context=D;return}}else if(!Me(v,b.localVars)){b.localVars=new Ie(v,b.localVars);return}}h.globalVars&&!Me(v,b.globalVars)&&(b.globalVars=new Ie(v,b.globalVars))}}function j(v,b){if(b)if(b.block){var D=j(v,b.prev);return D?D==b.prev?b:new fe(D,b.vars,!0):null}else return Me(v,b.vars)?b:new fe(b.prev,new Ie(v,b.vars),!1);else return null}function le(v){return v=="public"||v=="private"||v=="protected"||v=="abstract"||v=="readonly"}function fe(v,b,D){this.prev=v,this.vars=b,this.block=D}function Ie(v,b){this.name=v,this.next=b}var ht=new Ie("this",new Ie("arguments",null));function Ge(){E.state.context=new fe(E.state.context,E.state.localVars,!1),E.state.localVars=ht}function we(){E.state.context=new fe(E.state.context,E.state.localVars,!0),E.state.localVars=null}Ge.lex=we.lex=!0;function xe(){E.state.localVars=E.state.context.vars,E.state.context=E.state.context.prev}xe.lex=!0;function de(v,b){var D=function(){var _=E.state,T=_.indented;if(_.lexical.type=="stat")T=_.lexical.indented;else for(var q=_.lexical;q&&q.type==")"&&q.align;q=q.prev)T=q.indented;_.lexical=new J(T,E.stream.column(),v,null,_.lexical,b)};return D.lex=!0,D}function re(){var v=E.state;v.lexical.prev&&(v.lexical.type==")"&&(v.indented=v.lexical.indented),v.lexical=v.lexical.prev)}re.lex=!0;function ge(v){function b(D){return D==v?w():v==";"||D=="}"||D==")"||D=="]"?R():w(b)}return b}function Le(v,b){return v=="var"?w(de("vardef",b),jr,ge(";"),re):v=="keyword a"?w(de("form"),ur,Le,re):v=="keyword b"?w(de("form"),Le,re):v=="keyword d"?E.stream.match(/^\s*$/,!1)?w():w(de("stat"),zt,ge(";"),re):v=="debugger"?w(ge(";")):v=="{"?w(de("}"),we,Yt,re,xe):v==";"?w():v=="if"?(E.state.lexical.info=="else"&&E.state.cc[E.state.cc.length-1]==re&&E.state.cc.pop()(),w(de("form"),ur,Le,re,qr)):v=="function"?w(Ot):v=="for"?w(de("form"),we,vi,Le,xe,re):v=="class"||N&&b=="interface"?(E.marked="keyword",w(de("form",v=="class"?v:b),Xr,re)):v=="variable"?N&&b=="declare"?(E.marked="keyword",w(Le)):N&&(b=="module"||b=="enum"||b=="type")&&E.stream.match(/^\s*\w/,!1)?(E.marked="keyword",b=="enum"?w(Z):b=="type"?w(gi,ge("operator"),be,ge(";")):w(de("form"),dt,ge("{"),de("}"),Yt,re,re)):N&&b=="namespace"?(E.marked="keyword",w(de("form"),me,Le,re)):N&&b=="abstract"?(E.marked="keyword",w(Le)):w(de("stat"),oo):v=="switch"?w(de("form"),ur,ge("{"),de("}","switch"),we,Yt,re,re,xe):v=="case"?w(me,ge(":")):v=="default"?w(ge(":")):v=="catch"?w(de("form"),Ge,Ut,Le,re,xe):v=="export"?w(de("stat"),Jr,re):v=="import"?w(de("stat"),gr,re):v=="async"?w(Le):b=="@"?w(me,Le):R(de("stat"),me,ge(";"),re)}function Ut(v){if(v=="(")return w(Dt,ge(")"))}function me(v,b){return Lt(v,b,!1)}function it(v,b){return Lt(v,b,!0)}function ur(v){return v!="("?R():w(de(")"),zt,ge(")"),re)}function Lt(v,b,D){if(E.state.fatArrowAt==E.stream.start){var _=D?Mr:Ce;if(v=="(")return w(Ge,de(")"),Pe(Dt,")"),re,ge("=>"),_,xe);if(v=="variable")return R(Ge,dt,ge("=>"),_,xe)}var T=D?Gt:Tt;return V.hasOwnProperty(v)?w(T):v=="function"?w(Ot,T):v=="class"||N&&b=="interface"?(E.marked="keyword",w(de("form"),so,re)):v=="keyword c"||v=="async"?w(D?it:me):v=="("?w(de(")"),zt,ge(")"),re,T):v=="operator"||v=="spread"?w(D?it:me):v=="["?w(de("]"),Be,re,T):v=="{"?fr(Vt,"}",null,T):v=="quasi"?R(Zt,T):v=="new"?w(io(D)):w()}function zt(v){return v.match(/[;\}\)\],]/)?R():R(me)}function Tt(v,b){return v==","?w(zt):Gt(v,b,!1)}function Gt(v,b,D){var _=D==!1?Tt:Gt,T=D==!1?me:it;if(v=="=>")return w(Ge,D?Mr:Ce,xe);if(v=="operator")return/\+\+|--/.test(b)||N&&b=="!"?w(_):N&&b=="<"&&E.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?w(de(">"),Pe(be,">"),re,_):b=="?"?w(me,ge(":"),T):w(T);if(v=="quasi")return R(Zt,_);if(v!=";"){if(v=="(")return fr(it,")","call",_);if(v==".")return w(An,_);if(v=="[")return w(de("]"),zt,ge("]"),re,_);if(N&&b=="as")return E.marked="keyword",w(be,_);if(v=="regexp")return E.state.lastType=E.marked="operator",E.stream.backUp(E.stream.pos-E.stream.start-1),w(T)}}function Zt(v,b){return v!="quasi"?R():b.slice(b.length-2)!="${"?w(Zt):w(zt,Tn)}function Tn(v){if(v=="}")return E.marked="string-2",E.state.tokenize=ve,w(Zt)}function Ce(v){return z(E.stream,E.state),R(v=="{"?Le:me)}function Mr(v){return z(E.stream,E.state),R(v=="{"?Le:it)}function io(v){return function(b){return b=="."?w(v?hi:ci):b=="variable"&&N?w(wt,v?Gt:Tt):R(v?it:me)}}function ci(v,b){if(b=="target")return E.marked="keyword",w(Tt)}function hi(v,b){if(b=="target")return E.marked="keyword",w(Gt)}function oo(v){return v==":"?w(re,Le):R(Tt,ge(";"),re)}function An(v){if(v=="variable")return E.marked="property",w()}function Vt(v,b){if(v=="async")return E.marked="property",w(Vt);if(v=="variable"||E.style=="keyword"){if(E.marked="property",b=="get"||b=="set")return w(di);var D;return N&&E.state.fatArrowAt==E.stream.start&&(D=E.stream.match(/^\s*:\s*/,!1))&&(E.state.fatArrowAt=E.stream.pos+D[0].length),w($t)}else{if(v=="number"||v=="string")return E.marked=C?"property":E.style+" property",w($t);if(v=="jsonld-keyword")return w($t);if(N&&le(b))return E.marked="keyword",w(Vt);if(v=="[")return w(me,cr,ge("]"),$t);if(v=="spread")return w(it,$t);if(b=="*")return E.marked="keyword",w(Vt);if(v==":")return R($t)}}function di(v){return v!="variable"?R($t):(E.marked="property",w(Ot))}function $t(v){if(v==":")return w(it);if(v=="(")return R(Ot)}function Pe(v,b,D){function _(T,q){if(D?D.indexOf(T)>-1:T==","){var Se=E.state.lexical;return Se.info=="call"&&(Se.pos=(Se.pos||0)+1),w(function(Ye,pt){return Ye==b||pt==b?R():R(v)},_)}return T==b||q==b?w():D&&D.indexOf(";")>-1?R(v):w(ge(b))}return function(T,q){return T==b||q==b?w():R(v,_)}}function fr(v,b,D){for(var _=3;_<arguments.length;_++)E.cc.push(arguments[_]);return w(de(b,D),Pe(v,b),re)}function Yt(v){return v=="}"?w():R(Le,Yt)}function cr(v,b){if(N){if(v==":")return w(be);if(b=="?")return w(cr)}}function Or(v,b){if(N&&(v==":"||b=="in"))return w(be)}function hr(v){if(N&&v==":")return E.stream.match(/^\s*\w+\s+is\b/,!1)?w(me,lo,be):w(be)}function lo(v,b){if(b=="is")return E.marked="keyword",w()}function be(v,b){if(b=="keyof"||b=="typeof"||b=="infer"||b=="readonly")return E.marked="keyword",w(b=="typeof"?it:be);if(v=="variable"||b=="void")return E.marked="type",w(Mt);if(b=="|"||b=="&")return w(be);if(v=="string"||v=="number"||v=="atom")return w(Mt);if(v=="[")return w(de("]"),Pe(be,"]",","),re,Mt);if(v=="{")return w(de("}"),ne,re,Mt);if(v=="(")return w(Pe(Fe,")"),pi,Mt);if(v=="<")return w(Pe(be,">"),be);if(v=="quasi")return R(Ve,Mt)}function pi(v){if(v=="=>")return w(be)}function ne(v){return v.match(/[\}\)\]]/)?w():v==","||v==";"?w(ne):R(er,ne)}function er(v,b){if(v=="variable"||E.style=="keyword")return E.marked="property",w(er);if(b=="?"||v=="number"||v=="string")return w(er);if(v==":")return w(be);if(v=="[")return w(ge("variable"),Or,ge("]"),er);if(v=="(")return R(vr,er);if(!v.match(/[;\}\)\],]/))return w()}function Ve(v,b){return v!="quasi"?R():b.slice(b.length-2)!="${"?w(Ve):w(be,De)}function De(v){if(v=="}")return E.marked="string-2",E.state.tokenize=ve,w(Ve)}function Fe(v,b){return v=="variable"&&E.stream.match(/^\s*[?:]/,!1)||b=="?"?w(Fe):v==":"?w(be):v=="spread"?w(Fe):R(be)}function Mt(v,b){if(b=="<")return w(de(">"),Pe(be,">"),re,Mt);if(b=="|"||v=="."||b=="&")return w(be);if(v=="[")return w(be,ge("]"),Mt);if(b=="extends"||b=="implements")return E.marked="keyword",w(be);if(b=="?")return w(be,ge(":"),be)}function wt(v,b){if(b=="<")return w(de(">"),Pe(be,">"),re,Mt)}function It(){return R(be,$e)}function $e(v,b){if(b=="=")return w(be)}function jr(v,b){return b=="enum"?(E.marked="keyword",w(Z)):R(dt,cr,Nt,ao)}function dt(v,b){if(N&&le(b))return E.marked="keyword",w(dt);if(v=="variable")return Ae(b),w();if(v=="spread")return w(dt);if(v=="[")return fr(En,"]");if(v=="{")return fr(dr,"}")}function dr(v,b){return v=="variable"&&!E.stream.match(/^\s*:/,!1)?(Ae(b),w(Nt)):(v=="variable"&&(E.marked="property"),v=="spread"?w(dt):v=="}"?R():v=="["?w(me,ge("]"),ge(":"),dr):w(ge(":"),dt,Nt))}function En(){return R(dt,Nt)}function Nt(v,b){if(b=="=")return w(it)}function ao(v){if(v==",")return w(jr)}function qr(v,b){if(v=="keyword b"&&b=="else")return w(de("form","else"),Le,re)}function vi(v,b){if(b=="await")return w(vi);if(v=="(")return w(de(")"),Mn,re)}function Mn(v){return v=="var"?w(jr,pr):v=="variable"?w(pr):R(pr)}function pr(v,b){return v==")"?w():v==";"?w(pr):b=="in"||b=="of"?(E.marked="keyword",w(me,pr)):R(me,pr)}function Ot(v,b){if(b=="*")return E.marked="keyword",w(Ot);if(v=="variable")return Ae(b),w(Ot);if(v=="(")return w(Ge,de(")"),Pe(Dt,")"),re,hr,Le,xe);if(N&&b=="<")return w(de(">"),Pe(It,">"),re,Ot)}function vr(v,b){if(b=="*")return E.marked="keyword",w(vr);if(v=="variable")return Ae(b),w(vr);if(v=="(")return w(Ge,de(")"),Pe(Dt,")"),re,hr,xe);if(N&&b=="<")return w(de(">"),Pe(It,">"),re,vr)}function gi(v,b){if(v=="keyword"||v=="variable")return E.marked="type",w(gi);if(b=="<")return w(de(">"),Pe(It,">"),re)}function Dt(v,b){return b=="@"&&w(me,Dt),v=="spread"?w(Dt):N&&le(b)?(E.marked="keyword",w(Dt)):N&&v=="this"?w(cr,Nt):R(dt,cr,Nt)}function so(v,b){return v=="variable"?Xr(v,b):Ft(v,b)}function Xr(v,b){if(v=="variable")return Ae(b),w(Ft)}function Ft(v,b){if(b=="<")return w(de(">"),Pe(It,">"),re,Ft);if(b=="extends"||b=="implements"||N&&v==",")return b=="implements"&&(E.marked="keyword"),w(N?be:me,Ft);if(v=="{")return w(de("}"),Bt,re)}function Bt(v,b){if(v=="async"||v=="variable"&&(b=="static"||b=="get"||b=="set"||N&&le(b))&&E.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return E.marked="keyword",w(Bt);if(v=="variable"||E.style=="keyword")return E.marked="property",w(Ir,Bt);if(v=="number"||v=="string")return w(Ir,Bt);if(v=="[")return w(me,cr,ge("]"),Ir,Bt);if(b=="*")return E.marked="keyword",w(Bt);if(N&&v=="(")return R(vr,Bt);if(v==";"||v==",")return w(Bt);if(v=="}")return w();if(b=="@")return w(me,Bt)}function Ir(v,b){if(b=="!"||b=="?")return w(Ir);if(v==":")return w(be,Nt);if(b=="=")return w(it);var D=E.state.lexical.prev,_=D&&D.info=="interface";return R(_?vr:Ot)}function Jr(v,b){return b=="*"?(E.marked="keyword",w(Vr,ge(";"))):b=="default"?(E.marked="keyword",w(me,ge(";"))):v=="{"?w(Pe(Qr,"}"),Vr,ge(";")):R(Le)}function Qr(v,b){if(b=="as")return E.marked="keyword",w(ge("variable"));if(v=="variable")return R(it,Qr)}function gr(v){return v=="string"?w():v=="("?R(me):v=="."?R(Tt):R(Zr,Kt,Vr)}function Zr(v,b){return v=="{"?fr(Zr,"}"):(v=="variable"&&Ae(b),b=="*"&&(E.marked="keyword"),w(On))}function Kt(v){if(v==",")return w(Zr,Kt)}function On(v,b){if(b=="as")return E.marked="keyword",w(Zr)}function Vr(v,b){if(b=="from")return E.marked="keyword",w(me)}function Be(v){return v=="]"?w():R(Pe(it,"]"))}function Z(){return R(de("form"),dt,ge("{"),de("}"),Pe(tr,"}"),re,re)}function tr(){return R(dt,Nt)}function In(v,b){return v.lastType=="operator"||v.lastType==","||P.test(b.charAt(0))||/[,.]/.test(b.charAt(0))}function At(v,b,D){return b.tokenize==te&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(b.lastType)||b.lastType=="quasi"&&/\{\s*$/.test(v.string.slice(0,v.pos-(D||0)))}return{startState:function(v){var b={tokenize:te,lastType:"sof",cc:[],lexical:new J((v||0)-m,0,"block",!1),localVars:h.localVars,context:h.localVars&&new fe(null,null,!1),indented:v||0};return h.globalVars&&typeof h.globalVars=="object"&&(b.globalVars=h.globalVars),b},token:function(v,b){if(v.sol()&&(b.lexical.hasOwnProperty("align")||(b.lexical.align=!1),b.indented=v.indentation(),z(v,b)),b.tokenize!=ce&&v.eatSpace())return null;var D=b.tokenize(v,b);return ue=="comment"?D:(b.lastType=ue=="operator"&&(H=="++"||H=="--")?"incdec":ue,he(b,D,ue,H,v))},indent:function(v,b){if(v.tokenize==ce||v.tokenize==ve)return s.Pass;if(v.tokenize!=te)return 0;var D=b&&b.charAt(0),_=v.lexical,T;if(!/^\s*else\b/.test(b))for(var q=v.cc.length-1;q>=0;--q){var Se=v.cc[q];if(Se==re)_=_.prev;else if(Se!=qr&&Se!=xe)break}for(;(_.type=="stat"||_.type=="form")&&(D=="}"||(T=v.cc[v.cc.length-1])&&(T==Tt||T==Gt)&&!/^[,\.=+\-*:?[\(]/.test(b));)_=_.prev;g&&_.type==")"&&_.prev.type=="stat"&&(_=_.prev);var Ye=_.type,pt=D==Ye;return Ye=="vardef"?_.indented+(v.lastType=="operator"||v.lastType==","?_.info.length+1:0):Ye=="form"&&D=="{"?_.indented:Ye=="form"?_.indented+m:Ye=="stat"?_.indented+(In(v,b)?g||m:0):_.info=="switch"&&!pt&&h.doubleIndentSwitch!=!1?_.indented+(/^(?:case|default)\b/.test(b)?m:2*m):_.align?_.column+(pt?0:1):_.indented+(pt?0:m)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:S?null:"/*",blockCommentEnd:S?null:"*/",blockCommentContinue:S?null:" * ",lineComment:S?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:S?"json":"javascript",jsonldMode:C,jsonMode:S,expressionAllowed:At,skipExpression:function(v){he(v,"atom","atom","true",new s.StringStream("",2,null))}}}),s.registerHelper("wordChars","javascript",/[\w$]/),s.defineMIME("text/javascript","javascript"),s.defineMIME("text/ecmascript","javascript"),s.defineMIME("application/javascript","javascript"),s.defineMIME("application/x-javascript","javascript"),s.defineMIME("application/ecmascript","javascript"),s.defineMIME("application/json",{name:"javascript",json:!0}),s.defineMIME("application/x-json",{name:"javascript",json:!0}),s.defineMIME("application/manifest+json",{name:"javascript",json:!0}),s.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),s.defineMIME("text/typescript",{name:"javascript",typescript:!0}),s.defineMIME("application/typescript",{name:"javascript",typescript:!0})})})();(function(i,a){(function(s){s(Kr())})(function(s){s.defineMode("yaml",function(){var p=["true","false","on","off","yes","no"],h=new RegExp("\\b(("+p.join(")|(")+"))$","i");return{token:function(m,g){var C=m.peek(),S=g.escaped;if(g.escaped=!1,C=="#"&&(m.pos==0||/\s/.test(m.string.charAt(m.pos-1))))return m.skipToEnd(),"comment";if(m.match(/^('([^']|\\.)*'?|"([^"]|\\.)*"?)/))return"string";if(g.literal&&m.indentation()>g.keyCol)return m.skipToEnd(),"string";if(g.literal&&(g.literal=!1),m.sol()){if(g.keyCol=0,g.pair=!1,g.pairStart=!1,m.match("---")||m.match("..."))return"def";if(m.match(/\s*-\s+/))return"meta"}if(m.match(/^(\{|\}|\[|\])/))return C=="{"?g.inlinePairs++:C=="}"?g.inlinePairs--:C=="["?g.inlineList++:g.inlineList--,"meta";if(g.inlineList>0&&!S&&C==",")return m.next(),"meta";if(g.inlinePairs>0&&!S&&C==",")return g.keyCol=0,g.pair=!1,g.pairStart=!1,m.next(),"meta";if(g.pairStart){if(m.match(/^\s*(\||\>)\s*/))return g.literal=!0,"meta";if(m.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i))return"variable-2";if(g.inlinePairs==0&&m.match(/^\s*-?[0-9\.\,]+\s?$/)||g.inlinePairs>0&&m.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/))return"number";if(m.match(h))return"keyword"}return!g.pair&&m.match(/^\s*(?:[,\[\]{}&*!|>'"%@`][^\s'":]|[^\s,\[\]{}#&*!|>'"%@`])[^#:]*(?=:($|\s))/)?(g.pair=!0,g.keyCol=m.indentation(),"atom"):g.pair&&m.match(/^:\s*/)?(g.pairStart=!0,"meta"):(g.pairStart=!1,g.escaped=C=="\\",m.next(),null)},startState:function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}},lineComment:"#",fold:"indent"}}),s.defineMIME("text/x-yaml","yaml"),s.defineMIME("text/yaml","yaml")})})();(function(i,a){(function(s){s(Kr())})(function(s){var p=/MSIE \d/.test(navigator.userAgent)&&(document.documentMode==null||document.documentMode<8),h=s.Pos,m={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function g(M){return M&&M.bracketRegex||/[(){}[\]]/}function C(M,P,G){var se=M.getLineHandle(P.line),ue=P.ch-1,H=G&&G.afterCursor;H==null&&(H=/(^| )cm-fat-cursor($| )/.test(M.getWrapperElement().className));var I=g(G),te=!H&&ue>=0&&I.test(se.text.charAt(ue))&&m[se.text.charAt(ue)]||I.test(se.text.charAt(ue+1))&&m[se.text.charAt(++ue)];if(!te)return null;var oe=te.charAt(1)==">"?1:-1;if(G&&G.strict&&oe>0!=(ue==P.ch))return null;var ce=M.getTokenTypeAt(h(P.line,ue+1)),ve=S(M,h(P.line,ue+(oe>0?1:0)),oe,ce,G);return ve==null?null:{from:h(P.line,ue),to:ve&&ve.pos,match:ve&&ve.ch==te.charAt(0),forward:oe>0}}function S(M,P,G,se,ue){for(var H=ue&&ue.maxScanLineLength||1e4,I=ue&&ue.maxScanLines||1e3,te=[],oe=g(ue),ce=G>0?Math.min(P.line+I,M.lastLine()+1):Math.max(M.firstLine()-1,P.line-I),ve=P.line;ve!=ce;ve+=G){var F=M.getLine(ve);if(F){var z=G>0?0:F.length-1,V=G>0?F.length:-1;if(!(F.length>H))for(ve==P.line&&(z=P.ch-(G<0?1:0));z!=V;z+=G){var J=F.charAt(z);if(oe.test(J)&&(se===void 0||(M.getTokenTypeAt(h(ve,z+1))||"")==(se||""))){var $=m[J];if($&&$.charAt(1)==">"==G>0)te.push(J);else if(te.length)te.pop();else return{pos:h(ve,z),ch:J}}}}}return ve-G==(G>0?M.lastLine():M.firstLine())?!1:null}function A(M,P,G){for(var se=M.state.matchBrackets.maxHighlightLineLength||1e3,ue=G&&G.highlightNonMatching,H=[],I=M.listSelections(),te=0;te<I.length;te++){var oe=I[te].empty()&&C(M,I[te].head,G);if(oe&&(oe.match||ue!==!1)&&M.getLine(oe.from.line).length<=se){var ce=oe.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";H.push(M.markText(oe.from,h(oe.from.line,oe.from.ch+1),{className:ce})),oe.to&&M.getLine(oe.to.line).length<=se&&H.push(M.markText(oe.to,h(oe.to.line,oe.to.ch+1),{className:ce}))}}if(H.length){p&&M.state.focused&&M.focus();var ve=function(){M.operation(function(){for(var F=0;F<H.length;F++)H[F].clear()})};if(P)setTimeout(ve,800);else return ve}}function N(M){M.operation(function(){M.state.matchBrackets.currentlyHighlighted&&(M.state.matchBrackets.currentlyHighlighted(),M.state.matchBrackets.currentlyHighlighted=null),M.state.matchBrackets.currentlyHighlighted=A(M,!1,M.state.matchBrackets)})}function W(M){M.state.matchBrackets&&M.state.matchBrackets.currentlyHighlighted&&(M.state.matchBrackets.currentlyHighlighted(),M.state.matchBrackets.currentlyHighlighted=null)}s.defineOption("matchBrackets",!1,function(M,P,G){G&&G!=s.Init&&(M.off("cursorActivity",N),M.off("focus",N),M.off("blur",W),W(M)),P&&(M.state.matchBrackets=typeof P=="object"?P:{},M.on("cursorActivity",N),M.on("focus",N),M.on("blur",W))}),s.defineExtension("matchBrackets",function(){A(this,!0)}),s.defineExtension("findMatchingBracket",function(M,P,G){return(G||typeof P=="boolean")&&(G?(G.strict=P,P=G):P=P?{strict:!0}:null),C(this,M,P)}),s.defineExtension("scanForBracket",function(M,P,G,se){return S(this,M,P,G,se)})})})();(function(i,a){(function(s){s(Kr())})(function(s){var p={pairs:`()[]{}''""`,closeBefore:`)]}'":;>`,triples:"",explode:"[]{}"},h=s.Pos;s.defineOption("autoCloseBrackets",!1,function(H,I,te){te&&te!=s.Init&&(H.removeKeyMap(g),H.state.closeBrackets=null),I&&(C(m(I,"pairs")),H.state.closeBrackets=I,H.addKeyMap(g))});function m(H,I){return I=="pairs"&&typeof H=="string"?H:typeof H=="object"&&H[I]!=null?H[I]:p[I]}var g={Backspace:N,Enter:W};function C(H){for(var I=0;I<H.length;I++){var te=H.charAt(I),oe="'"+te+"'";g[oe]||(g[oe]=S(te))}}C(p.pairs+"`");function S(H){return function(I){return G(I,H)}}function A(H){var I=H.state.closeBrackets;if(!I||I.override)return I;var te=H.getModeAt(H.getCursor());return te.closeBrackets||I}function N(H){var I=A(H);if(!I||H.getOption("disableInput"))return s.Pass;for(var te=m(I,"pairs"),oe=H.listSelections(),ce=0;ce<oe.length;ce++){if(!oe[ce].empty())return s.Pass;var ve=se(H,oe[ce].head);if(!ve||te.indexOf(ve)%2!=0)return s.Pass}for(var ce=oe.length-1;ce>=0;ce--){var F=oe[ce].head;H.replaceRange("",h(F.line,F.ch-1),h(F.line,F.ch+1),"+delete")}}function W(H){var I=A(H),te=I&&m(I,"explode");if(!te||H.getOption("disableInput"))return s.Pass;for(var oe=H.listSelections(),ce=0;ce<oe.length;ce++){if(!oe[ce].empty())return s.Pass;var ve=se(H,oe[ce].head);if(!ve||te.indexOf(ve)%2!=0)return s.Pass}H.operation(function(){var F=H.lineSeparator()||`
`;H.replaceSelection(F+F,null),M(H,-1),oe=H.listSelections();for(var z=0;z<oe.length;z++){var V=oe[z].head.line;H.indentLine(V,null,!0),H.indentLine(V+1,null,!0)}})}function M(H,I){for(var te=[],oe=H.listSelections(),ce=0,ve=0;ve<oe.length;ve++){var F=oe[ve];F.head==H.getCursor()&&(ce=ve);var z=F.head.ch||I>0?{line:F.head.line,ch:F.head.ch+I}:{line:F.head.line-1};te.push({anchor:z,head:z})}H.setSelections(te,ce)}function P(H){var I=s.cmpPos(H.anchor,H.head)>0;return{anchor:new h(H.anchor.line,H.anchor.ch+(I?-1:1)),head:new h(H.head.line,H.head.ch+(I?1:-1))}}function G(H,I){var te=A(H);if(!te||H.getOption("disableInput"))return s.Pass;var oe=m(te,"pairs"),ce=oe.indexOf(I);if(ce==-1)return s.Pass;for(var ve=m(te,"closeBefore"),F=m(te,"triples"),z=oe.charAt(ce+1)==I,V=H.listSelections(),J=ce%2==0,$,he=0;he<V.length;he++){var E=V[he],R=E.head,w,Me=H.getRange(R,h(R.line,R.ch+1));if(J&&!E.empty())w="surround";else if((z||!J)&&Me==I)z&&ue(H,R)?w="both":F.indexOf(I)>=0&&H.getRange(R,h(R.line,R.ch+3))==I+I+I?w="skipThree":w="skip";else if(z&&R.ch>1&&F.indexOf(I)>=0&&H.getRange(h(R.line,R.ch-2),R)==I+I){if(R.ch>2&&/\bstring/.test(H.getTokenTypeAt(h(R.line,R.ch-2))))return s.Pass;w="addFour"}else if(z){var Ae=R.ch==0?" ":H.getRange(h(R.line,R.ch-1),R);if(!s.isWordChar(Me)&&Ae!=I&&!s.isWordChar(Ae))w="both";else return s.Pass}else if(J&&(Me.length===0||/\s/.test(Me)||ve.indexOf(Me)>-1))w="both";else return s.Pass;if(!$)$=w;else if($!=w)return s.Pass}var j=ce%2?oe.charAt(ce-1):I,le=ce%2?I:oe.charAt(ce+1);H.operation(function(){if($=="skip")M(H,1);else if($=="skipThree")M(H,3);else if($=="surround"){for(var fe=H.getSelections(),Ie=0;Ie<fe.length;Ie++)fe[Ie]=j+fe[Ie]+le;H.replaceSelections(fe,"around"),fe=H.listSelections().slice();for(var Ie=0;Ie<fe.length;Ie++)fe[Ie]=P(fe[Ie]);H.setSelections(fe)}else $=="both"?(H.replaceSelection(j+le,null),H.triggerElectric(j+le),M(H,-1)):$=="addFour"&&(H.replaceSelection(j+j+j+j,"before"),M(H,1))})}function se(H,I){var te=H.getRange(h(I.line,I.ch-1),h(I.line,I.ch+1));return te.length==2?te:null}function ue(H,I){var te=H.getTokenAt(h(I.line,I.ch+1));return/\bstring/.test(te.type)&&te.start==I.ch&&(I.ch==0||!/\bstring/.test(H.getTokenTypeAt(I)))}})})();(function(i,a){(function(s){s(Kr())})(function(s){var p="CodeMirror-lint-markers",h="CodeMirror-lint-line-";function m(F,z,V){var J=document.createElement("div");J.className="CodeMirror-lint-tooltip cm-s-"+F.options.theme,J.appendChild(V.cloneNode(!0)),F.state.lint.options.selfContain?F.getWrapperElement().appendChild(J):document.body.appendChild(J);function $(he){if(!J.parentNode)return s.off(document,"mousemove",$);var E=Math.max(0,he.clientY-J.offsetHeight-5),R=Math.max(0,Math.min(he.clientX+5,J.ownerDocument.defaultView.innerWidth-J.offsetWidth));J.style.top=E+"px",J.style.left=R+"px"}return s.on(document,"mousemove",$),$(z),J.style.opacity!=null&&(J.style.opacity=1),J}function g(F){F.parentNode&&F.parentNode.removeChild(F)}function C(F){F.parentNode&&(F.style.opacity==null&&g(F),F.style.opacity=0,setTimeout(function(){g(F)},600))}function S(F,z,V,J){var $=m(F,z,V);function he(){s.off(J,"mouseout",he),$&&(C($),$=null)}var E=setInterval(function(){if($)for(var R=J;;R=R.parentNode){if(R&&R.nodeType==11&&(R=R.host),R==document.body)return;if(!R){he();break}}if(!$)return clearInterval(E)},400);s.on(J,"mouseout",he)}function A(F,z,V){this.marked=[],z instanceof Function&&(z={getAnnotations:z}),(!z||z===!0)&&(z={}),this.options={},this.linterOptions=z.options||{};for(var J in N)this.options[J]=N[J];for(var J in z)N.hasOwnProperty(J)?z[J]!=null&&(this.options[J]=z[J]):z.options||(this.linterOptions[J]=z[J]);this.timeout=null,this.hasGutter=V,this.onMouseOver=function($){ve(F,$)},this.waitingFor=0}var N={highlightLines:!1,tooltips:!0,delay:500,lintOnChange:!0,getAnnotations:null,async:!1,selfContain:null,formatAnnotation:null,onUpdateLinting:null};function W(F){var z=F.state.lint;z.hasGutter&&F.clearGutter(p),z.options.highlightLines&&M(F);for(var V=0;V<z.marked.length;++V)z.marked[V].clear();z.marked.length=0}function M(F){F.eachLine(function(z){var V=z.wrapClass&&/\bCodeMirror-lint-line-\w+\b/.exec(z.wrapClass);V&&F.removeLineClass(z,"wrap",V[0])})}function P(F,z,V,J,$){var he=document.createElement("div"),E=he;return he.className="CodeMirror-lint-marker CodeMirror-lint-marker-"+V,J&&(E=he.appendChild(document.createElement("div")),E.className="CodeMirror-lint-marker CodeMirror-lint-marker-multiple"),$!=!1&&s.on(E,"mouseover",function(R){S(F,R,z,E)}),he}function G(F,z){return F=="error"?F:z}function se(F){for(var z=[],V=0;V<F.length;++V){var J=F[V],$=J.from.line;(z[$]||(z[$]=[])).push(J)}return z}function ue(F){var z=F.severity;z||(z="error");var V=document.createElement("div");return V.className="CodeMirror-lint-message CodeMirror-lint-message-"+z,typeof F.messageHTML<"u"?V.innerHTML=F.messageHTML:V.appendChild(document.createTextNode(F.message)),V}function H(F,z){var V=F.state.lint,J=++V.waitingFor;function $(){J=-1,F.off("change",$)}F.on("change",$),z(F.getValue(),function(he,E){F.off("change",$),V.waitingFor==J&&(E&&he instanceof s&&(he=E),F.operation(function(){te(F,he)}))},V.linterOptions,F)}function I(F){var z=F.state.lint;if(z){var V=z.options,J=V.getAnnotations||F.getHelper(s.Pos(0,0),"lint");if(J)if(V.async||J.async)H(F,J);else{var $=J(F.getValue(),z.linterOptions,F);if(!$)return;$.then?$.then(function(he){F.operation(function(){te(F,he)})}):F.operation(function(){te(F,$)})}}}function te(F,z){var V=F.state.lint;if(V){var J=V.options;W(F);for(var $=se(z),he=0;he<$.length;++he){var E=$[he];if(E){for(var R=null,w=V.hasGutter&&document.createDocumentFragment(),Me=0;Me<E.length;++Me){var Ae=E[Me],j=Ae.severity;j||(j="error"),R=G(R,j),J.formatAnnotation&&(Ae=J.formatAnnotation(Ae)),V.hasGutter&&w.appendChild(ue(Ae)),Ae.to&&V.marked.push(F.markText(Ae.from,Ae.to,{className:"CodeMirror-lint-mark CodeMirror-lint-mark-"+j,__annotation:Ae}))}V.hasGutter&&F.setGutterMarker(he,p,P(F,w,R,E.length>1,J.tooltips)),J.highlightLines&&F.addLineClass(he,"wrap",h+R)}}J.onUpdateLinting&&J.onUpdateLinting(z,$,F)}}function oe(F){var z=F.state.lint;z&&(clearTimeout(z.timeout),z.timeout=setTimeout(function(){I(F)},z.options.delay))}function ce(F,z,V){for(var J=V.target||V.srcElement,$=document.createDocumentFragment(),he=0;he<z.length;he++){var E=z[he];$.appendChild(ue(E))}S(F,V,$,J)}function ve(F,z){var V=z.target||z.srcElement;if(/\bCodeMirror-lint-mark-/.test(V.className)){for(var J=V.getBoundingClientRect(),$=(J.left+J.right)/2,he=(J.top+J.bottom)/2,E=F.findMarksAt(F.coordsChar({left:$,top:he},"client")),R=[],w=0;w<E.length;++w){var Me=E[w].__annotation;Me&&R.push(Me)}R.length&&ce(F,R,z)}}s.defineOption("lint",!1,function(F,z,V){if(V&&V!=s.Init&&(W(F),F.state.lint.options.lintOnChange!==!1&&F.off("change",oe),s.off(F.getWrapperElement(),"mouseover",F.state.lint.onMouseOver),clearTimeout(F.state.lint.timeout),delete F.state.lint),z){for(var J=F.getOption("gutters"),$=!1,he=0;he<J.length;++he)J[he]==p&&($=!0);var E=F.state.lint=new A(F,z,$);E.options.lintOnChange&&F.on("change",oe),E.options.tooltips!=!1&&E.options.tooltips!="gutter"&&s.on(F.getWrapperElement(),"mouseover",E.onMouseOver),I(F)}}),s.defineExtension("performLint",function(){I(this)})})})();(function(i,a){(function(s){s(Kr())})(function(s){s.registerHelper("lint","json",function(p){var h=[];if(!window.jsonlint)return window.console&&window.console.error("Error: window.jsonlint not defined, CodeMirror JSON linting cannot run."),h;var m=window.jsonlint.parser||window.jsonlint;m.parseError=function(g,C){var S=C.loc;h.push({from:s.Pos(S.first_line-1,S.first_column),to:s.Pos(S.last_line-1,S.last_column),message:g})};try{m.parse(p)}catch{}return h})})})();/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function Qs(i){return typeof i>"u"||i===null}function Xc(i){return typeof i=="object"&&i!==null}function Jc(i){return Array.isArray(i)?i:Qs(i)?[]:[i]}function Qc(i,a){var s,p,h,m;if(a)for(m=Object.keys(a),s=0,p=m.length;s<p;s+=1)h=m[s],i[h]=a[h];return i}function Zc(i,a){var s="",p;for(p=0;p<a;p+=1)s+=i;return s}function Vc(i){return i===0&&Number.NEGATIVE_INFINITY===1/i}var $c=Qs,eh=Xc,th=Jc,rh=Zc,nh=Vc,ih=Qc,Qe={isNothing:$c,isObject:eh,toArray:th,repeat:rh,isNegativeZero:nh,extend:ih};function Zs(i,a){var s="",p=i.reason||"(unknown reason)";return i.mark?(i.mark.name&&(s+='in "'+i.mark.name+'" '),s+="("+(i.mark.line+1)+":"+(i.mark.column+1)+")",!a&&i.mark.snippet&&(s+=`

`+i.mark.snippet),p+" "+s):p}function ai(i,a){Error.call(this),this.name="YAMLException",this.reason=i,this.mark=a,this.message=Zs(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}ai.prototype=Object.create(Error.prototype);ai.prototype.constructor=ai;ai.prototype.toString=function(a){return this.name+": "+Zs(this,a)};var xt=ai;function il(i,a,s,p,h){var m="",g="",C=Math.floor(h/2)-1;return p-a>C&&(m=" ... ",a=p-C+m.length),s-p>C&&(g=" ...",s=p+C-g.length),{str:m+i.slice(a,s).replace(/\t/g,"→")+g,pos:p-a+m.length}}function ol(i,a){return Qe.repeat(" ",a-i.length)+i}function oh(i,a){if(a=Object.create(a||null),!i.buffer)return null;a.maxLength||(a.maxLength=79),typeof a.indent!="number"&&(a.indent=1),typeof a.linesBefore!="number"&&(a.linesBefore=3),typeof a.linesAfter!="number"&&(a.linesAfter=2);for(var s=/\r?\n|\r|\0/g,p=[0],h=[],m,g=-1;m=s.exec(i.buffer);)h.push(m.index),p.push(m.index+m[0].length),i.position<=m.index&&g<0&&(g=p.length-2);g<0&&(g=p.length-1);var C="",S,A,N=Math.min(i.line+a.linesAfter,h.length).toString().length,W=a.maxLength-(a.indent+N+3);for(S=1;S<=a.linesBefore&&!(g-S<0);S++)A=il(i.buffer,p[g-S],h[g-S],i.position-(p[g]-p[g-S]),W),C=Qe.repeat(" ",a.indent)+ol((i.line-S+1).toString(),N)+" | "+A.str+`
`+C;for(A=il(i.buffer,p[g],h[g],i.position,W),C+=Qe.repeat(" ",a.indent)+ol((i.line+1).toString(),N)+" | "+A.str+`
`,C+=Qe.repeat("-",a.indent+N+3+A.pos)+`^
`,S=1;S<=a.linesAfter&&!(g+S>=h.length);S++)A=il(i.buffer,p[g+S],h[g+S],i.position-(p[g]-p[g+S]),W),C+=Qe.repeat(" ",a.indent)+ol((i.line+S+1).toString(),N)+" | "+A.str+`
`;return C.replace(/\n$/,"")}var lh=oh,ah=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],sh=["scalar","sequence","mapping"];function uh(i){var a={};return i!==null&&Object.keys(i).forEach(function(s){i[s].forEach(function(p){a[String(p)]=s})}),a}function fh(i,a){if(a=a||{},Object.keys(a).forEach(function(s){if(ah.indexOf(s)===-1)throw new xt('Unknown option "'+s+'" is met in definition of "'+i+'" YAML type.')}),this.options=a,this.tag=i,this.kind=a.kind||null,this.resolve=a.resolve||function(){return!0},this.construct=a.construct||function(s){return s},this.instanceOf=a.instanceOf||null,this.predicate=a.predicate||null,this.represent=a.represent||null,this.representName=a.representName||null,this.defaultStyle=a.defaultStyle||null,this.multi=a.multi||!1,this.styleAliases=uh(a.styleAliases||null),sh.indexOf(this.kind)===-1)throw new xt('Unknown kind "'+this.kind+'" is specified for "'+i+'" YAML type.')}var nt=fh;function ks(i,a){var s=[];return i[a].forEach(function(p){var h=s.length;s.forEach(function(m,g){m.tag===p.tag&&m.kind===p.kind&&m.multi===p.multi&&(h=g)}),s[h]=p}),s}function ch(){var i={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},a,s;function p(h){h.multi?(i.multi[h.kind].push(h),i.multi.fallback.push(h)):i[h.kind][h.tag]=i.fallback[h.tag]=h}for(a=0,s=arguments.length;a<s;a+=1)arguments[a].forEach(p);return i}function cl(i){return this.extend(i)}cl.prototype.extend=function(a){var s=[],p=[];if(a instanceof nt)p.push(a);else if(Array.isArray(a))p=p.concat(a);else if(a&&(Array.isArray(a.implicit)||Array.isArray(a.explicit)))a.implicit&&(s=s.concat(a.implicit)),a.explicit&&(p=p.concat(a.explicit));else throw new xt("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");s.forEach(function(m){if(!(m instanceof nt))throw new xt("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(m.loadKind&&m.loadKind!=="scalar")throw new xt("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(m.multi)throw new xt("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),p.forEach(function(m){if(!(m instanceof nt))throw new xt("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var h=Object.create(cl.prototype);return h.implicit=(this.implicit||[]).concat(s),h.explicit=(this.explicit||[]).concat(p),h.compiledImplicit=ks(h,"implicit"),h.compiledExplicit=ks(h,"explicit"),h.compiledTypeMap=ch(h.compiledImplicit,h.compiledExplicit),h};var Vs=cl,$s=new nt("tag:yaml.org,2002:str",{kind:"scalar",construct:function(i){return i!==null?i:""}}),eu=new nt("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(i){return i!==null?i:[]}}),tu=new nt("tag:yaml.org,2002:map",{kind:"mapping",construct:function(i){return i!==null?i:{}}}),ru=new Vs({explicit:[$s,eu,tu]});function hh(i){if(i===null)return!0;var a=i.length;return a===1&&i==="~"||a===4&&(i==="null"||i==="Null"||i==="NULL")}function dh(){return null}function ph(i){return i===null}var nu=new nt("tag:yaml.org,2002:null",{kind:"scalar",resolve:hh,construct:dh,predicate:ph,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function vh(i){if(i===null)return!1;var a=i.length;return a===4&&(i==="true"||i==="True"||i==="TRUE")||a===5&&(i==="false"||i==="False"||i==="FALSE")}function gh(i){return i==="true"||i==="True"||i==="TRUE"}function mh(i){return Object.prototype.toString.call(i)==="[object Boolean]"}var iu=new nt("tag:yaml.org,2002:bool",{kind:"scalar",resolve:vh,construct:gh,predicate:mh,represent:{lowercase:function(i){return i?"true":"false"},uppercase:function(i){return i?"TRUE":"FALSE"},camelcase:function(i){return i?"True":"False"}},defaultStyle:"lowercase"});function yh(i){return 48<=i&&i<=57||65<=i&&i<=70||97<=i&&i<=102}function bh(i){return 48<=i&&i<=55}function xh(i){return 48<=i&&i<=57}function wh(i){if(i===null)return!1;var a=i.length,s=0,p=!1,h;if(!a)return!1;if(h=i[s],(h==="-"||h==="+")&&(h=i[++s]),h==="0"){if(s+1===a)return!0;if(h=i[++s],h==="b"){for(s++;s<a;s++)if(h=i[s],h!=="_"){if(h!=="0"&&h!=="1")return!1;p=!0}return p&&h!=="_"}if(h==="x"){for(s++;s<a;s++)if(h=i[s],h!=="_"){if(!yh(i.charCodeAt(s)))return!1;p=!0}return p&&h!=="_"}if(h==="o"){for(s++;s<a;s++)if(h=i[s],h!=="_"){if(!bh(i.charCodeAt(s)))return!1;p=!0}return p&&h!=="_"}}if(h==="_")return!1;for(;s<a;s++)if(h=i[s],h!=="_"){if(!xh(i.charCodeAt(s)))return!1;p=!0}return!(!p||h==="_")}function Ch(i){var a=i,s=1,p;if(a.indexOf("_")!==-1&&(a=a.replace(/_/g,"")),p=a[0],(p==="-"||p==="+")&&(p==="-"&&(s=-1),a=a.slice(1),p=a[0]),a==="0")return 0;if(p==="0"){if(a[1]==="b")return s*parseInt(a.slice(2),2);if(a[1]==="x")return s*parseInt(a.slice(2),16);if(a[1]==="o")return s*parseInt(a.slice(2),8)}return s*parseInt(a,10)}function Sh(i){return Object.prototype.toString.call(i)==="[object Number]"&&i%1===0&&!Qe.isNegativeZero(i)}var ou=new nt("tag:yaml.org,2002:int",{kind:"scalar",resolve:wh,construct:Ch,predicate:Sh,represent:{binary:function(i){return i>=0?"0b"+i.toString(2):"-0b"+i.toString(2).slice(1)},octal:function(i){return i>=0?"0o"+i.toString(8):"-0o"+i.toString(8).slice(1)},decimal:function(i){return i.toString(10)},hexadecimal:function(i){return i>=0?"0x"+i.toString(16).toUpperCase():"-0x"+i.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),kh=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Lh(i){return!(i===null||!kh.test(i)||i[i.length-1]==="_")}function Th(i){var a,s;return a=i.replace(/_/g,"").toLowerCase(),s=a[0]==="-"?-1:1,"+-".indexOf(a[0])>=0&&(a=a.slice(1)),a===".inf"?s===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:a===".nan"?NaN:s*parseFloat(a,10)}var Ah=/^[-+]?[0-9]+e/;function Eh(i,a){var s;if(isNaN(i))switch(a){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===i)switch(a){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===i)switch(a){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Qe.isNegativeZero(i))return"-0.0";return s=i.toString(10),Ah.test(s)?s.replace("e",".e"):s}function Mh(i){return Object.prototype.toString.call(i)==="[object Number]"&&(i%1!==0||Qe.isNegativeZero(i))}var lu=new nt("tag:yaml.org,2002:float",{kind:"scalar",resolve:Lh,construct:Th,predicate:Mh,represent:Eh,defaultStyle:"lowercase"}),au=ru.extend({implicit:[nu,iu,ou,lu]}),su=au,uu=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),fu=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Oh(i){return i===null?!1:uu.exec(i)!==null||fu.exec(i)!==null}function Ih(i){var a,s,p,h,m,g,C,S=0,A=null,N,W,M;if(a=uu.exec(i),a===null&&(a=fu.exec(i)),a===null)throw new Error("Date resolve error");if(s=+a[1],p=+a[2]-1,h=+a[3],!a[4])return new Date(Date.UTC(s,p,h));if(m=+a[4],g=+a[5],C=+a[6],a[7]){for(S=a[7].slice(0,3);S.length<3;)S+="0";S=+S}return a[9]&&(N=+a[10],W=+(a[11]||0),A=(N*60+W)*6e4,a[9]==="-"&&(A=-A)),M=new Date(Date.UTC(s,p,h,m,g,C,S)),A&&M.setTime(M.getTime()-A),M}function Nh(i){return i.toISOString()}var cu=new nt("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Oh,construct:Ih,instanceOf:Date,represent:Nh});function Dh(i){return i==="<<"||i===null}var hu=new nt("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Dh}),ml=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Fh(i){if(i===null)return!1;var a,s,p=0,h=i.length,m=ml;for(s=0;s<h;s++)if(a=m.indexOf(i.charAt(s)),!(a>64)){if(a<0)return!1;p+=6}return p%8===0}function Bh(i){var a,s,p=i.replace(/[\r\n=]/g,""),h=p.length,m=ml,g=0,C=[];for(a=0;a<h;a++)a%4===0&&a&&(C.push(g>>16&255),C.push(g>>8&255),C.push(g&255)),g=g<<6|m.indexOf(p.charAt(a));return s=h%4*6,s===0?(C.push(g>>16&255),C.push(g>>8&255),C.push(g&255)):s===18?(C.push(g>>10&255),C.push(g>>2&255)):s===12&&C.push(g>>4&255),new Uint8Array(C)}function Hh(i){var a="",s=0,p,h,m=i.length,g=ml;for(p=0;p<m;p++)p%3===0&&p&&(a+=g[s>>18&63],a+=g[s>>12&63],a+=g[s>>6&63],a+=g[s&63]),s=(s<<8)+i[p];return h=m%3,h===0?(a+=g[s>>18&63],a+=g[s>>12&63],a+=g[s>>6&63],a+=g[s&63]):h===2?(a+=g[s>>10&63],a+=g[s>>4&63],a+=g[s<<2&63],a+=g[64]):h===1&&(a+=g[s>>2&63],a+=g[s<<4&63],a+=g[64],a+=g[64]),a}function Wh(i){return Object.prototype.toString.call(i)==="[object Uint8Array]"}var du=new nt("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Fh,construct:Bh,predicate:Wh,represent:Hh}),Ph=Object.prototype.hasOwnProperty,Rh=Object.prototype.toString;function _h(i){if(i===null)return!0;var a=[],s,p,h,m,g,C=i;for(s=0,p=C.length;s<p;s+=1){if(h=C[s],g=!1,Rh.call(h)!=="[object Object]")return!1;for(m in h)if(Ph.call(h,m))if(!g)g=!0;else return!1;if(!g)return!1;if(a.indexOf(m)===-1)a.push(m);else return!1}return!0}function Uh(i){return i!==null?i:[]}var pu=new nt("tag:yaml.org,2002:omap",{kind:"sequence",resolve:_h,construct:Uh}),zh=Object.prototype.toString;function Gh(i){if(i===null)return!0;var a,s,p,h,m,g=i;for(m=new Array(g.length),a=0,s=g.length;a<s;a+=1){if(p=g[a],zh.call(p)!=="[object Object]"||(h=Object.keys(p),h.length!==1))return!1;m[a]=[h[0],p[h[0]]]}return!0}function Yh(i){if(i===null)return[];var a,s,p,h,m,g=i;for(m=new Array(g.length),a=0,s=g.length;a<s;a+=1)p=g[a],h=Object.keys(p),m[a]=[h[0],p[h[0]]];return m}var vu=new nt("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Gh,construct:Yh}),Kh=Object.prototype.hasOwnProperty;function jh(i){if(i===null)return!0;var a,s=i;for(a in s)if(Kh.call(s,a)&&s[a]!==null)return!1;return!0}function qh(i){return i!==null?i:{}}var gu=new nt("tag:yaml.org,2002:set",{kind:"mapping",resolve:jh,construct:qh}),yl=su.extend({implicit:[cu,hu],explicit:[du,pu,vu,gu]}),Er=Object.prototype.hasOwnProperty,Qi=1,mu=2,yu=3,Zi=4,ll=1,Xh=2,Ls=3,Jh=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Qh=/[\x85\u2028\u2029]/,Zh=/[,\[\]\{\}]/,bu=/^(?:!|!!|![a-z\-]+!)$/i,xu=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Ts(i){return Object.prototype.toString.call(i)}function Qt(i){return i===10||i===13}function Yr(i){return i===9||i===32}function kt(i){return i===9||i===32||i===10||i===13}function Sn(i){return i===44||i===91||i===93||i===123||i===125}function Vh(i){var a;return 48<=i&&i<=57?i-48:(a=i|32,97<=a&&a<=102?a-97+10:-1)}function $h(i){return i===120?2:i===117?4:i===85?8:0}function ed(i){return 48<=i&&i<=57?i-48:-1}function As(i){return i===48?"\0":i===97?"\x07":i===98?"\b":i===116||i===9?"	":i===110?`
`:i===118?"\v":i===102?"\f":i===114?"\r":i===101?"\x1B":i===32?" ":i===34?'"':i===47?"/":i===92?"\\":i===78?"":i===95?" ":i===76?"\u2028":i===80?"\u2029":""}function td(i){return i<=65535?String.fromCharCode(i):String.fromCharCode((i-65536>>10)+55296,(i-65536&1023)+56320)}var wu=new Array(256),Cu=new Array(256);for(var xn=0;xn<256;xn++)wu[xn]=As(xn)?1:0,Cu[xn]=As(xn);function rd(i,a){this.input=i,this.filename=a.filename||null,this.schema=a.schema||yl,this.onWarning=a.onWarning||null,this.legacy=a.legacy||!1,this.json=a.json||!1,this.listener=a.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=i.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Su(i,a){var s={name:i.filename,buffer:i.input.slice(0,-1),position:i.position,line:i.line,column:i.position-i.lineStart};return s.snippet=lh(s),new xt(a,s)}function ae(i,a){throw Su(i,a)}function Vi(i,a){i.onWarning&&i.onWarning.call(null,Su(i,a))}var Es={YAML:function(a,s,p){var h,m,g;a.version!==null&&ae(a,"duplication of %YAML directive"),p.length!==1&&ae(a,"YAML directive accepts exactly one argument"),h=/^([0-9]+)\.([0-9]+)$/.exec(p[0]),h===null&&ae(a,"ill-formed argument of the YAML directive"),m=parseInt(h[1],10),g=parseInt(h[2],10),m!==1&&ae(a,"unacceptable YAML version of the document"),a.version=p[0],a.checkLineBreaks=g<2,g!==1&&g!==2&&Vi(a,"unsupported YAML version of the document")},TAG:function(a,s,p){var h,m;p.length!==2&&ae(a,"TAG directive accepts exactly two arguments"),h=p[0],m=p[1],bu.test(h)||ae(a,"ill-formed tag handle (first argument) of the TAG directive"),Er.call(a.tagMap,h)&&ae(a,'there is a previously declared suffix for "'+h+'" tag handle'),xu.test(m)||ae(a,"ill-formed tag prefix (second argument) of the TAG directive");try{m=decodeURIComponent(m)}catch{ae(a,"tag prefix is malformed: "+m)}a.tagMap[h]=m}};function Ar(i,a,s,p){var h,m,g,C;if(a<s){if(C=i.input.slice(a,s),p)for(h=0,m=C.length;h<m;h+=1)g=C.charCodeAt(h),g===9||32<=g&&g<=1114111||ae(i,"expected valid JSON character");else Jh.test(C)&&ae(i,"the stream contains non-printable characters");i.result+=C}}function Ms(i,a,s,p){var h,m,g,C;for(Qe.isObject(s)||ae(i,"cannot merge mappings; the provided source object is unacceptable"),h=Object.keys(s),g=0,C=h.length;g<C;g+=1)m=h[g],Er.call(a,m)||(a[m]=s[m],p[m]=!0)}function kn(i,a,s,p,h,m,g,C,S){var A,N;if(Array.isArray(h))for(h=Array.prototype.slice.call(h),A=0,N=h.length;A<N;A+=1)Array.isArray(h[A])&&ae(i,"nested arrays are not supported inside keys"),typeof h=="object"&&Ts(h[A])==="[object Object]"&&(h[A]="[object Object]");if(typeof h=="object"&&Ts(h)==="[object Object]"&&(h="[object Object]"),h=String(h),a===null&&(a={}),p==="tag:yaml.org,2002:merge")if(Array.isArray(m))for(A=0,N=m.length;A<N;A+=1)Ms(i,a,m[A],s);else Ms(i,a,m,s);else!i.json&&!Er.call(s,h)&&Er.call(a,h)&&(i.line=g||i.line,i.lineStart=C||i.lineStart,i.position=S||i.position,ae(i,"duplicated mapping key")),h==="__proto__"?Object.defineProperty(a,h,{configurable:!0,enumerable:!0,writable:!0,value:m}):a[h]=m,delete s[h];return a}function bl(i){var a;a=i.input.charCodeAt(i.position),a===10?i.position++:a===13?(i.position++,i.input.charCodeAt(i.position)===10&&i.position++):ae(i,"a line break is expected"),i.line+=1,i.lineStart=i.position,i.firstTabInLine=-1}function ze(i,a,s){for(var p=0,h=i.input.charCodeAt(i.position);h!==0;){for(;Yr(h);)h===9&&i.firstTabInLine===-1&&(i.firstTabInLine=i.position),h=i.input.charCodeAt(++i.position);if(a&&h===35)do h=i.input.charCodeAt(++i.position);while(h!==10&&h!==13&&h!==0);if(Qt(h))for(bl(i),h=i.input.charCodeAt(i.position),p++,i.lineIndent=0;h===32;)i.lineIndent++,h=i.input.charCodeAt(++i.position);else break}return s!==-1&&p!==0&&i.lineIndent<s&&Vi(i,"deficient indentation"),p}function ro(i){var a=i.position,s;return s=i.input.charCodeAt(a),!!((s===45||s===46)&&s===i.input.charCodeAt(a+1)&&s===i.input.charCodeAt(a+2)&&(a+=3,s=i.input.charCodeAt(a),s===0||kt(s)))}function xl(i,a){a===1?i.result+=" ":a>1&&(i.result+=Qe.repeat(`
`,a-1))}function nd(i,a,s){var p,h,m,g,C,S,A,N,W=i.kind,M=i.result,P;if(P=i.input.charCodeAt(i.position),kt(P)||Sn(P)||P===35||P===38||P===42||P===33||P===124||P===62||P===39||P===34||P===37||P===64||P===96||(P===63||P===45)&&(h=i.input.charCodeAt(i.position+1),kt(h)||s&&Sn(h)))return!1;for(i.kind="scalar",i.result="",m=g=i.position,C=!1;P!==0;){if(P===58){if(h=i.input.charCodeAt(i.position+1),kt(h)||s&&Sn(h))break}else if(P===35){if(p=i.input.charCodeAt(i.position-1),kt(p))break}else{if(i.position===i.lineStart&&ro(i)||s&&Sn(P))break;if(Qt(P))if(S=i.line,A=i.lineStart,N=i.lineIndent,ze(i,!1,-1),i.lineIndent>=a){C=!0,P=i.input.charCodeAt(i.position);continue}else{i.position=g,i.line=S,i.lineStart=A,i.lineIndent=N;break}}C&&(Ar(i,m,g,!1),xl(i,i.line-S),m=g=i.position,C=!1),Yr(P)||(g=i.position+1),P=i.input.charCodeAt(++i.position)}return Ar(i,m,g,!1),i.result?!0:(i.kind=W,i.result=M,!1)}function id(i,a){var s,p,h;if(s=i.input.charCodeAt(i.position),s!==39)return!1;for(i.kind="scalar",i.result="",i.position++,p=h=i.position;(s=i.input.charCodeAt(i.position))!==0;)if(s===39)if(Ar(i,p,i.position,!0),s=i.input.charCodeAt(++i.position),s===39)p=i.position,i.position++,h=i.position;else return!0;else Qt(s)?(Ar(i,p,h,!0),xl(i,ze(i,!1,a)),p=h=i.position):i.position===i.lineStart&&ro(i)?ae(i,"unexpected end of the document within a single quoted scalar"):(i.position++,h=i.position);ae(i,"unexpected end of the stream within a single quoted scalar")}function od(i,a){var s,p,h,m,g,C;if(C=i.input.charCodeAt(i.position),C!==34)return!1;for(i.kind="scalar",i.result="",i.position++,s=p=i.position;(C=i.input.charCodeAt(i.position))!==0;){if(C===34)return Ar(i,s,i.position,!0),i.position++,!0;if(C===92){if(Ar(i,s,i.position,!0),C=i.input.charCodeAt(++i.position),Qt(C))ze(i,!1,a);else if(C<256&&wu[C])i.result+=Cu[C],i.position++;else if((g=$h(C))>0){for(h=g,m=0;h>0;h--)C=i.input.charCodeAt(++i.position),(g=Vh(C))>=0?m=(m<<4)+g:ae(i,"expected hexadecimal character");i.result+=td(m),i.position++}else ae(i,"unknown escape sequence");s=p=i.position}else Qt(C)?(Ar(i,s,p,!0),xl(i,ze(i,!1,a)),s=p=i.position):i.position===i.lineStart&&ro(i)?ae(i,"unexpected end of the document within a double quoted scalar"):(i.position++,p=i.position)}ae(i,"unexpected end of the stream within a double quoted scalar")}function ld(i,a){var s=!0,p,h,m,g=i.tag,C,S=i.anchor,A,N,W,M,P,G=Object.create(null),se,ue,H,I;if(I=i.input.charCodeAt(i.position),I===91)N=93,P=!1,C=[];else if(I===123)N=125,P=!0,C={};else return!1;for(i.anchor!==null&&(i.anchorMap[i.anchor]=C),I=i.input.charCodeAt(++i.position);I!==0;){if(ze(i,!0,a),I=i.input.charCodeAt(i.position),I===N)return i.position++,i.tag=g,i.anchor=S,i.kind=P?"mapping":"sequence",i.result=C,!0;s?I===44&&ae(i,"expected the node content, but found ','"):ae(i,"missed comma between flow collection entries"),ue=se=H=null,W=M=!1,I===63&&(A=i.input.charCodeAt(i.position+1),kt(A)&&(W=M=!0,i.position++,ze(i,!0,a))),p=i.line,h=i.lineStart,m=i.position,Ln(i,a,Qi,!1,!0),ue=i.tag,se=i.result,ze(i,!0,a),I=i.input.charCodeAt(i.position),(M||i.line===p)&&I===58&&(W=!0,I=i.input.charCodeAt(++i.position),ze(i,!0,a),Ln(i,a,Qi,!1,!0),H=i.result),P?kn(i,C,G,ue,se,H,p,h,m):W?C.push(kn(i,null,G,ue,se,H,p,h,m)):C.push(se),ze(i,!0,a),I=i.input.charCodeAt(i.position),I===44?(s=!0,I=i.input.charCodeAt(++i.position)):s=!1}ae(i,"unexpected end of the stream within a flow collection")}function ad(i,a){var s,p,h=ll,m=!1,g=!1,C=a,S=0,A=!1,N,W;if(W=i.input.charCodeAt(i.position),W===124)p=!1;else if(W===62)p=!0;else return!1;for(i.kind="scalar",i.result="";W!==0;)if(W=i.input.charCodeAt(++i.position),W===43||W===45)ll===h?h=W===43?Ls:Xh:ae(i,"repeat of a chomping mode identifier");else if((N=ed(W))>=0)N===0?ae(i,"bad explicit indentation width of a block scalar; it cannot be less than one"):g?ae(i,"repeat of an indentation width identifier"):(C=a+N-1,g=!0);else break;if(Yr(W)){do W=i.input.charCodeAt(++i.position);while(Yr(W));if(W===35)do W=i.input.charCodeAt(++i.position);while(!Qt(W)&&W!==0)}for(;W!==0;){for(bl(i),i.lineIndent=0,W=i.input.charCodeAt(i.position);(!g||i.lineIndent<C)&&W===32;)i.lineIndent++,W=i.input.charCodeAt(++i.position);if(!g&&i.lineIndent>C&&(C=i.lineIndent),Qt(W)){S++;continue}if(i.lineIndent<C){h===Ls?i.result+=Qe.repeat(`
`,m?1+S:S):h===ll&&m&&(i.result+=`
`);break}for(p?Yr(W)?(A=!0,i.result+=Qe.repeat(`
`,m?1+S:S)):A?(A=!1,i.result+=Qe.repeat(`
`,S+1)):S===0?m&&(i.result+=" "):i.result+=Qe.repeat(`
`,S):i.result+=Qe.repeat(`
`,m?1+S:S),m=!0,g=!0,S=0,s=i.position;!Qt(W)&&W!==0;)W=i.input.charCodeAt(++i.position);Ar(i,s,i.position,!1)}return!0}function Os(i,a){var s,p=i.tag,h=i.anchor,m=[],g,C=!1,S;if(i.firstTabInLine!==-1)return!1;for(i.anchor!==null&&(i.anchorMap[i.anchor]=m),S=i.input.charCodeAt(i.position);S!==0&&(i.firstTabInLine!==-1&&(i.position=i.firstTabInLine,ae(i,"tab characters must not be used in indentation")),!(S!==45||(g=i.input.charCodeAt(i.position+1),!kt(g))));){if(C=!0,i.position++,ze(i,!0,-1)&&i.lineIndent<=a){m.push(null),S=i.input.charCodeAt(i.position);continue}if(s=i.line,Ln(i,a,yu,!1,!0),m.push(i.result),ze(i,!0,-1),S=i.input.charCodeAt(i.position),(i.line===s||i.lineIndent>a)&&S!==0)ae(i,"bad indentation of a sequence entry");else if(i.lineIndent<a)break}return C?(i.tag=p,i.anchor=h,i.kind="sequence",i.result=m,!0):!1}function sd(i,a,s){var p,h,m,g,C,S,A=i.tag,N=i.anchor,W={},M=Object.create(null),P=null,G=null,se=null,ue=!1,H=!1,I;if(i.firstTabInLine!==-1)return!1;for(i.anchor!==null&&(i.anchorMap[i.anchor]=W),I=i.input.charCodeAt(i.position);I!==0;){if(!ue&&i.firstTabInLine!==-1&&(i.position=i.firstTabInLine,ae(i,"tab characters must not be used in indentation")),p=i.input.charCodeAt(i.position+1),m=i.line,(I===63||I===58)&&kt(p))I===63?(ue&&(kn(i,W,M,P,G,null,g,C,S),P=G=se=null),H=!0,ue=!0,h=!0):ue?(ue=!1,h=!0):ae(i,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),i.position+=1,I=p;else{if(g=i.line,C=i.lineStart,S=i.position,!Ln(i,s,mu,!1,!0))break;if(i.line===m){for(I=i.input.charCodeAt(i.position);Yr(I);)I=i.input.charCodeAt(++i.position);if(I===58)I=i.input.charCodeAt(++i.position),kt(I)||ae(i,"a whitespace character is expected after the key-value separator within a block mapping"),ue&&(kn(i,W,M,P,G,null,g,C,S),P=G=se=null),H=!0,ue=!1,h=!1,P=i.tag,G=i.result;else if(H)ae(i,"can not read an implicit mapping pair; a colon is missed");else return i.tag=A,i.anchor=N,!0}else if(H)ae(i,"can not read a block mapping entry; a multiline key may not be an implicit key");else return i.tag=A,i.anchor=N,!0}if((i.line===m||i.lineIndent>a)&&(ue&&(g=i.line,C=i.lineStart,S=i.position),Ln(i,a,Zi,!0,h)&&(ue?G=i.result:se=i.result),ue||(kn(i,W,M,P,G,se,g,C,S),P=G=se=null),ze(i,!0,-1),I=i.input.charCodeAt(i.position)),(i.line===m||i.lineIndent>a)&&I!==0)ae(i,"bad indentation of a mapping entry");else if(i.lineIndent<a)break}return ue&&kn(i,W,M,P,G,null,g,C,S),H&&(i.tag=A,i.anchor=N,i.kind="mapping",i.result=W),H}function ud(i){var a,s=!1,p=!1,h,m,g;if(g=i.input.charCodeAt(i.position),g!==33)return!1;if(i.tag!==null&&ae(i,"duplication of a tag property"),g=i.input.charCodeAt(++i.position),g===60?(s=!0,g=i.input.charCodeAt(++i.position)):g===33?(p=!0,h="!!",g=i.input.charCodeAt(++i.position)):h="!",a=i.position,s){do g=i.input.charCodeAt(++i.position);while(g!==0&&g!==62);i.position<i.length?(m=i.input.slice(a,i.position),g=i.input.charCodeAt(++i.position)):ae(i,"unexpected end of the stream within a verbatim tag")}else{for(;g!==0&&!kt(g);)g===33&&(p?ae(i,"tag suffix cannot contain exclamation marks"):(h=i.input.slice(a-1,i.position+1),bu.test(h)||ae(i,"named tag handle cannot contain such characters"),p=!0,a=i.position+1)),g=i.input.charCodeAt(++i.position);m=i.input.slice(a,i.position),Zh.test(m)&&ae(i,"tag suffix cannot contain flow indicator characters")}m&&!xu.test(m)&&ae(i,"tag name cannot contain such characters: "+m);try{m=decodeURIComponent(m)}catch{ae(i,"tag name is malformed: "+m)}return s?i.tag=m:Er.call(i.tagMap,h)?i.tag=i.tagMap[h]+m:h==="!"?i.tag="!"+m:h==="!!"?i.tag="tag:yaml.org,2002:"+m:ae(i,'undeclared tag handle "'+h+'"'),!0}function fd(i){var a,s;if(s=i.input.charCodeAt(i.position),s!==38)return!1;for(i.anchor!==null&&ae(i,"duplication of an anchor property"),s=i.input.charCodeAt(++i.position),a=i.position;s!==0&&!kt(s)&&!Sn(s);)s=i.input.charCodeAt(++i.position);return i.position===a&&ae(i,"name of an anchor node must contain at least one character"),i.anchor=i.input.slice(a,i.position),!0}function cd(i){var a,s,p;if(p=i.input.charCodeAt(i.position),p!==42)return!1;for(p=i.input.charCodeAt(++i.position),a=i.position;p!==0&&!kt(p)&&!Sn(p);)p=i.input.charCodeAt(++i.position);return i.position===a&&ae(i,"name of an alias node must contain at least one character"),s=i.input.slice(a,i.position),Er.call(i.anchorMap,s)||ae(i,'unidentified alias "'+s+'"'),i.result=i.anchorMap[s],ze(i,!0,-1),!0}function Ln(i,a,s,p,h){var m,g,C,S=1,A=!1,N=!1,W,M,P,G,se,ue;if(i.listener!==null&&i.listener("open",i),i.tag=null,i.anchor=null,i.kind=null,i.result=null,m=g=C=Zi===s||yu===s,p&&ze(i,!0,-1)&&(A=!0,i.lineIndent>a?S=1:i.lineIndent===a?S=0:i.lineIndent<a&&(S=-1)),S===1)for(;ud(i)||fd(i);)ze(i,!0,-1)?(A=!0,C=m,i.lineIndent>a?S=1:i.lineIndent===a?S=0:i.lineIndent<a&&(S=-1)):C=!1;if(C&&(C=A||h),(S===1||Zi===s)&&(Qi===s||mu===s?se=a:se=a+1,ue=i.position-i.lineStart,S===1?C&&(Os(i,ue)||sd(i,ue,se))||ld(i,se)?N=!0:(g&&ad(i,se)||id(i,se)||od(i,se)?N=!0:cd(i)?(N=!0,(i.tag!==null||i.anchor!==null)&&ae(i,"alias node should not have any properties")):nd(i,se,Qi===s)&&(N=!0,i.tag===null&&(i.tag="?")),i.anchor!==null&&(i.anchorMap[i.anchor]=i.result)):S===0&&(N=C&&Os(i,ue))),i.tag===null)i.anchor!==null&&(i.anchorMap[i.anchor]=i.result);else if(i.tag==="?"){for(i.result!==null&&i.kind!=="scalar"&&ae(i,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+i.kind+'"'),W=0,M=i.implicitTypes.length;W<M;W+=1)if(G=i.implicitTypes[W],G.resolve(i.result)){i.result=G.construct(i.result),i.tag=G.tag,i.anchor!==null&&(i.anchorMap[i.anchor]=i.result);break}}else if(i.tag!=="!"){if(Er.call(i.typeMap[i.kind||"fallback"],i.tag))G=i.typeMap[i.kind||"fallback"][i.tag];else for(G=null,P=i.typeMap.multi[i.kind||"fallback"],W=0,M=P.length;W<M;W+=1)if(i.tag.slice(0,P[W].tag.length)===P[W].tag){G=P[W];break}G||ae(i,"unknown tag !<"+i.tag+">"),i.result!==null&&G.kind!==i.kind&&ae(i,"unacceptable node kind for !<"+i.tag+'> tag; it should be "'+G.kind+'", not "'+i.kind+'"'),G.resolve(i.result,i.tag)?(i.result=G.construct(i.result,i.tag),i.anchor!==null&&(i.anchorMap[i.anchor]=i.result)):ae(i,"cannot resolve a node with !<"+i.tag+"> explicit tag")}return i.listener!==null&&i.listener("close",i),i.tag!==null||i.anchor!==null||N}function hd(i){var a=i.position,s,p,h,m=!1,g;for(i.version=null,i.checkLineBreaks=i.legacy,i.tagMap=Object.create(null),i.anchorMap=Object.create(null);(g=i.input.charCodeAt(i.position))!==0&&(ze(i,!0,-1),g=i.input.charCodeAt(i.position),!(i.lineIndent>0||g!==37));){for(m=!0,g=i.input.charCodeAt(++i.position),s=i.position;g!==0&&!kt(g);)g=i.input.charCodeAt(++i.position);for(p=i.input.slice(s,i.position),h=[],p.length<1&&ae(i,"directive name must not be less than one character in length");g!==0;){for(;Yr(g);)g=i.input.charCodeAt(++i.position);if(g===35){do g=i.input.charCodeAt(++i.position);while(g!==0&&!Qt(g));break}if(Qt(g))break;for(s=i.position;g!==0&&!kt(g);)g=i.input.charCodeAt(++i.position);h.push(i.input.slice(s,i.position))}g!==0&&bl(i),Er.call(Es,p)?Es[p](i,p,h):Vi(i,'unknown document directive "'+p+'"')}if(ze(i,!0,-1),i.lineIndent===0&&i.input.charCodeAt(i.position)===45&&i.input.charCodeAt(i.position+1)===45&&i.input.charCodeAt(i.position+2)===45?(i.position+=3,ze(i,!0,-1)):m&&ae(i,"directives end mark is expected"),Ln(i,i.lineIndent-1,Zi,!1,!0),ze(i,!0,-1),i.checkLineBreaks&&Qh.test(i.input.slice(a,i.position))&&Vi(i,"non-ASCII line breaks are interpreted as content"),i.documents.push(i.result),i.position===i.lineStart&&ro(i)){i.input.charCodeAt(i.position)===46&&(i.position+=3,ze(i,!0,-1));return}if(i.position<i.length-1)ae(i,"end of the stream or a document separator is expected");else return}function ku(i,a){i=String(i),a=a||{},i.length!==0&&(i.charCodeAt(i.length-1)!==10&&i.charCodeAt(i.length-1)!==13&&(i+=`
`),i.charCodeAt(0)===65279&&(i=i.slice(1)));var s=new rd(i,a),p=i.indexOf("\0");for(p!==-1&&(s.position=p,ae(s,"null byte is not allowed in input")),s.input+="\0";s.input.charCodeAt(s.position)===32;)s.lineIndent+=1,s.position+=1;for(;s.position<s.length-1;)hd(s);return s.documents}function dd(i,a,s){a!==null&&typeof a=="object"&&typeof s>"u"&&(s=a,a=null);var p=ku(i,s);if(typeof a!="function")return p;for(var h=0,m=p.length;h<m;h+=1)a(p[h])}function pd(i,a){var s=ku(i,a);if(s.length!==0){if(s.length===1)return s[0];throw new xt("expected a single document in the stream, but found more")}}var vd=dd,gd=pd,Lu={loadAll:vd,load:gd},Tu=Object.prototype.toString,Au=Object.prototype.hasOwnProperty,wl=65279,md=9,si=10,yd=13,bd=32,xd=33,wd=34,hl=35,Cd=37,Sd=38,kd=39,Ld=42,Eu=44,Td=45,$i=58,Ad=61,Ed=62,Md=63,Od=64,Mu=91,Ou=93,Id=96,Iu=123,Nd=124,Nu=125,ct={};ct[0]="\\0";ct[7]="\\a";ct[8]="\\b";ct[9]="\\t";ct[10]="\\n";ct[11]="\\v";ct[12]="\\f";ct[13]="\\r";ct[27]="\\e";ct[34]='\\"';ct[92]="\\\\";ct[133]="\\N";ct[160]="\\_";ct[8232]="\\L";ct[8233]="\\P";var Dd=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],Fd=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function Bd(i,a){var s,p,h,m,g,C,S;if(a===null)return{};for(s={},p=Object.keys(a),h=0,m=p.length;h<m;h+=1)g=p[h],C=String(a[g]),g.slice(0,2)==="!!"&&(g="tag:yaml.org,2002:"+g.slice(2)),S=i.compiledTypeMap.fallback[g],S&&Au.call(S.styleAliases,C)&&(C=S.styleAliases[C]),s[g]=C;return s}function Hd(i){var a,s,p;if(a=i.toString(16).toUpperCase(),i<=255)s="x",p=2;else if(i<=65535)s="u",p=4;else if(i<=4294967295)s="U",p=8;else throw new xt("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+s+Qe.repeat("0",p-a.length)+a}var Wd=1,ui=2;function Pd(i){this.schema=i.schema||yl,this.indent=Math.max(1,i.indent||2),this.noArrayIndent=i.noArrayIndent||!1,this.skipInvalid=i.skipInvalid||!1,this.flowLevel=Qe.isNothing(i.flowLevel)?-1:i.flowLevel,this.styleMap=Bd(this.schema,i.styles||null),this.sortKeys=i.sortKeys||!1,this.lineWidth=i.lineWidth||80,this.noRefs=i.noRefs||!1,this.noCompatMode=i.noCompatMode||!1,this.condenseFlow=i.condenseFlow||!1,this.quotingType=i.quotingType==='"'?ui:Wd,this.forceQuotes=i.forceQuotes||!1,this.replacer=typeof i.replacer=="function"?i.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Is(i,a){for(var s=Qe.repeat(" ",a),p=0,h=-1,m="",g,C=i.length;p<C;)h=i.indexOf(`
`,p),h===-1?(g=i.slice(p),p=C):(g=i.slice(p,h+1),p=h+1),g.length&&g!==`
`&&(m+=s),m+=g;return m}function dl(i,a){return`
`+Qe.repeat(" ",i.indent*a)}function Rd(i,a){var s,p,h;for(s=0,p=i.implicitTypes.length;s<p;s+=1)if(h=i.implicitTypes[s],h.resolve(a))return!0;return!1}function eo(i){return i===bd||i===md}function fi(i){return 32<=i&&i<=126||161<=i&&i<=55295&&i!==8232&&i!==8233||57344<=i&&i<=65533&&i!==wl||65536<=i&&i<=1114111}function Ns(i){return fi(i)&&i!==wl&&i!==yd&&i!==si}function Ds(i,a,s){var p=Ns(i),h=p&&!eo(i);return(s?p:p&&i!==Eu&&i!==Mu&&i!==Ou&&i!==Iu&&i!==Nu)&&i!==hl&&!(a===$i&&!h)||Ns(a)&&!eo(a)&&i===hl||a===$i&&h}function _d(i){return fi(i)&&i!==wl&&!eo(i)&&i!==Td&&i!==Md&&i!==$i&&i!==Eu&&i!==Mu&&i!==Ou&&i!==Iu&&i!==Nu&&i!==hl&&i!==Sd&&i!==Ld&&i!==xd&&i!==Nd&&i!==Ad&&i!==Ed&&i!==kd&&i!==wd&&i!==Cd&&i!==Od&&i!==Id}function Ud(i){return!eo(i)&&i!==$i}function li(i,a){var s=i.charCodeAt(a),p;return s>=55296&&s<=56319&&a+1<i.length&&(p=i.charCodeAt(a+1),p>=56320&&p<=57343)?(s-55296)*1024+p-56320+65536:s}function Du(i){var a=/^\n* /;return a.test(i)}var Fu=1,pl=2,Bu=3,Hu=4,Cn=5;function zd(i,a,s,p,h,m,g,C){var S,A=0,N=null,W=!1,M=!1,P=p!==-1,G=-1,se=_d(li(i,0))&&Ud(li(i,i.length-1));if(a||g)for(S=0;S<i.length;A>=65536?S+=2:S++){if(A=li(i,S),!fi(A))return Cn;se=se&&Ds(A,N,C),N=A}else{for(S=0;S<i.length;A>=65536?S+=2:S++){if(A=li(i,S),A===si)W=!0,P&&(M=M||S-G-1>p&&i[G+1]!==" ",G=S);else if(!fi(A))return Cn;se=se&&Ds(A,N,C),N=A}M=M||P&&S-G-1>p&&i[G+1]!==" "}return!W&&!M?se&&!g&&!h(i)?Fu:m===ui?Cn:pl:s>9&&Du(i)?Cn:g?m===ui?Cn:pl:M?Hu:Bu}function Gd(i,a,s,p,h){i.dump=function(){if(a.length===0)return i.quotingType===ui?'""':"''";if(!i.noCompatMode&&(Dd.indexOf(a)!==-1||Fd.test(a)))return i.quotingType===ui?'"'+a+'"':"'"+a+"'";var m=i.indent*Math.max(1,s),g=i.lineWidth===-1?-1:Math.max(Math.min(i.lineWidth,40),i.lineWidth-m),C=p||i.flowLevel>-1&&s>=i.flowLevel;function S(A){return Rd(i,A)}switch(zd(a,C,i.indent,g,S,i.quotingType,i.forceQuotes&&!p,h)){case Fu:return a;case pl:return"'"+a.replace(/'/g,"''")+"'";case Bu:return"|"+Fs(a,i.indent)+Bs(Is(a,m));case Hu:return">"+Fs(a,i.indent)+Bs(Is(Yd(a,g),m));case Cn:return'"'+Kd(a)+'"';default:throw new xt("impossible error: invalid scalar style")}}()}function Fs(i,a){var s=Du(i)?String(a):"",p=i[i.length-1]===`
`,h=p&&(i[i.length-2]===`
`||i===`
`),m=h?"+":p?"":"-";return s+m+`
`}function Bs(i){return i[i.length-1]===`
`?i.slice(0,-1):i}function Yd(i,a){for(var s=/(\n+)([^\n]*)/g,p=function(){var A=i.indexOf(`
`);return A=A!==-1?A:i.length,s.lastIndex=A,Hs(i.slice(0,A),a)}(),h=i[0]===`
`||i[0]===" ",m,g;g=s.exec(i);){var C=g[1],S=g[2];m=S[0]===" ",p+=C+(!h&&!m&&S!==""?`
`:"")+Hs(S,a),h=m}return p}function Hs(i,a){if(i===""||i[0]===" ")return i;for(var s=/ [^ ]/g,p,h=0,m,g=0,C=0,S="";p=s.exec(i);)C=p.index,C-h>a&&(m=g>h?g:C,S+=`
`+i.slice(h,m),h=m+1),g=C;return S+=`
`,i.length-h>a&&g>h?S+=i.slice(h,g)+`
`+i.slice(g+1):S+=i.slice(h),S.slice(1)}function Kd(i){for(var a="",s=0,p,h=0;h<i.length;s>=65536?h+=2:h++)s=li(i,h),p=ct[s],!p&&fi(s)?(a+=i[h],s>=65536&&(a+=i[h+1])):a+=p||Hd(s);return a}function jd(i,a,s){var p="",h=i.tag,m,g,C;for(m=0,g=s.length;m<g;m+=1)C=s[m],i.replacer&&(C=i.replacer.call(s,String(m),C)),(sr(i,a,C,!1,!1)||typeof C>"u"&&sr(i,a,null,!1,!1))&&(p!==""&&(p+=","+(i.condenseFlow?"":" ")),p+=i.dump);i.tag=h,i.dump="["+p+"]"}function Ws(i,a,s,p){var h="",m=i.tag,g,C,S;for(g=0,C=s.length;g<C;g+=1)S=s[g],i.replacer&&(S=i.replacer.call(s,String(g),S)),(sr(i,a+1,S,!0,!0,!1,!0)||typeof S>"u"&&sr(i,a+1,null,!0,!0,!1,!0))&&((!p||h!=="")&&(h+=dl(i,a)),i.dump&&si===i.dump.charCodeAt(0)?h+="-":h+="- ",h+=i.dump);i.tag=m,i.dump=h||"[]"}function qd(i,a,s){var p="",h=i.tag,m=Object.keys(s),g,C,S,A,N;for(g=0,C=m.length;g<C;g+=1)N="",p!==""&&(N+=", "),i.condenseFlow&&(N+='"'),S=m[g],A=s[S],i.replacer&&(A=i.replacer.call(s,S,A)),sr(i,a,S,!1,!1)&&(i.dump.length>1024&&(N+="? "),N+=i.dump+(i.condenseFlow?'"':"")+":"+(i.condenseFlow?"":" "),sr(i,a,A,!1,!1)&&(N+=i.dump,p+=N));i.tag=h,i.dump="{"+p+"}"}function Xd(i,a,s,p){var h="",m=i.tag,g=Object.keys(s),C,S,A,N,W,M;if(i.sortKeys===!0)g.sort();else if(typeof i.sortKeys=="function")g.sort(i.sortKeys);else if(i.sortKeys)throw new xt("sortKeys must be a boolean or a function");for(C=0,S=g.length;C<S;C+=1)M="",(!p||h!=="")&&(M+=dl(i,a)),A=g[C],N=s[A],i.replacer&&(N=i.replacer.call(s,A,N)),sr(i,a+1,A,!0,!0,!0)&&(W=i.tag!==null&&i.tag!=="?"||i.dump&&i.dump.length>1024,W&&(i.dump&&si===i.dump.charCodeAt(0)?M+="?":M+="? "),M+=i.dump,W&&(M+=dl(i,a)),sr(i,a+1,N,!0,W)&&(i.dump&&si===i.dump.charCodeAt(0)?M+=":":M+=": ",M+=i.dump,h+=M));i.tag=m,i.dump=h||"{}"}function Ps(i,a,s){var p,h,m,g,C,S;for(h=s?i.explicitTypes:i.implicitTypes,m=0,g=h.length;m<g;m+=1)if(C=h[m],(C.instanceOf||C.predicate)&&(!C.instanceOf||typeof a=="object"&&a instanceof C.instanceOf)&&(!C.predicate||C.predicate(a))){if(s?C.multi&&C.representName?i.tag=C.representName(a):i.tag=C.tag:i.tag="?",C.represent){if(S=i.styleMap[C.tag]||C.defaultStyle,Tu.call(C.represent)==="[object Function]")p=C.represent(a,S);else if(Au.call(C.represent,S))p=C.represent[S](a,S);else throw new xt("!<"+C.tag+'> tag resolver accepts not "'+S+'" style');i.dump=p}return!0}return!1}function sr(i,a,s,p,h,m,g){i.tag=null,i.dump=s,Ps(i,s,!1)||Ps(i,s,!0);var C=Tu.call(i.dump),S=p,A;p&&(p=i.flowLevel<0||i.flowLevel>a);var N=C==="[object Object]"||C==="[object Array]",W,M;if(N&&(W=i.duplicates.indexOf(s),M=W!==-1),(i.tag!==null&&i.tag!=="?"||M||i.indent!==2&&a>0)&&(h=!1),M&&i.usedDuplicates[W])i.dump="*ref_"+W;else{if(N&&M&&!i.usedDuplicates[W]&&(i.usedDuplicates[W]=!0),C==="[object Object]")p&&Object.keys(i.dump).length!==0?(Xd(i,a,i.dump,h),M&&(i.dump="&ref_"+W+i.dump)):(qd(i,a,i.dump),M&&(i.dump="&ref_"+W+" "+i.dump));else if(C==="[object Array]")p&&i.dump.length!==0?(i.noArrayIndent&&!g&&a>0?Ws(i,a-1,i.dump,h):Ws(i,a,i.dump,h),M&&(i.dump="&ref_"+W+i.dump)):(jd(i,a,i.dump),M&&(i.dump="&ref_"+W+" "+i.dump));else if(C==="[object String]")i.tag!=="?"&&Gd(i,i.dump,a,m,S);else{if(C==="[object Undefined]")return!1;if(i.skipInvalid)return!1;throw new xt("unacceptable kind of an object to dump "+C)}i.tag!==null&&i.tag!=="?"&&(A=encodeURI(i.tag[0]==="!"?i.tag.slice(1):i.tag).replace(/!/g,"%21"),i.tag[0]==="!"?A="!"+A:A.slice(0,18)==="tag:yaml.org,2002:"?A="!!"+A.slice(18):A="!<"+A+">",i.dump=A+" "+i.dump)}return!0}function Jd(i,a){var s=[],p=[],h,m;for(vl(i,s,p),h=0,m=p.length;h<m;h+=1)a.duplicates.push(s[p[h]]);a.usedDuplicates=new Array(m)}function vl(i,a,s){var p,h,m;if(i!==null&&typeof i=="object")if(h=a.indexOf(i),h!==-1)s.indexOf(h)===-1&&s.push(h);else if(a.push(i),Array.isArray(i))for(h=0,m=i.length;h<m;h+=1)vl(i[h],a,s);else for(p=Object.keys(i),h=0,m=p.length;h<m;h+=1)vl(i[p[h]],a,s)}function Qd(i,a){a=a||{};var s=new Pd(a);s.noRefs||Jd(i,s);var p=i;return s.replacer&&(p=s.replacer.call({"":p},"",p)),sr(s,0,p,!0,!0)?s.dump+`
`:""}var Zd=Qd,Vd={dump:Zd};function Cl(i,a){return function(){throw new Error("Function yaml."+i+" is removed in js-yaml 4. Use yaml."+a+" instead, which is now safe by default.")}}var $d=nt,ep=Vs,tp=ru,rp=au,np=su,ip=yl,op=Lu.load,lp=Lu.loadAll,ap=Vd.dump,sp=xt,up={binary:du,float:lu,map:tu,null:nu,pairs:vu,set:gu,timestamp:cu,bool:iu,int:ou,merge:hu,omap:pu,seq:eu,str:$s},fp=Cl("safeLoad","load"),cp=Cl("safeLoadAll","loadAll"),hp=Cl("safeDump","dump"),dp={Type:$d,Schema:ep,FAILSAFE_SCHEMA:tp,JSON_SCHEMA:rp,CORE_SCHEMA:np,DEFAULT_SCHEMA:ip,load:op,loadAll:lp,dump:ap,YAMLException:sp,types:up,safeLoad:fp,safeLoadAll:cp,safeDump:hp};class wn extends Error{constructor(a,s){super(`${a} at position ${s}`),this.position=s}}const Wu=32,pp=10,Pu=9,Ru=13,vp=160,gp=8192,mp=8202,yp=8239,bp=8287,xp=12288;function wp(i){return/^[0-9A-Fa-f]$/.test(i)}function zr(i){return i>="0"&&i<="9"}function Cp(i){return i>=" "}function qi(i){return`,:[]/{}()
+`.includes(i)}function Rs(i){return i>="a"&&i<="z"||i>="A"&&i<="Z"||i==="_"||i==="$"}function _s(i){return i>="a"&&i<="z"||i>="A"&&i<="Z"||i==="_"||i==="$"||i>="0"&&i<="9"}const Us=/^(http|https|ftp|mailto|file|data|irc):\/\/$/,zs=/^[A-Za-z0-9-._~:/?#@!$&'()*+;=]$/;function Gs(i){return`,[]/{}
+`.includes(i)}function Ys(i){return Ji(i)||Sp.test(i)}const Sp=/^[[{\w-]$/;function kp(i){return i===`
`||i==="\r"||i==="	"||i==="\b"||i==="\f"}function Gr(i,a){const s=i.charCodeAt(a);return s===Wu||s===pp||s===Pu||s===Ru}function Lp(i,a){const s=i.charCodeAt(a);return s===Wu||s===Pu||s===Ru}function Tp(i,a){const s=i.charCodeAt(a);return s===vp||s>=gp&&s<=mp||s===yp||s===bp||s===xp}function Ji(i){return _u(i)||gl(i)}function _u(i){return i==='"'||i==="“"||i==="”"}function Ks(i){return i==='"'}function gl(i){return i==="'"||i==="‘"||i==="’"||i==="`"||i==="´"}function js(i){return i==="'"}function oi(i,a){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const p=i.lastIndexOf(a);return p!==-1?i.substring(0,p)+(s?"":i.substring(p+1)):i}function _t(i,a){let s=i.length;if(!Gr(i,s-1))return i+a;for(;Gr(i,s-1);)s--;return i.substring(0,s)+a+i.substring(s)}function Ap(i,a,s){return i.substring(0,a)+i.substring(a+s)}function Ep(i){return/[,\n][ \t\r]*$/.test(i)}const Mp={"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},Op={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function Ip(i){let a=0,s="";A(["```","[```","{```"]),m()||R(),A(["```","```]","```}"]);const h=W(",");for(h&&g(),Ys(i[a])&&Ep(s)?(h||(s=_t(s,",")),H()):h&&(s=oi(s,","));i[a]==="}"||i[a]==="]";)a++,g();if(a>=i.length)return s;E();function m(){g();const j=se()||ue()||I()||oe()||ce()||F(!1)||z();return g(),j}function g(){let j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const le=a;let fe=C(j);do fe=S(),fe&&(fe=C(j));while(fe);return a>le}function C(j){const le=j?Gr:Lp;let fe="";for(;;)if(le(i,a))fe+=i[a],a++;else if(Tp(i,a))fe+=" ",a++;else break;return fe.length>0?(s+=fe,!0):!1}function S(){if(i[a]==="/"&&i[a+1]==="*"){for(;a<i.length&&!Np(i,a);)a++;return a+=2,!0}if(i[a]==="/"&&i[a+1]==="/"){for(;a<i.length&&i[a]!==`
`;)a++;return!0}return!1}function A(j){if(N(j)){if(Rs(i[a]))for(;a<i.length&&_s(i[a]);)a++;return g(),!0}return!1}function N(j){for(const le of j){const fe=a+le.length;if(i.slice(a,fe)===le)return a=fe,!0}return!1}function W(j){return i[a]===j?(s+=i[a],a++,!0):!1}function M(j){return i[a]===j?(a++,!0):!1}function P(){return M("\\")}function G(){return g(),i[a]==="."&&i[a+1]==="."&&i[a+2]==="."?(a+=3,g(),M(","),!0):!1}function se(){if(i[a]==="{"){s+="{",a++,g(),M(",")&&g();let j=!0;for(;a<i.length&&i[a]!=="}";){let le;if(j?(le=!0,j=!1):(le=W(","),le||(s=_t(s,",")),g()),G(),!(I()||F(!0))){i[a]==="}"||i[a]==="{"||i[a]==="]"||i[a]==="["||i[a]===void 0?s=oi(s,","):w();break}g();const Ie=W(":"),ht=a>=i.length;Ie||(Ys(i[a])||ht?s=_t(s,":"):Me()),m()||(Ie||ht?s+="null":Me())}return i[a]==="}"?(s+="}",a++):s=_t(s,"}"),!0}return!1}function ue(){if(i[a]==="["){s+="[",a++,g(),M(",")&&g();let j=!0;for(;a<i.length&&i[a]!=="]";)if(j?j=!1:W(",")||(s=_t(s,",")),G(),!m()){s=oi(s,",");break}return i[a]==="]"?(s+="]",a++):s=_t(s,"]"),!0}return!1}function H(){let j=!0,le=!0;for(;le;)j?j=!1:W(",")||(s=_t(s,",")),le=m();le||(s=oi(s,",")),s=`[
${s}
]`}function I(){let j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,fe=i[a]==="\\";if(fe&&(a++,fe=!0),Ji(i[a])){const Ie=Ks(i[a])?Ks:js(i[a])?js:gl(i[a])?gl:_u,ht=a,Ge=s.length;let we='"';for(a++;;){if(a>=i.length){const xe=V(a-1);return!j&&qi(i.charAt(xe))?(a=ht,s=s.substring(0,Ge),I(!0)):(we=_t(we,'"'),s+=we,!0)}if(a===le)return we=_t(we,'"'),s+=we,!0;if(Ie(i[a])){const xe=a,de=we.length;if(we+='"',a++,s+=we,g(!1),j||a>=i.length||qi(i[a])||Ji(i[a])||zr(i[a]))return te(),!0;const re=V(xe-1),ge=i.charAt(re);if(ge===",")return a=ht,s=s.substring(0,Ge),I(!1,re);if(qi(ge))return a=ht,s=s.substring(0,Ge),I(!0);s=s.substring(0,Ge),a=xe+1,we=`${we.substring(0,de)}\\${we.substring(de)}`}else if(j&&Gs(i[a])){if(i[a-1]===":"&&Us.test(i.substring(ht+1,a+2)))for(;a<i.length&&zs.test(i[a]);)we+=i[a],a++;return we=_t(we,'"'),s+=we,te(),!0}else if(i[a]==="\\"){const xe=i.charAt(a+1);if(Op[xe]!==void 0)we+=i.slice(a,a+2),a+=2;else if(xe==="u"){let re=2;for(;re<6&&wp(i[a+re]);)re++;re===6?(we+=i.slice(a,a+6),a+=6):a+re>=i.length?a=i.length:Ae()}else we+=xe,a+=2}else{const xe=i.charAt(a);xe==='"'&&i[a-1]!=="\\"?(we+=`\\${xe}`,a++):kp(xe)?(we+=Mp[xe],a++):(Cp(xe)||he(xe),we+=xe,a++)}fe&&P()}}return!1}function te(){let j=!1;for(g();i[a]==="+";){j=!0,a++,g(),s=oi(s,'"',!0);const le=s.length;I()?s=Ap(s,le,1):s=_t(s,'"')}return j}function oe(){const j=a;if(i[a]==="-"){if(a++,J())return $(j),!0;if(!zr(i[a]))return a=j,!1}for(;zr(i[a]);)a++;if(i[a]==="."){if(a++,J())return $(j),!0;if(!zr(i[a]))return a=j,!1;for(;zr(i[a]);)a++}if(i[a]==="e"||i[a]==="E"){if(a++,(i[a]==="-"||i[a]==="+")&&a++,J())return $(j),!0;if(!zr(i[a]))return a=j,!1;for(;zr(i[a]);)a++}if(!J())return a=j,!1;if(a>j){const le=i.slice(j,a),fe=/^0\d/.test(le);return s+=fe?`"${le}"`:le,!0}return!1}function ce(){return ve("true","true")||ve("false","false")||ve("null","null")||ve("True","true")||ve("False","false")||ve("None","null")}function ve(j,le){return i.slice(a,a+j.length)===j?(s+=le,a+=j.length,!0):!1}function F(j){const le=a;if(Rs(i[a])){for(;a<i.length&&_s(i[a]);)a++;let fe=a;for(;Gr(i,fe);)fe++;if(i[fe]==="(")return a=fe+1,m(),i[a]===")"&&(a++,i[a]===";"&&a++),!0}for(;a<i.length&&!Gs(i[a])&&!Ji(i[a])&&(!j||i[a]!==":");)a++;if(i[a-1]===":"&&Us.test(i.substring(le,a+2)))for(;a<i.length&&zs.test(i[a]);)a++;if(a>le){for(;Gr(i,a-1)&&a>0;)a--;const fe=i.slice(le,a);return s+=fe==="undefined"?"null":JSON.stringify(fe),i[a]==='"'&&a++,!0}}function z(){if(i[a]==="/"){const j=a;for(a++;a<i.length&&(i[a]!=="/"||i[a-1]==="\\");)a++;return a++,s+=`"${i.substring(j,a)}"`,!0}}function V(j){let le=j;for(;le>0&&Gr(i,le);)le--;return le}function J(){return a>=i.length||qi(i[a])||Gr(i,a)}function $(j){s+=`${i.slice(j,a)}0`}function he(j){throw new wn(`Invalid character ${JSON.stringify(j)}`,a)}function E(){throw new wn(`Unexpected character ${JSON.stringify(i[a])}`,a)}function R(){throw new wn("Unexpected end of json string",i.length)}function w(){throw new wn("Object key expected",a)}function Me(){throw new wn("Colon expected",a)}function Ae(){const j=i.slice(a,a+6);throw new wn(`Invalid unicode character "${j}"`,a)}}function Np(i,a){return i[a]==="*"&&i[a+1]==="/"}class Dp{constructor(){this.sidebar=document.querySelector(".sidebar"),this.navItems=document.querySelectorAll(".nav-item"),this.currentToolId=null,this.init()}init(){this.navItems.forEach(a=>{a.addEventListener("click",()=>{const s=a.dataset.tool;this.setActiveTool(s)})})}setActiveTool(a){if(this.currentToolId===a)return;this.navItems.forEach(p=>{p.classList.toggle("active",p.dataset.tool===a)}),this.currentToolId=a;const s=new CustomEvent("toolChanged",{detail:{toolId:a}});document.dispatchEvent(s),history.pushState({},"",`#${a}`)}getInitialToolId(){const a=window.location.hash.slice(1);return a&&Array.from(this.navItems).some(s=>s.dataset.tool===a)?a:this.navItems[0].dataset.tool}activateInitialTool(){const a=this.getInitialToolId();this.setActiveTool(a)}}class Fp{constructor(){this.container=document.getElementById("json-tool"),this.formatButton=document.getElementById("format-json"),this.stringifyButton=document.getElementById("stringify-json"),this.minifyButton=document.getElementById("minify-json"),this.errorMessage=document.getElementById("json-error"),this.successMessage=document.getElementById("json-success"),this.initEditors(),this.init()}initEditors(){this.inputEditor=CodeMirror(document.getElementById("json-input-editor"),{mode:{name:"javascript",json:!0},theme:"material-darker",lineNumbers:!0,lineWrapping:!0,matchBrackets:!0,autoCloseBrackets:!0,tabSize:2,placeholder:"Paste JSON here..."}),this.outputEditor=CodeMirror(document.getElementById("json-output-editor"),{mode:{name:"javascript",json:!0},theme:"material-darker",lineNumbers:!0,lineWrapping:!0,matchBrackets:!0,tabSize:2,readOnly:!0})}init(){this.formatButton.addEventListener("click",()=>this.formatJson()),this.stringifyButton.addEventListener("click",()=>this.stringifyJson()),this.minifyButton.addEventListener("click",()=>this.minifyJson()),this.inputEditor.on("change",()=>{this.clearMessages();const a=this.inputEditor.getValue();a!==a.trim()&&this.inputEditor.setValue(a.trim())})}parseAndRepair(a){const s=window.jsonrepair(a);return JSON.parse(s)}formatJson(){const a=this.inputEditor.getValue().trim();if(this.clearMessages(),!a){this.outputEditor.setValue("");return}try{const s=this.parseAndRepair(a),p=JSON.stringify(s,null,2);this.outputEditor.setValue(p),this.showSuccess("JSON formatted successfully.")}catch(s){this.showError(`Error: ${s.message}`)}}stringifyJson(){const a=this.inputEditor.getValue().trim();if(this.clearMessages(),!a){this.outputEditor.setValue("");return}try{const s=this.parseAndRepair(a),p=JSON.stringify(JSON.stringify(s));this.outputEditor.setValue(p),this.showSuccess("JSON stringified successfully.")}catch(s){this.showError(`Error: ${s.message}`)}}minifyJson(){const a=this.inputEditor.getValue().trim();if(this.clearMessages(),!a){this.outputEditor.setValue("");return}try{const s=this.parseAndRepair(a),p=JSON.stringify(s);this.outputEditor.setValue(p),this.showSuccess("JSON minified successfully.")}catch(s){this.showError(`Error: ${s.message}`)}}clearMessages(){this.errorMessage.classList.remove("visible"),this.successMessage.classList.remove("visible")}showError(a){this.errorMessage.textContent=a,this.errorMessage.classList.add("visible"),this.successMessage.classList.remove("visible")}showSuccess(a){this.successMessage.textContent=a,this.successMessage.classList.add("visible"),this.errorMessage.classList.remove("visible")}}class Bp{constructor(){this.container=document.getElementById("yaml-tool"),this.formatButton=document.getElementById("format-yaml"),this.minifyButton=document.getElementById("minify-yaml"),this.toJsonButton=document.getElementById("to-json-yaml"),this.errorMessage=document.getElementById("yaml-error"),this.successMessage=document.getElementById("yaml-success"),this.initEditors(),this.init()}initEditors(){this.inputEditor=CodeMirror(document.getElementById("yaml-input-editor"),{mode:"yaml",theme:"material-darker",lineNumbers:!0,lineWrapping:!0,matchBrackets:!0,autoCloseBrackets:!0,tabSize:2,placeholder:"Paste Yaml here..."}),this.outputEditor=CodeMirror(document.getElementById("yaml-output-editor"),{mode:"yaml",theme:"material-darker",lineNumbers:!0,lineWrapping:!0,matchBrackets:!0,tabSize:2,readOnly:!0})}init(){this.formatButton.addEventListener("click",()=>this.formatYaml()),this.minifyButton.addEventListener("click",()=>this.minifyYaml()),this.toJsonButton.addEventListener("click",()=>this.convertToJson()),this.inputEditor.on("change",()=>{this.clearMessages();const a=this.inputEditor.getValue();a!==a.trim()&&this.inputEditor.setValue(a.trim())})}parseAndRepair(a){const s=window.jsonrepair(a);return JSON.parse(s)}formatYaml(){const a=this.inputEditor.getValue().trim();if(this.clearMessages(),!a){this.outputEditor.setValue("");return}try{const s=window.jsyaml.load(a);this.outputEditor.setOption("mode","yaml");const p=window.jsyaml.dump(s,{indent:2,lineWidth:-1,noRefs:!0});this.outputEditor.setValue(p),this.showSuccess("YAML formatted successfully.")}catch(s){this.showError(`Error: ${s.message}`)}}minifyYaml(){const a=this.inputEditor.getValue().trim();if(this.clearMessages(),!a){this.outputEditor.setValue("");return}try{const s=window.jsyaml.load(a);this.outputEditor.setOption("mode","yaml");const p=window.jsyaml.dump(s,{indent:0,flowLevel:0,lineWidth:-1,noRefs:!0});this.outputEditor.setValue(p),this.showSuccess("YAML minified successfully.")}catch(s){this.showError(`Error: ${s.message}`)}}convertToJson(){const a=this.inputEditor.getValue().trim();if(this.clearMessages(),!a){this.outputEditor.setValue("");return}try{const s=window.jsyaml.load(a),p=JSON.stringify(s,null,2);this.outputEditor.setOption("mode",{name:"javascript",json:!0}),this.outputEditor.setValue(p),this.showSuccess("Converted to JSON successfully.")}catch(s){this.showError(`Error: ${s.message}`)}}clearMessages(){this.errorMessage.classList.remove("visible"),this.successMessage.classList.remove("visible")}showError(a){this.errorMessage.textContent=a,this.errorMessage.classList.add("visible"),this.successMessage.classList.remove("visible")}showSuccess(a){this.successMessage.textContent=a,this.successMessage.classList.add("visible"),this.errorMessage.classList.remove("visible")}}class Hp{constructor(){this.container=document.getElementById("base64-tool"),this.input=document.getElementById("base64-input"),this.output=document.getElementById("base64-output"),this.encodeButton=document.getElementById("encode-button"),this.decodeButton=document.getElementById("decode-button"),this.errorMessage=document.getElementById("base64-error"),this.mode="encode",this.init()}init(){this.encodeButton.addEventListener("click",()=>{this.setMode("encode"),this.processInput()}),this.decodeButton.addEventListener("click",()=>{this.setMode("decode"),this.processInput()});const a=document.getElementById("process-base64");a&&a.addEventListener("click",()=>this.processInput()),this.input.addEventListener("paste",()=>{setTimeout(()=>this.processInput(),100)}),this.input.addEventListener("input",()=>{this.errorMessage.classList.remove("visible")})}setMode(a){this.mode=a,this.encodeButton.classList.toggle("active",a==="encode"),this.decodeButton.classList.toggle("active",a==="decode");const s=document.getElementById("process-base64");s&&(s.textContent=a==="encode"?"Encode":"Decode")}processInput(){const a=this.input.value;if(this.errorMessage.classList.remove("visible"),!a){this.output.value="";return}try{if(this.mode==="encode"){const s=btoa(a);this.output.value=s}else try{const s=atob(a);this.output.value=s}catch(s){throw s.message.includes("not correctly encoded")?new Error("Invalid Base64 string. Please check your input and ensure it contains only valid Base64 characters."):s}}catch(s){this.showError(s.message)}}showError(a){this.errorMessage.textContent=a,this.errorMessage.classList.add("visible")}}let Xi;const Wp=new Uint8Array(16);function Uu(){if(!Xi&&(Xi=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Xi))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Xi(Wp)}const Pp=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function to(i){return typeof i=="string"&&Pp.test(i)}const rt=[];for(let i=0;i<256;++i)rt.push((i+256).toString(16).slice(1));function Sl(i,a=0){return rt[i[a+0]]+rt[i[a+1]]+rt[i[a+2]]+rt[i[a+3]]+"-"+rt[i[a+4]]+rt[i[a+5]]+"-"+rt[i[a+6]]+rt[i[a+7]]+"-"+rt[i[a+8]]+rt[i[a+9]]+"-"+rt[i[a+10]]+rt[i[a+11]]+rt[i[a+12]]+rt[i[a+13]]+rt[i[a+14]]+rt[i[a+15]]}let qs,al,sl=0,ul=0;function Rp(i,a,s){let p=0;const h=new Array(16);i=i||{};let m=i.node||qs,g=i.clockseq!==void 0?i.clockseq:al;if(m==null||g==null){const M=i.random||(i.rng||Uu)();m==null&&(m=qs=[M[0]|1,M[1],M[2],M[3],M[4],M[5]]),g==null&&(g=al=(M[6]<<8|M[7])&16383)}let C=i.msecs!==void 0?i.msecs:Date.now(),S=i.nsecs!==void 0?i.nsecs:ul+1;const A=C-sl+(S-ul)/1e4;if(A<0&&i.clockseq===void 0&&(g=g+1&16383),(A<0||C>sl)&&i.nsecs===void 0&&(S=0),S>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");sl=C,ul=S,al=g,C+=122192928e5;const N=((C&268435455)*1e4+S)%4294967296;h[p++]=N>>>24&255,h[p++]=N>>>16&255,h[p++]=N>>>8&255,h[p++]=N&255;const W=C/4294967296*1e4&268435455;h[p++]=W>>>8&255,h[p++]=W&255,h[p++]=W>>>24&15|16,h[p++]=W>>>16&255,h[p++]=g>>>8|128,h[p++]=g&255;for(let M=0;M<6;++M)h[p+M]=m[M];return a||Sl(h)}function _p(i){if(!to(i))throw TypeError("Invalid UUID");let a;const s=new Uint8Array(16);return s[0]=(a=parseInt(i.slice(0,8),16))>>>24,s[1]=a>>>16&255,s[2]=a>>>8&255,s[3]=a&255,s[4]=(a=parseInt(i.slice(9,13),16))>>>8,s[5]=a&255,s[6]=(a=parseInt(i.slice(14,18),16))>>>8,s[7]=a&255,s[8]=(a=parseInt(i.slice(19,23),16))>>>8,s[9]=a&255,s[10]=(a=parseInt(i.slice(24,36),16))/1099511627776&255,s[11]=a/4294967296&255,s[12]=a>>>24&255,s[13]=a>>>16&255,s[14]=a>>>8&255,s[15]=a&255,s}function Up(i){i=unescape(encodeURIComponent(i));const a=[];for(let s=0;s<i.length;++s)a.push(i.charCodeAt(s));return a}const zp="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Gp="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function zu(i,a,s){function p(h,m,g,C){var S;if(typeof h=="string"&&(h=Up(h)),typeof m=="string"&&(m=_p(m)),((S=m)===null||S===void 0?void 0:S.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let A=new Uint8Array(16+h.length);if(A.set(m),A.set(h,m.length),A=s(A),A[6]=A[6]&15|a,A[8]=A[8]&63|128,g){C=C||0;for(let N=0;N<16;++N)g[C+N]=A[N];return g}return Sl(A)}try{p.name=i}catch{}return p.DNS=zp,p.URL=Gp,p}function Yp(i){if(typeof i=="string"){const a=unescape(encodeURIComponent(i));i=new Uint8Array(a.length);for(let s=0;s<a.length;++s)i[s]=a.charCodeAt(s)}return Kp(jp(qp(i),i.length*8))}function Kp(i){const a=[],s=i.length*32,p="0123456789abcdef";for(let h=0;h<s;h+=8){const m=i[h>>5]>>>h%32&255,g=parseInt(p.charAt(m>>>4&15)+p.charAt(m&15),16);a.push(g)}return a}function Gu(i){return(i+64>>>9<<4)+14+1}function jp(i,a){i[a>>5]|=128<<a%32,i[Gu(a)-1]=a;let s=1732584193,p=-271733879,h=-1732584194,m=271733878;for(let g=0;g<i.length;g+=16){const C=s,S=p,A=h,N=m;s=at(s,p,h,m,i[g],7,-680876936),m=at(m,s,p,h,i[g+1],12,-389564586),h=at(h,m,s,p,i[g+2],17,606105819),p=at(p,h,m,s,i[g+3],22,-1044525330),s=at(s,p,h,m,i[g+4],7,-176418897),m=at(m,s,p,h,i[g+5],12,1200080426),h=at(h,m,s,p,i[g+6],17,-1473231341),p=at(p,h,m,s,i[g+7],22,-45705983),s=at(s,p,h,m,i[g+8],7,1770035416),m=at(m,s,p,h,i[g+9],12,-1958414417),h=at(h,m,s,p,i[g+10],17,-42063),p=at(p,h,m,s,i[g+11],22,-1990404162),s=at(s,p,h,m,i[g+12],7,1804603682),m=at(m,s,p,h,i[g+13],12,-40341101),h=at(h,m,s,p,i[g+14],17,-1502002290),p=at(p,h,m,s,i[g+15],22,1236535329),s=st(s,p,h,m,i[g+1],5,-165796510),m=st(m,s,p,h,i[g+6],9,-1069501632),h=st(h,m,s,p,i[g+11],14,643717713),p=st(p,h,m,s,i[g],20,-373897302),s=st(s,p,h,m,i[g+5],5,-701558691),m=st(m,s,p,h,i[g+10],9,38016083),h=st(h,m,s,p,i[g+15],14,-660478335),p=st(p,h,m,s,i[g+4],20,-405537848),s=st(s,p,h,m,i[g+9],5,568446438),m=st(m,s,p,h,i[g+14],9,-1019803690),h=st(h,m,s,p,i[g+3],14,-187363961),p=st(p,h,m,s,i[g+8],20,1163531501),s=st(s,p,h,m,i[g+13],5,-1444681467),m=st(m,s,p,h,i[g+2],9,-51403784),h=st(h,m,s,p,i[g+7],14,1735328473),p=st(p,h,m,s,i[g+12],20,-1926607734),s=ut(s,p,h,m,i[g+5],4,-378558),m=ut(m,s,p,h,i[g+8],11,-2022574463),h=ut(h,m,s,p,i[g+11],16,1839030562),p=ut(p,h,m,s,i[g+14],23,-35309556),s=ut(s,p,h,m,i[g+1],4,-1530992060),m=ut(m,s,p,h,i[g+4],11,1272893353),h=ut(h,m,s,p,i[g+7],16,-155497632),p=ut(p,h,m,s,i[g+10],23,-1094730640),s=ut(s,p,h,m,i[g+13],4,681279174),m=ut(m,s,p,h,i[g],11,-358537222),h=ut(h,m,s,p,i[g+3],16,-722521979),p=ut(p,h,m,s,i[g+6],23,76029189),s=ut(s,p,h,m,i[g+9],4,-640364487),m=ut(m,s,p,h,i[g+12],11,-421815835),h=ut(h,m,s,p,i[g+15],16,530742520),p=ut(p,h,m,s,i[g+2],23,-995338651),s=ft(s,p,h,m,i[g],6,-198630844),m=ft(m,s,p,h,i[g+7],10,1126891415),h=ft(h,m,s,p,i[g+14],15,-1416354905),p=ft(p,h,m,s,i[g+5],21,-57434055),s=ft(s,p,h,m,i[g+12],6,1700485571),m=ft(m,s,p,h,i[g+3],10,-1894986606),h=ft(h,m,s,p,i[g+10],15,-1051523),p=ft(p,h,m,s,i[g+1],21,-2054922799),s=ft(s,p,h,m,i[g+8],6,1873313359),m=ft(m,s,p,h,i[g+15],10,-30611744),h=ft(h,m,s,p,i[g+6],15,-1560198380),p=ft(p,h,m,s,i[g+13],21,1309151649),s=ft(s,p,h,m,i[g+4],6,-145523070),m=ft(m,s,p,h,i[g+11],10,-1120210379),h=ft(h,m,s,p,i[g+2],15,718787259),p=ft(p,h,m,s,i[g+9],21,-343485551),s=Tr(s,C),p=Tr(p,S),h=Tr(h,A),m=Tr(m,N)}return[s,p,h,m]}function qp(i){if(i.length===0)return[];const a=i.length*8,s=new Uint32Array(Gu(a));for(let p=0;p<a;p+=8)s[p>>5]|=(i[p/8]&255)<<p%32;return s}function Tr(i,a){const s=(i&65535)+(a&65535);return(i>>16)+(a>>16)+(s>>16)<<16|s&65535}function Xp(i,a){return i<<a|i>>>32-a}function no(i,a,s,p,h,m){return Tr(Xp(Tr(Tr(a,i),Tr(p,m)),h),s)}function at(i,a,s,p,h,m,g){return no(a&s|~a&p,i,a,h,m,g)}function st(i,a,s,p,h,m,g){return no(a&p|s&~p,i,a,h,m,g)}function ut(i,a,s,p,h,m,g){return no(a^s^p,i,a,h,m,g)}function ft(i,a,s,p,h,m,g){return no(s^(a|~p),i,a,h,m,g)}const Jp=zu("v3",48,Yp),Qp=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Xs={randomUUID:Qp};function Zp(i,a,s){if(Xs.randomUUID&&!i)return Xs.randomUUID();i=i||{};const p=i.random||(i.rng||Uu)();return p[6]=p[6]&15|64,p[8]=p[8]&63|128,Sl(p)}function Vp(i,a,s,p){switch(i){case 0:return a&s^~a&p;case 1:return a^s^p;case 2:return a&s^a&p^s&p;case 3:return a^s^p}}function fl(i,a){return i<<a|i>>>32-a}function $p(i){const a=[1518500249,1859775393,2400959708,3395469782],s=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof i=="string"){const g=unescape(encodeURIComponent(i));i=[];for(let C=0;C<g.length;++C)i.push(g.charCodeAt(C))}else Array.isArray(i)||(i=Array.prototype.slice.call(i));i.push(128);const p=i.length/4+2,h=Math.ceil(p/16),m=new Array(h);for(let g=0;g<h;++g){const C=new Uint32Array(16);for(let S=0;S<16;++S)C[S]=i[g*64+S*4]<<24|i[g*64+S*4+1]<<16|i[g*64+S*4+2]<<8|i[g*64+S*4+3];m[g]=C}m[h-1][14]=(i.length-1)*8/Math.pow(2,32),m[h-1][14]=Math.floor(m[h-1][14]),m[h-1][15]=(i.length-1)*8&4294967295;for(let g=0;g<h;++g){const C=new Uint32Array(80);for(let P=0;P<16;++P)C[P]=m[g][P];for(let P=16;P<80;++P)C[P]=fl(C[P-3]^C[P-8]^C[P-14]^C[P-16],1);let S=s[0],A=s[1],N=s[2],W=s[3],M=s[4];for(let P=0;P<80;++P){const G=Math.floor(P/20),se=fl(S,5)+Vp(G,A,N,W)+M+a[G]+C[P]>>>0;M=W,W=N,N=fl(A,30)>>>0,A=S,S=se}s[0]=s[0]+S>>>0,s[1]=s[1]+A>>>0,s[2]=s[2]+N>>>0,s[3]=s[3]+W>>>0,s[4]=s[4]+M>>>0}return[s[0]>>24&255,s[0]>>16&255,s[0]>>8&255,s[0]&255,s[1]>>24&255,s[1]>>16&255,s[1]>>8&255,s[1]&255,s[2]>>24&255,s[2]>>16&255,s[2]>>8&255,s[2]&255,s[3]>>24&255,s[3]>>16&255,s[3]>>8&255,s[3]&255,s[4]>>24&255,s[4]>>16&255,s[4]>>8&255,s[4]&255]}const ev=zu("v5",80,$p);function tv(i){if(!to(i))throw TypeError("Invalid UUID");return parseInt(i.slice(14,15),16)}class rv{constructor(){this.container=document.getElementById("uuid-tool"),this.generateTab=document.getElementById("generate-tab"),this.validateTab=document.getElementById("validate-tab"),this.generateContent=document.getElementById("generate-content"),this.validateContent=document.getElementById("validate-content"),this.versionSelect=document.getElementById("uuid-version"),this.namespaceOptions=document.getElementById("namespace-options"),this.namespaceSelect=document.getElementById("uuid-namespace"),this.customNamespaceContainer=document.getElementById("custom-namespace-container"),this.customNamespaceInput=document.getElementById("custom-namespace"),this.nameInputContainer=document.getElementById("name-input-container"),this.nameInput=document.getElementById("uuid-name"),this.countInput=document.getElementById("uuid-count"),this.uppercaseCheckbox=document.getElementById("uppercase-uuid"),this.generateButton=document.getElementById("generate-uuid"),this.copyButton=document.getElementById("copy-uuid"),this.downloadButton=document.getElementById("download-uuid"),this.resultArea=document.getElementById("uuid-result"),this.errorMessage=document.getElementById("uuid-error"),this.successMessage=document.getElementById("uuid-success"),this.validateInput=document.getElementById("uuid-validate-input"),this.validateButton=document.getElementById("validate-uuid"),this.validateError=document.getElementById("validate-error"),this.validateResult=document.getElementById("validate-result"),this.namespaces={dns:"6ba7b810-9dad-11d1-80b4-00c04fd430c8",url:"6ba7b811-9dad-11d1-80b4-00c04fd430c8",oid:"6ba7b812-9dad-11d1-80b4-00c04fd430c8",x500:"6ba7b814-9dad-11d1-80b4-00c04fd430c8",custom:""},this.init()}init(){this.generateTab.addEventListener("click",()=>this.switchTab("generate")),this.validateTab.addEventListener("click",()=>this.switchTab("validate")),this.versionSelect.addEventListener("change",()=>this.handleVersionChange()),this.namespaceSelect.addEventListener("change",()=>this.handleNamespaceChange()),this.generateButton.addEventListener("click",()=>this.generateUuid()),this.copyButton.addEventListener("click",()=>this.copyToClipboard()),this.downloadButton.addEventListener("click",()=>this.downloadUuid()),this.validateButton.addEventListener("click",()=>this.validateUuid()),this.handleVersionChange()}switchTab(a){a==="generate"?(this.generateTab.classList.add("active"),this.validateTab.classList.remove("active"),this.generateContent.classList.add("active"),this.validateContent.classList.remove("active")):(this.generateTab.classList.remove("active"),this.validateTab.classList.add("active"),this.generateContent.classList.remove("active"),this.validateContent.classList.add("active"))}handleVersionChange(){const a=this.versionSelect.value;this.clearMessages(),a==="v3"||a==="v5"?(this.namespaceOptions.classList.remove("hidden"),this.nameInputContainer.classList.remove("hidden"),this.handleNamespaceChange()):(this.namespaceOptions.classList.add("hidden"),this.nameInputContainer.classList.add("hidden"))}handleNamespaceChange(){this.namespaceSelect.value==="custom"?this.customNamespaceContainer.classList.remove("hidden"):this.customNamespaceContainer.classList.add("hidden")}generateUuid(){this.clearMessages();try{const a=this.versionSelect.value,s=parseInt(this.countInput.value,10);if(isNaN(s)||s<1||s>100)throw new Error("Number of UUIDs must be between 1 and 100");let p=[];for(let h=0;h<s;h++){let m;switch(a){case"v1":m=Rp();break;case"v3":m=this.generateNamespaceUuid(Jp);break;case"v4":m=Zp();break;case"v5":m=this.generateNamespaceUuid(ev);break;default:throw new Error("Invalid UUID version")}this.uppercaseCheckbox.checked&&(m=m.toUpperCase()),p.push(m)}this.resultArea.value=p.join(`
`),this.showSuccess(`Generated ${s} UUID${s>1?"s":""} successfully`)}catch(a){this.showError(a.message)}}generateNamespaceUuid(a){const s=this.namespaceSelect.value;let p;if(s==="custom"){if(p=this.customNamespaceInput.value.trim(),!to(p))throw new Error("Invalid custom namespace UUID")}else p=this.namespaces[s];const h=this.nameInput.value.trim();if(!h)throw new Error("Name is required for v3/v5 UUIDs");return a(h,p)}copyToClipboard(){const a=this.resultArea.value;if(!a){this.showError("No UUID to copy");return}navigator.clipboard.writeText(a).then(()=>{this.showSuccess("Copied to clipboard")}).catch(s=>{this.showError("Failed to copy to clipboard")})}downloadUuid(){const a=this.resultArea.value;if(!a){this.showError("No UUID to download");return}const s=new Blob([a],{type:"text/plain"}),p=URL.createObjectURL(s),h=document.createElement("a");h.href=p,h.download="uuids.txt",document.body.appendChild(h),h.click(),setTimeout(()=>{document.body.removeChild(h),URL.revokeObjectURL(p)},0),this.showSuccess("Downloaded UUIDs")}validateUuid(){this.validateError.classList.remove("visible"),this.validateResult.classList.remove("visible");const a=this.validateInput.value.trim();if(!a){this.showValidateError("Please enter a UUID to validate");return}if(to(a)){const s=tv(a);this.showValidateResult(`Valid UUID (version ${s})`)}else this.showValidateError("Invalid UUID format")}clearMessages(){this.errorMessage.classList.remove("visible"),this.successMessage.classList.remove("visible")}showError(a){this.errorMessage.textContent=a,this.errorMessage.classList.add("visible")}showSuccess(a){this.successMessage.textContent=a,this.successMessage.classList.add("visible")}showValidateError(a){this.validateError.textContent=a,this.validateError.classList.add("visible")}showValidateResult(a){this.validateResult.textContent=a,this.validateResult.classList.add("visible")}}const Js={"json-tool":Fp,"yaml-tool":Bp,"base64-tool":Hp,"uuid-tool":rv};class nv{constructor(){this.sidebar=null,this.activeToolInstance=null,this.toolInstances={},document.addEventListener("DOMContentLoaded",()=>this.init())}init(){console.log("Initializing DevKit..."),this.sidebar=new Dp,document.addEventListener("toolChanged",a=>{this.activateTool(a.detail.toolId)}),this.sidebar.activateInitialTool(),window.addEventListener("popstate",()=>{const a=this.sidebar.getInitialToolId();this.sidebar.setActiveTool(a)})}activateTool(a){document.querySelectorAll(".tool-section").forEach(h=>{h.classList.remove("active")});const p=document.getElementById(a);p&&p.classList.add("active"),!this.toolInstances[a]&&Js[a]&&(this.toolInstances[a]=new Js[a]),this.activeToolInstance=this.toolInstances[a]}}new nv;window.CodeMirror=qc;window.jsyaml=dp;window.jsonrepair=Ip;
